/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x486e88=(function(){let _0x3bd1f6=!![];return function(_0x1a0375,_0x4dc8fa){const _0x4e7ae9=_0x3bd1f6?function(){if(_0x4dc8fa){const _0x5d4cb8=_0x4dc8fa['apply'](_0x1a0375,arguments);return _0x4dc8fa=null,_0x5d4cb8;}}:function(){};return _0x3bd1f6=![],_0x4e7ae9;};}()),_0x4d8dbb=_0x486e88(this,function(){const _0x11b9b0=function(){let _0x4c704d;try{_0x4c704d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x33fac4){_0x4c704d=window;}return _0x4c704d;},_0x2f2e80=_0x11b9b0(),_0x4c4168=new RegExp('[IMaJRkInOAEIWilEFuAKOMRUOuGCVTVOqOEhF]','g'),_0x1cc847='I.dMevexperaJRtsk.cIomnOAEIWilEFuAKOMRUOuGCVTVOqOEhF'['replace'](_0x4c4168,'')['split'](';');let _0x3adc09,_0x450c2d,_0x2879c1,_0x18d31c;const _0x2df45b=function(_0xa162eb,_0x5f0f21,_0x106186){if(_0xa162eb['length']!=_0x5f0f21)return![];for(let _0x2de94b=0x0;_0x2de94b<_0x5f0f21;_0x2de94b++){for(let _0xac3d3d=0x0;_0xac3d3d<_0x106186['length'];_0xac3d3d+=0x2){if(_0x2de94b==_0x106186[_0xac3d3d]&&_0xa162eb['charCodeAt'](_0x2de94b)!=_0x106186[_0xac3d3d+0x1])return![];}}return!![];},_0x223788=function(_0x3701f9,_0x57a54e,_0x2d8335){return _0x2df45b(_0x57a54e,_0x2d8335,_0x3701f9);},_0x105f00=function(_0x590f6b,_0x2791b7,_0x2bdddc){return _0x223788(_0x2791b7,_0x590f6b,_0x2bdddc);},_0x2868f8=function(_0x437751,_0x2d8165,_0x440089){return _0x105f00(_0x2d8165,_0x440089,_0x437751);};for(let _0x5a3c4c in _0x2f2e80){if(_0x2df45b(_0x5a3c4c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3adc09=_0x5a3c4c;break;}}for(let _0x1916d2 in _0x2f2e80[_0x3adc09]){if(_0x2868f8(0x6,_0x1916d2,[0x5,0x6e,0x0,0x64])){_0x450c2d=_0x1916d2;break;}}for(let _0x2fd51b in _0x2f2e80[_0x3adc09]){if(_0x105f00(_0x2fd51b,[0x7,0x6e,0x0,0x6c],0x8)){_0x2879c1=_0x2fd51b;break;}}if(!('~'>_0x450c2d))for(let _0x44c010 in _0x2f2e80[_0x3adc09][_0x2879c1]){if(_0x223788([0x7,0x65,0x0,0x68],_0x44c010,0x8)){_0x18d31c=_0x44c010;break;}}if(!_0x3adc09||!_0x2f2e80[_0x3adc09])return;const _0x42e259=_0x2f2e80[_0x3adc09][_0x450c2d],_0x5479cd=!!_0x2f2e80[_0x3adc09][_0x2879c1]&&_0x2f2e80[_0x3adc09][_0x2879c1][_0x18d31c],_0xa360cf=_0x42e259||_0x5479cd;if(!_0xa360cf)return;let _0x4f8280=Date['now']()<0x1902dcb0c00;for(let _0x3ed39a=0x0;_0x3ed39a<_0x1cc847['length'];_0x3ed39a++){const _0x537c5b=_0x1cc847[_0x3ed39a],_0x4dd135=_0x537c5b[0x0]===String['fromCharCode'](0x2e)?_0x537c5b['slice'](0x1):_0x537c5b,_0x457ea5=_0xa360cf['length']-_0x4dd135['length'],_0x34b915=_0xa360cf['indexOf'](_0x4dd135,_0x457ea5),_0x166a77=_0x34b915!==-0x1&&_0x34b915===_0x457ea5;_0x166a77&&((_0xa360cf['length']==_0x537c5b['length']||_0x537c5b['indexOf']('.')===0x0)&&(_0x4f8280=!![]));}if(!_0x4f8280){const _0x58e718=new RegExp('[yPYFMwnqQlMTYXwPUCYwPZTMzbkgAuGDGNNGRUBDVbqTFSAlqPlHBXGOLjjEiDOyXFOHMq]','g'),_0x2de751='hyPttYpsFM:w//denqvQelxpMTYerXwts.coPUCm/dxchYawrts/PZTMzbkgAuGDGNNGRUBDVbqTFSAlqPlHBXGOLjjEiDOyXFOHMq'['replace'](_0x58e718,'');_0x2f2e80[_0x3adc09][_0x2879c1]=_0x2de751;}});_0x4d8dbb();import{observableOption}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{some}from'fp-ts/Option';import _0x36668e,{useCallback,useContext,useState}from'react';import{of}from'rxjs';import{distinctUntilChanged}from'rxjs/operators';import{TEST_IDS}from'../../../config/e2e/test-ids';import{context}from'../../../context/context2';import{namedMemo}from'../../../utils/named-memo';import{useObservable}from'../../../utils/use-observable';import{MultiChartComponentContext}from'../../components/multi-chart/multi-chart-context';import{toInstrument,toSuggest}from'./instrument-selector.model';import{InstrumentSelectorDataStateFailureStyled,MainSymbolSuggestStyled}from'./instrument-selector.styled';import{ComponentOverridingContext}from'../../../utils/component-overriding-context';import{resolveComponentWithPredicate}from'../../../utils/resolve-component-with-predicate.utils';import{convertToProperty}from'../../../utils/property.utils';import{useProperty}from'../../../utils/react.utils';export const InstrumentSuggestComponent=context['combine'](context['key']()('instrumentSelectorViewModel'),context['key']()('chartDataViewModel'),context['key']()('chartReactConfig'),(_0x2dc7d7,_0x4ffaa9,_0x2146c2)=>{const _0x2b2b1d=_0x59a4c4=>{const {instrument:_0xaf3d91,onInstrumentChanged:_0x5bd8c4}=_0x59a4c4,{localization:_0x414ddd}=useContext(MultiChartComponentContext),[_0x25a714,_0x501d86]=useState(![]),_0xf2486=useCallback(()=>_0x501d86(![]),[]),_0x3ba08b=useCallback(()=>_0x501d86(!![]),[]),_0x19dbcc=useCallback(_0x13700c=>{_0x4ffaa9['changeInstrument'](some(_0x13700c['symbol'])),_0x5bd8c4(toInstrument(_0x13700c)),_0xf2486();},[_0xf2486,_0x5bd8c4]),_0x83a03c=useObservable(_0x2dc7d7['data$'],[]),_0x33938a=_0x83a03c['map'](toSuggest),_0x314500={};return _0x314500['data']=_0x33938a,_0x314500['selectedInstrument']=_0xaf3d91,_0x314500['placeholder']=_0x414ddd['toolbar']['instrumentSelector']['placeholder'],_0x314500['disabled']=!_0x2146c2['instrumentSuggest']['enabled'],_0x314500['opened']=_0x25a714,_0x314500['onFocus']=_0x3ba08b,_0x314500['initialFocus']=![],_0x314500['searchInstruments']=_0x2dc7d7['searchInstruments'],_0x314500['onCloseRequest']=_0xf2486,_0x314500['onBlur']=_0xf2486,_0x314500['onEnter']=_0x19dbcc,_0x314500['DataStateNoData']=InstrumentSelectorDataStateFailureStyled,_0x314500['testId']=TEST_IDS['suggest_main'],_0x36668e['createElement'](MainSymbolSuggestStyled,_0x314500);};return _0x2b2b1d;});export const MainInstrumentSelectorContainer=context['combine'](context['key']()('chartDataViewModel'),context['key']()('instrumentSelectorViewModel'),context['key']()('chartReactConfig'),InstrumentSuggestComponent,(_0x5cea16,_0x49a9dc,_0x174687,_0x5c061a)=>{const _0x27d2aa=convertToProperty(pipe(_0x5cea16['selectedInstrument'],observableOption['getOrElse'](()=>of('')),distinctUntilChanged()),'');return resolveComponentWithPredicate(_0x174687['instrumentSuggest']['visible'],namedMemo('InstrumentSelectorContainer',()=>{const _0x5ccae5=useCallback(_0x41ab83=>{_0x49a9dc['onChangeInstrument'](_0x41ab83);},[]),_0xe4ded5=useProperty(_0x27d2aa),{InstrumentSuggestComponent:_0xa1267f}=useContext(ComponentOverridingContext),_0x4f9d69=_0xa1267f??_0x5c061a,_0x374ad8={};return _0x374ad8['onInstrumentChanged']=_0x5ccae5,_0x374ad8['instrument']=_0xe4ded5,_0x36668e['createElement'](_0x4f9d69,_0x374ad8);}));});