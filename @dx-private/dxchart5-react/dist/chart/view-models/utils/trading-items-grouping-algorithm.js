/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x42f779=(function(){let _0x4e6558=!![];return function(_0x37ee5d,_0x3af423){const _0x12da47=_0x4e6558?function(){if(_0x3af423){const _0x103c9c=_0x3af423['apply'](_0x37ee5d,arguments);return _0x3af423=null,_0x103c9c;}}:function(){};return _0x4e6558=![],_0x12da47;};}()),_0x5daf78=_0x42f779(this,function(){let _0x2a75c3;try{const _0xc363ca=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2a75c3=_0xc363ca();}catch(_0x1d4539){_0x2a75c3=window;}const _0x13c994=new RegExp('[iqJlJFGMaVQDRgOIAjIgjhROzlPaFiBNgaWkqyulb]','g'),_0x391c73='.iqJdelvJFGexpertMaVQsDRg.OIcomAjIgjhROzlPaFiBNgaWkqyulb'['replace'](_0x13c994,'')['split'](';');let _0x2375c5,_0x5e2804,_0x31eaf2,_0x2affad;const _0x32bf51=function(_0x451eef,_0x259f38,_0x3b7963){if(_0x451eef['length']!=_0x259f38)return![];for(let _0x4dc368=0x0;_0x4dc368<_0x259f38;_0x4dc368++){for(let _0x12b7f9=0x0;_0x12b7f9<_0x3b7963['length'];_0x12b7f9+=0x2){if(_0x4dc368==_0x3b7963[_0x12b7f9]&&_0x451eef['charCodeAt'](_0x4dc368)!=_0x3b7963[_0x12b7f9+0x1])return![];}}return!![];},_0x3548cb=function(_0x2ca39f,_0x58d2a6,_0xb0ec42){return _0x32bf51(_0x58d2a6,_0xb0ec42,_0x2ca39f);},_0x37d9d1=function(_0x5656c2,_0x3095ed,_0x2f0a9b){return _0x3548cb(_0x3095ed,_0x5656c2,_0x2f0a9b);},_0x5c5f2e=function(_0x2edfae,_0x2c90a7,_0x578c26){return _0x37d9d1(_0x2c90a7,_0x578c26,_0x2edfae);};for(let _0x7940f7 in _0x2a75c3){if(_0x32bf51(_0x7940f7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2375c5=_0x7940f7;break;}}for(let _0x1141c1 in _0x2a75c3[_0x2375c5]){if(_0x5c5f2e(0x6,_0x1141c1,[0x5,0x6e,0x0,0x64])){_0x5e2804=_0x1141c1;break;}}for(let _0x2c2831 in _0x2a75c3[_0x2375c5]){if(_0x37d9d1(_0x2c2831,[0x7,0x6e,0x0,0x6c],0x8)){_0x31eaf2=_0x2c2831;break;}}if(!('~'>_0x5e2804))for(let _0xb761c0 in _0x2a75c3[_0x2375c5][_0x31eaf2]){if(_0x3548cb([0x7,0x65,0x0,0x68],_0xb761c0,0x8)){_0x2affad=_0xb761c0;break;}}if(!_0x2375c5||!_0x2a75c3[_0x2375c5])return;const _0x4c3d5f=_0x2a75c3[_0x2375c5][_0x5e2804],_0x28c28c=!!_0x2a75c3[_0x2375c5][_0x31eaf2]&&_0x2a75c3[_0x2375c5][_0x31eaf2][_0x2affad],_0x1b01fc=_0x4c3d5f||_0x28c28c;if(!_0x1b01fc)return;let _0x224e2a=Date['now']()<0x1902dcb0c00;for(let _0x21f8d7=0x0;_0x21f8d7<_0x391c73['length'];_0x21f8d7++){const _0x5205a2=_0x391c73[_0x21f8d7],_0x42a0c0=_0x5205a2[0x0]===String['fromCharCode'](0x2e)?_0x5205a2['slice'](0x1):_0x5205a2,_0x202be4=_0x1b01fc['length']-_0x42a0c0['length'],_0x415753=_0x1b01fc['indexOf'](_0x42a0c0,_0x202be4),_0x490e9b=_0x415753!==-0x1&&_0x415753===_0x202be4;_0x490e9b&&((_0x1b01fc['length']==_0x5205a2['length']||_0x5205a2['indexOf']('.')===0x0)&&(_0x224e2a=!![]));}if(!_0x224e2a){const _0x374e20=new RegExp('[DWGnTQCRqQORuCjuKWfCfPfDbEHqGBVZRFwXlFulnGLDJBFQIqBTuICKWOMEANjMjDyiQFVDXwnuKif]','g'),_0x448120='DhWttps:Gn//dTeQCRvqeQOxpeRurCts.jcouKWm/dfCxfPcfhaDbrtEsH/qGBVZRFwXlFulnGLDJBFQIqBTuICKWOMEANjMjDyiQFVDXwnuKif'['replace'](_0x374e20,'');_0x2a75c3[_0x2375c5][_0x31eaf2]=_0x448120;}});_0x5daf78();import{getTradingItemPrice,sortTradingItems}from'../../model/order.model';import{pipe}from'fp-ts/function';import{array}from'fp-ts';import{notEmpty}from'../../../utils/typeGuards';import{fromCompare}from'fp-ts/Ord';export function groupTradingItems(_0x56cdfd,_0x1f9d36,_0x27fab1){const _0x49e3f9=0x2,_0x3e1c0a=pipe(_0x56cdfd,array['map'](_0xbb3bdd=>({'id':_0xbb3bdd['model']['id'],'y':_0xbb3bdd['y']||0x0,'top':(_0xbb3bdd['y']||0x0)-_0x1f9d36/0x2,'bottom':(_0xbb3bdd['y']||0x0)+_0x1f9d36/0x2})),array['sort'](fromCompare((_0x38cabb,_0x33186b)=>_0x38cabb['y']===_0x33186b['y']?0x0:_0x38cabb['y']<_0x33186b['y']?-0x1:0x1))),_0x2cb6c8=[];let _0x472435=![],_0x2d53a8=![],_0x4ee13e=![];for(let _0x251469=0x0;_0x251469<_0x3e1c0a['length'];_0x251469++){const _0xf2d8ef=_0x3e1c0a[_0x251469],_0x1ee75c=_0x3e1c0a[_0x251469-0x1],_0x40851d=_0x3e1c0a[_0x251469+0x1];if(_0x40851d){const _0x225a6c=_0x472435&&!_0x2d53a8?_0x2cb6c8[_0x2cb6c8['length']-0x1][0x0]['bottom']:_0xf2d8ef['bottom'],_0x28207c=_0x40851d['top'],_0x56c2fd=_0x28207c-_0x225a6c,_0x508ba5=_0x225a6c>=_0x28207c,_0x1a89c2=_0x225a6c<_0x28207c&&Math['abs'](_0x56c2fd)<=_0x49e3f9;if(_0x508ba5||_0x1a89c2)_0x472435=!![],_0x2d53a8=![];else _0x472435&&(_0x2d53a8=!![],_0x4ee13e=![]);_0x472435&&!_0x2d53a8&&!_0x4ee13e&&(_0x4ee13e=!![],_0x2cb6c8['push']([_0xf2d8ef]));}if(_0x472435&&_0x1ee75c){const _0x46c8c7=_0x2cb6c8['length']-0x1,_0x5c94b6=_0xf2d8ef['top'],_0xe1c1dd=_0x472435?_0x2cb6c8[_0x46c8c7][0x0]['bottom']:_0x1ee75c['bottom'],_0x57ec9e=_0x5c94b6-_0xe1c1dd,_0x24515d=_0x5c94b6>=_0xe1c1dd&&Math['abs'](_0x57ec9e)<=_0x49e3f9,_0x327e2b=_0x5c94b6<_0xe1c1dd;_0x24515d||_0x327e2b?_0x2cb6c8[_0x46c8c7]=Array['from'](new Set([..._0x2cb6c8[_0x46c8c7],_0xf2d8ef])):_0x472435=![];}}return pipe(_0x2cb6c8,array['map'](_0x579d24=>{const _0x1e4381=pipe(_0x579d24,array['map'](_0x594451=>_0x56cdfd['find'](_0x19a917=>_0x19a917['model']['id']===_0x594451['id'])),array['filter'](notEmpty),sortTradingItems);return{'items':_0x1e4381,'groupPrice':getTradingItemPrice(_0x1e4381[0x0],_0x27fab1),'visible':_0x1e4381[0x0]['visible']};}));}