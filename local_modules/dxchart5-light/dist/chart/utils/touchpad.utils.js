/*
 * Copyright (C) 2002 - 2023 Devexperts LLC
 * This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
 * If a copy of the MPL was not distributed with this file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
const n=/constructor/i.test(window.HTMLElement)||function(t){return t.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari!="undefined"&&window.safari.pushNotification),d=!!window.chrome;export const isFirefox=typeof InstallTrigger!="undefined";const l=navigator.platform.indexOf("Win")>-1;export const touchpadDetector=t=>{let e=!1;const{wheelDeltaY:a,wheelDeltaX:s}=t;if(a||s){let i;if(n)i=a===t.deltaY*-3||Math.abs(a+Math.sign(a))===Math.abs(Math.round(t.deltaY)*3)||Math.abs(a-Math.sign(a))===Math.abs(Math.round(t.deltaY)*3);else if(d){if(i=a+Math.sign(a)===t.deltaY*-3?a+Math.sign(a)===t.deltaY*-3:a===t.deltaY*-3,l){const o=Math.round(t.deltaY)===a||Math.abs(Math.round(t.deltaY)+Math.sign(t.deltaY))===Math.abs(a)||Math.abs(Math.round(t.deltaY)-Math.sign(t.deltaY))===Math.abs(a);i=Math.abs(a)===Math.abs(t.deltaY)||o}}else isFirefox?Math.abs(t.deltaY)>Math.abs(t.deltaX)?i=!1:i=s===t.deltaX*-3:i=a===t.deltaY*-3;i&&(e=!0)}else t.deltaMode===0&&(e=!0);return isFirefox&&t.deltaY>=16&&Math.abs(t.deltaY)%16===0&&(e=!1),t.ctrlKey&&(e=!0),e},getTouchpadSensitivity=t=>t.components.yAxis.type==="percent"?t.scale.zoomSensitivity/5:t.scale.zoomSensitivity;
