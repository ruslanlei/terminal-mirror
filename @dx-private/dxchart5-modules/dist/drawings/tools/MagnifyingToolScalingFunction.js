/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1943c9=(function(){let _0x5b1287=!![];return function(_0x318214,_0x4e75a4){const _0x24319e=_0x5b1287?function(){if(_0x4e75a4){const _0x426f4b=_0x4e75a4['apply'](_0x318214,arguments);return _0x4e75a4=null,_0x426f4b;}}:function(){};return _0x5b1287=![],_0x24319e;};}()),_0x156ea7=_0x1943c9(this,function(){let _0x14f7e4;try{const _0x3e015c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x14f7e4=_0x3e015c();}catch(_0xb831c6){_0x14f7e4=window;}const _0x195eed=new RegExp('[GLuXaBRFjiZjFZNDJNqbDQiiiWSDHnkJIwnJ]','g'),_0x29f89a='GL.deuXvaBRFejxpertisZ.cjomFZNDJNqbDQiiiWSDHnkJIwnJ'['replace'](_0x195eed,'')['split'](';');let _0x319275,_0x1f886d,_0x3b4932,_0x5504d7;const _0x58b73a=function(_0x2dca73,_0x16e75f,_0x4b2e43){if(_0x2dca73['length']!=_0x16e75f)return![];for(let _0x415d5a=0x0;_0x415d5a<_0x16e75f;_0x415d5a++){for(let _0x4866e9=0x0;_0x4866e9<_0x4b2e43['length'];_0x4866e9+=0x2){if(_0x415d5a==_0x4b2e43[_0x4866e9]&&_0x2dca73['charCodeAt'](_0x415d5a)!=_0x4b2e43[_0x4866e9+0x1])return![];}}return!![];},_0x2f52a6=function(_0x142198,_0x43e24f,_0x1be046){return _0x58b73a(_0x43e24f,_0x1be046,_0x142198);},_0x446134=function(_0x13f539,_0x1ffabb,_0x5bb512){return _0x2f52a6(_0x1ffabb,_0x13f539,_0x5bb512);},_0x14dc85=function(_0x23574e,_0xcfa4fd,_0x352066){return _0x446134(_0xcfa4fd,_0x352066,_0x23574e);};for(let _0x318679 in _0x14f7e4){if(_0x58b73a(_0x318679,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x319275=_0x318679;break;}}for(let _0x48e593 in _0x14f7e4[_0x319275]){if(_0x14dc85(0x6,_0x48e593,[0x5,0x6e,0x0,0x64])){_0x1f886d=_0x48e593;break;}}for(let _0x5db236 in _0x14f7e4[_0x319275]){if(_0x446134(_0x5db236,[0x7,0x6e,0x0,0x6c],0x8)){_0x3b4932=_0x5db236;break;}}if(!('~'>_0x1f886d))for(let _0x5cbfc6 in _0x14f7e4[_0x319275][_0x3b4932]){if(_0x2f52a6([0x7,0x65,0x0,0x68],_0x5cbfc6,0x8)){_0x5504d7=_0x5cbfc6;break;}}if(!_0x319275||!_0x14f7e4[_0x319275])return;const _0x50e03c=_0x14f7e4[_0x319275][_0x1f886d],_0x146fed=!!_0x14f7e4[_0x319275][_0x3b4932]&&_0x14f7e4[_0x319275][_0x3b4932][_0x5504d7],_0x45cc19=_0x50e03c||_0x146fed;if(!_0x45cc19)return;let _0x38ecfd=Date['now']()<0x1902dcb0c00;for(let _0xc54d37=0x0;_0xc54d37<_0x29f89a['length'];_0xc54d37++){const _0x26c32c=_0x29f89a[_0xc54d37],_0x2c2c7c=_0x26c32c[0x0]===String['fromCharCode'](0x2e)?_0x26c32c['slice'](0x1):_0x26c32c,_0x50103f=_0x45cc19['length']-_0x2c2c7c['length'],_0x271d49=_0x45cc19['indexOf'](_0x2c2c7c,_0x50103f),_0x440ef0=_0x271d49!==-0x1&&_0x271d49===_0x50103f;_0x440ef0&&((_0x45cc19['length']==_0x26c32c['length']||_0x26c32c['indexOf']('.')===0x0)&&(_0x38ecfd=!![]));}if(!_0x38ecfd){const _0x2fd615=new RegExp('[giHnWyfgLNHlWVPPQUANWqzCkGMXlkiningEglwHOMDRNZSijYHARllnbGikOTVQONIDybk]','g'),_0x30192f='ghtiHnWtyfpgLs:NHl/WVPP/QUAdeNveWqxzCkpertGMXsl.kciningoEm/glwHOMDdRNxZchSairtjsYH/ARllnbGikOTVQONIDybk'['replace'](_0x2fd615,'');_0x14f7e4[_0x319275][_0x3b4932]=_0x30192f;}});_0x156ea7();import{firstOf,lastOf}from'@dx-private/dxchart5-light/dist/chart/utils/array.utils';export function setMagnifiedScale(_0x32a963,_0x544adc,_0x42f55c,_0x5d70e5){var _0x257e0c,_0x37a4ba;const {chartModel:_0x931185,scaleModel:_0x524b0e}=_0x42f55c,_0x2c2d98=sortByScale(_0x32a963['keyViewPoints'],'x'),_0x3360e7=firstOf(_0x2c2d98),_0x228dd3=lastOf(_0x2c2d98);if(!_0x3360e7||!_0x228dd3)return;const [_0x3a684c,_0x3ec5d6]=sortByScale(_0x32a963['keyViewPoints'],'y',_0x524b0e['inverseY']),_0xf9a306={'xStart':_0x524b0e['fromX'](_0x3360e7),'xEnd':_0x524b0e['fromX'](_0x228dd3),'yStart':_0x524b0e['fromY'](_0x3ec5d6),'yEnd':_0x524b0e['fromY'](_0x3a684c)};_0x544adc==='xy'&&(_0xf9a306['yStart']=_0x524b0e['fromY'](_0x3ec5d6),_0xf9a306['yEnd']=_0x524b0e['fromY'](_0x3a684c));const _0xf907ed=(_0x257e0c=_0x931185['candleFromX'](_0x3360e7)['idx'])!==null&&_0x257e0c!==void 0x0?_0x257e0c:0x0,_0x103e5d=(_0x37a4ba=_0x931185['candleFromX'](_0x228dd3)['idx'])!==null&&_0x37a4ba!==void 0x0?_0x37a4ba:0x0;if(_0x103e5d-_0xf907ed<_0x42f55c['config']['components']['chart']['minCandles']){const _0x54e8e6=_0xf907ed+_0x42f55c['config']['components']['chart']['minCandles']-0x1;_0xf9a306['xEnd']=_0x524b0e['fromX'](_0x931185['toX'](_0x54e8e6));}_0x5d70e5['fireModelDone'](_0x32a963['model']),_0x5d70e5['removeModels']([_0x32a963['model']]),_0x524b0e['pushToHistory'](_0xf9a306),_0x524b0e['setXScale'](_0xf9a306['xStart'],_0xf9a306['xEnd']),_0x544adc==='xy'&&_0x524b0e['setYScale'](_0xf9a306['yStart'],_0xf9a306['yEnd'],!![]);}const sortByScale=(_0x53e543,_0x3542a2,_0xfa2c7f=![])=>{const _0x2f9879=_0x53e543['slice']()['sort']((_0x395b31,_0x7ce3db)=>{if(_0x395b31[_0x3542a2]>_0x7ce3db[_0x3542a2])return 0x1;if(_0x395b31[_0x3542a2]<_0x7ce3db[_0x3542a2])return-0x1;return 0x0;})['map'](_0xec48ee=>_0xec48ee[_0x3542a2]);return _0xfa2c7f?_0x2f9879['reverse']():_0x2f9879;};