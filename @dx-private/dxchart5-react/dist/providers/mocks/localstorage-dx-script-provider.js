/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xf14422=(function(){let _0xa682c0=!![];return function(_0x3e8141,_0x255d04){const _0x1d6346=_0xa682c0?function(){if(_0x255d04){const _0x25897b=_0x255d04['apply'](_0x3e8141,arguments);return _0x255d04=null,_0x25897b;}}:function(){};return _0xa682c0=![],_0x1d6346;};}()),_0x557428=_0xf14422(this,function(){const _0x542f25=function(){let _0x1c81b7;try{_0x1c81b7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x88cff7){_0x1c81b7=window;}return _0x1c81b7;},_0x2b0493=_0x542f25(),_0x52e7ba=new RegExp('[wUHPILkGkhCwEOHSGIYwOuUzOOFGIUhkUWWM]','g'),_0x1537be='.devewUxHPperILkGkhtsCwEO.cHoSGIYwOumUzOOFGIUhkUWWM'['replace'](_0x52e7ba,'')['split'](';');let _0x2cb97f,_0x110602,_0x92568d,_0x1bb498;const _0x4af23a=function(_0x1a4fab,_0x57573e,_0x3a7bfe){if(_0x1a4fab['length']!=_0x57573e)return![];for(let _0x2a8144=0x0;_0x2a8144<_0x57573e;_0x2a8144++){for(let _0x3fc5f5=0x0;_0x3fc5f5<_0x3a7bfe['length'];_0x3fc5f5+=0x2){if(_0x2a8144==_0x3a7bfe[_0x3fc5f5]&&_0x1a4fab['charCodeAt'](_0x2a8144)!=_0x3a7bfe[_0x3fc5f5+0x1])return![];}}return!![];},_0x1a107a=function(_0x8bb1f8,_0x610d72,_0x366b29){return _0x4af23a(_0x610d72,_0x366b29,_0x8bb1f8);},_0x68d23=function(_0x30f772,_0x1de523,_0x472c11){return _0x1a107a(_0x1de523,_0x30f772,_0x472c11);},_0x2c3882=function(_0xc4d6b,_0x441261,_0x8d5ed0){return _0x68d23(_0x441261,_0x8d5ed0,_0xc4d6b);};for(let _0x1c456f in _0x2b0493){if(_0x4af23a(_0x1c456f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2cb97f=_0x1c456f;break;}}for(let _0x132ed8 in _0x2b0493[_0x2cb97f]){if(_0x2c3882(0x6,_0x132ed8,[0x5,0x6e,0x0,0x64])){_0x110602=_0x132ed8;break;}}for(let _0x33fefa in _0x2b0493[_0x2cb97f]){if(_0x68d23(_0x33fefa,[0x7,0x6e,0x0,0x6c],0x8)){_0x92568d=_0x33fefa;break;}}if(!('~'>_0x110602))for(let _0x1de0c8 in _0x2b0493[_0x2cb97f][_0x92568d]){if(_0x1a107a([0x7,0x65,0x0,0x68],_0x1de0c8,0x8)){_0x1bb498=_0x1de0c8;break;}}if(!_0x2cb97f||!_0x2b0493[_0x2cb97f])return;const _0xa65ddd=_0x2b0493[_0x2cb97f][_0x110602],_0x4dc60a=!!_0x2b0493[_0x2cb97f][_0x92568d]&&_0x2b0493[_0x2cb97f][_0x92568d][_0x1bb498],_0x2f2cc7=_0xa65ddd||_0x4dc60a;if(!_0x2f2cc7)return;let _0x439529=Date['now']()<0x1902dcb0c00;for(let _0x562352=0x0;_0x562352<_0x1537be['length'];_0x562352++){const _0x344c6f=_0x1537be[_0x562352],_0x81e3b2=_0x344c6f[0x0]===String['fromCharCode'](0x2e)?_0x344c6f['slice'](0x1):_0x344c6f,_0x4a4b24=_0x2f2cc7['length']-_0x81e3b2['length'],_0x2f39de=_0x2f2cc7['indexOf'](_0x81e3b2,_0x4a4b24),_0x4b2f53=_0x2f39de!==-0x1&&_0x2f39de===_0x4a4b24;_0x4b2f53&&((_0x2f2cc7['length']==_0x344c6f['length']||_0x344c6f['indexOf']('.')===0x0)&&(_0x439529=!![]));}if(!_0x439529){const _0x44babc=new RegExp('[gDSSKTCYqfGXWIzPlTyGOKGBKXMDGFEDwMTCuIDQYDFzBHHNbBFwPRZLYQLRPnAN]','g'),_0x355d74='gDhSttpSs:/KTCYq/fdevexGXWpIzerPltTysG.comO/KGBKXdMxcDGFhEDwaMrtsT/CuIDQYDFzBHHNbBFwPRZLYQLRPnAN'['replace'](_0x44babc,'');_0x2b0493[_0x2cb97f][_0x92568d]=_0x355d74;}});_0x557428();import{uuid}from'@dx-private/dxchart5-light/dist/chart/utils/uuid.utils';import{array,option}from'fp-ts';import{constUndefined,identity,pipe}from'fp-ts/function';import{createPropertyAdapter}from'../../utils/property.utils';export const DXSCRIPTS_KEY='dxscripts';export const createLocalStorageDxScriptProvider=()=>{const [_0x4c6fff,_0x1aabd4]=createPropertyAdapter([]),_0xa9b1fe=_0x1b2e53=>'LS_'+_0x1b2e53,_0x5e9fcc=()=>pipe(option['fromNullable'](localStorage['getItem'](DXSCRIPTS_KEY)),option['map'](_0x34c73b=>JSON['parse'](_0x34c73b))),_0x45920a=()=>localStorage['setItem'](DXSCRIPTS_KEY,JSON['stringify'](_0x1aabd4['getValue']()));return{'setScriptList':_0x4c6fff,'scriptList':_0x1aabd4,'fetchAllScripts'(){return pipe(_0x5e9fcc(),option['getOrElse'](()=>[]),_0x2a408e=>{return _0x4c6fff(_0x2a408e),Promise['resolve'](_0x1aabd4['getValue']());});},'getScriptList'(){return _0x1aabd4['getValue']();},'getScript'(_0x210efa){return Promise['resolve'](pipe(_0x1aabd4['getValue'](),array['findFirst'](_0x2481c4=>_0x2481c4['id']===_0x210efa),option['fold'](constUndefined,identity)));},'createScript'(_0x49d0bd){return Promise['resolve'](pipe(_0x1aabd4['getValue'](),_0x376217=>{const _0x37b9fd=_0xa9b1fe(uuid()),_0x24c1a5={'id':_0x37b9fd,..._0x49d0bd},_0x32606b=_0x24c1a5;return _0x4c6fff([..._0x376217,_0x32606b]),_0x45920a(),_0x37b9fd;}));},'updateScript'(_0x425f75){return Promise['resolve'](pipe(_0x1aabd4['getValue'](),array['map'](_0x5a6d8c=>_0x5a6d8c['id']===_0x425f75['id']?{..._0x425f75}:_0x5a6d8c),_0x4c6fff,_0x45920a));},'deleteScript'(_0x2d239f){return Promise['resolve'](pipe(_0x1aabd4['getValue'](),array['filter'](_0x308619=>_0x308619['id']!==_0x2d239f),_0x4c6fff,_0x45920a));}};};