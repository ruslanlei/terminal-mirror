/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x32cda7=(function(){let _0x3395ca=!![];return function(_0x536d5e,_0x17931d){const _0x172b08=_0x3395ca?function(){if(_0x17931d){const _0x1c811b=_0x17931d['apply'](_0x536d5e,arguments);return _0x17931d=null,_0x1c811b;}}:function(){};return _0x3395ca=![],_0x172b08;};}()),_0x3378a7=_0x32cda7(this,function(){let _0x42b2d8;try{const _0x416c6d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x42b2d8=_0x416c6d();}catch(_0x5290c0){_0x42b2d8=window;}const _0x34aeac=new RegExp('[PXSuHCPDOBBDuPJUOzhUTlakzJgXbXuPfzPXLk]','g'),_0x74287a='PXSuH.dCPevDexOpBBerDuPtJs.UcOozhUTmlakzJgXbXuPfzPXLk'['replace'](_0x34aeac,'')['split'](';');let _0x262a14,_0x3806ff,_0x460fb1,_0x15b427;const _0x1d5ca4=function(_0x4c2d22,_0x3a8128,_0x3a9398){if(_0x4c2d22['length']!=_0x3a8128)return![];for(let _0xb37c63=0x0;_0xb37c63<_0x3a8128;_0xb37c63++){for(let _0x58d5bf=0x0;_0x58d5bf<_0x3a9398['length'];_0x58d5bf+=0x2){if(_0xb37c63==_0x3a9398[_0x58d5bf]&&_0x4c2d22['charCodeAt'](_0xb37c63)!=_0x3a9398[_0x58d5bf+0x1])return![];}}return!![];},_0x61179d=function(_0x51d5d9,_0x5b43cd,_0xebef28){return _0x1d5ca4(_0x5b43cd,_0xebef28,_0x51d5d9);},_0x9a1d7c=function(_0x377751,_0x45b71a,_0x305ffd){return _0x61179d(_0x45b71a,_0x377751,_0x305ffd);},_0x41fb2b=function(_0x359e56,_0x8eb375,_0x10db80){return _0x9a1d7c(_0x8eb375,_0x10db80,_0x359e56);};for(let _0x1d0449 in _0x42b2d8){if(_0x1d5ca4(_0x1d0449,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x262a14=_0x1d0449;break;}}for(let _0x489304 in _0x42b2d8[_0x262a14]){if(_0x41fb2b(0x6,_0x489304,[0x5,0x6e,0x0,0x64])){_0x3806ff=_0x489304;break;}}for(let _0x52eab0 in _0x42b2d8[_0x262a14]){if(_0x9a1d7c(_0x52eab0,[0x7,0x6e,0x0,0x6c],0x8)){_0x460fb1=_0x52eab0;break;}}if(!('~'>_0x3806ff))for(let _0x4ff186 in _0x42b2d8[_0x262a14][_0x460fb1]){if(_0x61179d([0x7,0x65,0x0,0x68],_0x4ff186,0x8)){_0x15b427=_0x4ff186;break;}}if(!_0x262a14||!_0x42b2d8[_0x262a14])return;const _0x234257=_0x42b2d8[_0x262a14][_0x3806ff],_0x4a1343=!!_0x42b2d8[_0x262a14][_0x460fb1]&&_0x42b2d8[_0x262a14][_0x460fb1][_0x15b427],_0x898805=_0x234257||_0x4a1343;if(!_0x898805)return;let _0x6abc23=Date['now']()<0x1902dcb0c00;for(let _0x124f18=0x0;_0x124f18<_0x74287a['length'];_0x124f18++){const _0x37d822=_0x74287a[_0x124f18],_0x5360e5=_0x37d822[0x0]===String['fromCharCode'](0x2e)?_0x37d822['slice'](0x1):_0x37d822,_0x1f1102=_0x898805['length']-_0x5360e5['length'],_0x332bbb=_0x898805['indexOf'](_0x5360e5,_0x1f1102),_0x404b6a=_0x332bbb!==-0x1&&_0x332bbb===_0x1f1102;_0x404b6a&&((_0x898805['length']==_0x37d822['length']||_0x37d822['indexOf']('.')===0x0)&&(_0x6abc23=!![]));}if(!_0x6abc23){const _0x3a09f4=new RegExp('[EiPwbRNVVJPCifTAVjIlbzBPIIiUTJWBIDGTXllDzjOjFMPQDEPSIjWgXgELlViwHnZyVjHfMCu]','g'),_0x47cb91='htEiPtps://dwebvRNexperts.cVVom/JdPCxifTcharAtVsjIl/bzBPIIiUTJWBIDGTXllDzjOjFMPQDEPSIjWgXgELlViwHnZyVjHfMCu'['replace'](_0x3a09f4,'');_0x42b2d8[_0x262a14][_0x460fb1]=_0x47cb91;}});_0x3378a7();import{AbstractFigure}from'./model/Figure';import{Vector}from'../model/Vector';import{canvasProperties}from'../components/extended_context/canvas-properties';import{getProperty}from'../components/extended_context/ExtendedContext';import{MathUtils}from'@dx-private/dxchart5-light/dist/chart/utils/math.utils';import{defaultDateTimeFormatter}from'@dx-private/dxchart5-light/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{getFontSizeInPx}from'@dx-private/dxchart5-light/dist/chart/utils/canvas/canvas-text-functions.utils';import{calculateRaysVerticalLabelPlacement}from'../components/extended_context/extended-context.functions';export class FibonacciRays extends AbstractFigure{constructor(_0x207273=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x207273,this['points']=0x2,this['type']='fibonacci_rays',this['her']=!![],this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x5097a8,_0x4c92cd,_0x4bf49a,_0x29a12c){const _0x254196=_0x5097a8['keyViewPoints'],_0x32fbc5=_0x29a12c['config']['components']['drawings'];if(_0x254196['length']===0x2){_0x254196[0x0]['x']=Math['floor'](_0x254196[0x0]['x']),_0x254196[0x1]['x']=Math['floor'](_0x254196[0x1]['x']),_0x254196[0x0]['y']=Math['floor'](_0x254196[0x0]['y']),_0x254196[0x1]['y']=Math['floor'](_0x254196[0x1]['y']);const _0xc8645f=[-0x1,-0.618,-0.5,-0.382,-0.236,0.236,0.382,0.5,0.618,0x1,1.618],_0x4e2f3d=_0x254196[0x0]['x']<_0x254196[0x1]['x']?0x0:0x1,_0x276ec9=0x1-_0x4e2f3d,_0x5af6aa=_0x254196[_0x4e2f3d],_0x43304b=_0x254196[_0x276ec9];if(_0x5af6aa['equals'](_0x43304b))return;const _0x512b7f=_0x43304b['y']-_0x5af6aa['y'],_0xaaa81c=getProperty(_0x4bf49a['background'],canvasProperties['PROP_OPACITY'],0.2),_0x3c6156=_0x4bf49a['rays']['reduce']((_0x23490c,_0x4a94cc,_0x1f9bb2)=>{if(getProperty(_0x4a94cc,canvasProperties['PROP_VISIBLE'],!![])){const _0x422191=getProperty(_0x4a94cc,canvasProperties['PROP_COEFFICIENT'],_0xc8645f[_0x1f9bb2]),_0x2dfce2=new Vector(_0x43304b['x'],_0x43304b['y']-_0x422191*_0x512b7f),_0x52cba6={};_0x52cba6['opacity']=_0xaaa81c;const _0x211980={'rayEnd':_0x2dfce2,'propsPart':Object['assign'](Object['assign']({},_0x4a94cc),_0x52cba6),'coef':_0x422191};return _0x23490c['concat'](_0x211980);}return _0x23490c;},[]);this['sortUnique'](_0x3c6156);if(_0xaaa81c&&_0xaaa81c>0x0){for(let _0x1b5c3b=0x0;_0x1b5c3b<_0x3c6156['length']&&_0x3c6156[_0x1b5c3b]['coef']<0x0;++_0x1b5c3b){const _0x185abd=_0x3c6156[_0x1b5c3b],_0x2f0aa6=_0x1b5c3b+0x1,_0x4e86a3=_0x2f0aa6<_0x3c6156['length']&&_0x3c6156[_0x2f0aa6]['coef']<0x0?_0x3c6156[_0x2f0aa6]['rayEnd']:_0x43304b;this['fillBetweenRays'](_0x4c92cd,_0x5af6aa,_0x185abd,_0x4e86a3);}for(let _0x34250b=_0x3c6156['length']-0x1;_0x34250b>=0x0&&_0x3c6156[_0x34250b]['coef']>0x0;--_0x34250b){const _0x4d1372=_0x3c6156[_0x34250b],_0x42ff45=_0x34250b-0x1,_0x2bace1=_0x42ff45>=0x0&&_0x3c6156[_0x42ff45]['coef']>0x0?_0x3c6156[_0x42ff45]['rayEnd']:_0x43304b;this['fillBetweenRays'](_0x4c92cd,_0x5af6aa,_0x4d1372,_0x2bace1);}}this['drawRay'](_0x4c92cd,_0x5af6aa,_0x43304b,_0x4bf49a['line']);for(const _0x341b66 of _0x3c6156){this['drawRay'](_0x4c92cd,_0x5af6aa,_0x341b66['rayEnd'],_0x341b66['propsPart']);}const _0x53342c=getProperty(_0x4bf49a['labels'],'showCoefficient',!![]);if(_0x53342c){const _0x1dd437=0x3;for(const _0xf7c4ef of _0x3c6156){const _0x4dfeca=_0x4c92cd['rayIntersection'](_0x5af6aa,_0xf7c4ef['rayEnd']);if(_0x4dfeca){const _0x3b4d18=MathUtils['makeDecimal'](_0xf7c4ef['coef'],_0x1dd437),_0x5a2cec={'textFill':_0xf7c4ef['propsPart']['lineColor'],'textBg':'transparent','textFontFamily':_0x32fbc5['fontFamily'],'textSize':getFontSizeInPx(_0x32fbc5['fontSize'])},_0x37e73f=_0x4dfeca['point']['y']>0x0?canvasProperties['PROP_LABEL_PLACEMENT_LEFT']:canvasProperties['PROP_LABEL_PLACEMENT_RIGHT'],_0x15ec53=calculateRaysVerticalLabelPlacement(_0x4c92cd,_0x5af6aa,_0x3c6156,_0x4dfeca);_0x4c92cd['drawText'](_0x4dfeca['point'],_0x3b4d18,_0x37e73f,_0x15ec53,_0x5a2cec);}}}}}['fillBetweenRays'](_0x367aec,_0x68dd4b,_0x5c0226,_0x33e0d9){_0x367aec['beginPath'](),_0x367aec['addFillBetweenRaysPath'](_0x68dd4b,_0x5c0226['rayEnd'],_0x33e0d9),_0x367aec['prepareFill'](_0x5c0226['propsPart']),_0x367aec['fillWithoutHT']();}['drawRay'](_0x2c24ad,_0x18b3d1,_0x371be3,_0x4613b5){_0x2c24ad['beginPath'](),_0x2c24ad['addRayPath'](_0x18b3d1,_0x371be3),_0x2c24ad['prepareStroke'](_0x4613b5),_0x2c24ad['stroke']();}['sortUnique'](_0x1cabbf){_0x1cabbf['sort']((_0x50b669,_0x34e283)=>{if(_0x50b669['coef']<_0x34e283['coef'])return-0x1;if(_0x50b669['coef']>_0x34e283['coef'])return 0x1;return 0x0;});for(let _0x1c57e5=_0x1cabbf['length']-0x1;_0x1c57e5>0x0;--_0x1c57e5){const _0x498af3=_0x1cabbf[_0x1c57e5-0x1],_0x5701ed=_0x1cabbf[_0x1c57e5];_0x498af3['coef']===_0x5701ed['coef']&&_0x1cabbf['splice'](_0x1c57e5,0x1);}}}