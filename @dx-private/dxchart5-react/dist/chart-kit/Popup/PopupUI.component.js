/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1be0ee=(function(){let _0x281517=!![];return function(_0x238527,_0xbb8b){const _0x1915df=_0x281517?function(){if(_0xbb8b){const _0x50c480=_0xbb8b['apply'](_0x238527,arguments);return _0xbb8b=null,_0x50c480;}}:function(){};return _0x281517=![],_0x1915df;};}()),_0x3936b6=_0x1be0ee(this,function(){let _0x18f1a8;try{const _0x4aa494=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x18f1a8=_0x4aa494();}catch(_0x492ac3){_0x18f1a8=window;}const _0x69e0d5=new RegExp('[fGjzkUWEAzuRhLRAhiADHZuMniMRECPnINO]','g'),_0x544ede='fG.jdzekvUWEeAxzpuRhertsL.cRoAmhiADHZuMniMRECPnINO'['replace'](_0x69e0d5,'')['split'](';');let _0x8d66bc,_0x30a943,_0x3e7fae,_0x7e05cb;const _0x55dcd1=function(_0x32aa0c,_0x18a729,_0x4ce77a){if(_0x32aa0c['length']!=_0x18a729)return![];for(let _0x1559dd=0x0;_0x1559dd<_0x18a729;_0x1559dd++){for(let _0x438e8c=0x0;_0x438e8c<_0x4ce77a['length'];_0x438e8c+=0x2){if(_0x1559dd==_0x4ce77a[_0x438e8c]&&_0x32aa0c['charCodeAt'](_0x1559dd)!=_0x4ce77a[_0x438e8c+0x1])return![];}}return!![];},_0x59ca91=function(_0x5a3b42,_0x63d308,_0x23b945){return _0x55dcd1(_0x63d308,_0x23b945,_0x5a3b42);},_0x344b5e=function(_0x2e1e50,_0x29f36f,_0x162587){return _0x59ca91(_0x29f36f,_0x2e1e50,_0x162587);},_0x27c46d=function(_0x9a78b7,_0x2c03e6,_0x180a79){return _0x344b5e(_0x2c03e6,_0x180a79,_0x9a78b7);};for(let _0x4f71b5 in _0x18f1a8){if(_0x55dcd1(_0x4f71b5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x8d66bc=_0x4f71b5;break;}}for(let _0x204d55 in _0x18f1a8[_0x8d66bc]){if(_0x27c46d(0x6,_0x204d55,[0x5,0x6e,0x0,0x64])){_0x30a943=_0x204d55;break;}}for(let _0x342f46 in _0x18f1a8[_0x8d66bc]){if(_0x344b5e(_0x342f46,[0x7,0x6e,0x0,0x6c],0x8)){_0x3e7fae=_0x342f46;break;}}if(!('~'>_0x30a943))for(let _0x6d6b1a in _0x18f1a8[_0x8d66bc][_0x3e7fae]){if(_0x59ca91([0x7,0x65,0x0,0x68],_0x6d6b1a,0x8)){_0x7e05cb=_0x6d6b1a;break;}}if(!_0x8d66bc||!_0x18f1a8[_0x8d66bc])return;const _0x110cd2=_0x18f1a8[_0x8d66bc][_0x30a943],_0x55a6e3=!!_0x18f1a8[_0x8d66bc][_0x3e7fae]&&_0x18f1a8[_0x8d66bc][_0x3e7fae][_0x7e05cb],_0x554644=_0x110cd2||_0x55a6e3;if(!_0x554644)return;let _0x4e0da1=Date['now']()<0x1902dcb0c00;for(let _0x2aff74=0x0;_0x2aff74<_0x544ede['length'];_0x2aff74++){const _0x5badd5=_0x544ede[_0x2aff74],_0x791424=_0x5badd5[0x0]===String['fromCharCode'](0x2e)?_0x5badd5['slice'](0x1):_0x5badd5,_0x3ac05d=_0x554644['length']-_0x791424['length'],_0x1f7991=_0x554644['indexOf'](_0x791424,_0x3ac05d),_0x1ec464=_0x1f7991!==-0x1&&_0x1f7991===_0x3ac05d;_0x1ec464&&((_0x554644['length']==_0x5badd5['length']||_0x5badd5['indexOf']('.')===0x0)&&(_0x4e0da1=!![]));}if(!_0x4e0da1){const _0x3df9bb=new RegExp('[WZWzWyKNnBXOOwkWRODZigYYWNMzqyZNfBYiguXPQHTzMXUiOjFGGIZEVAgXiuUFi]','g'),_0x44dd76='htWZtWpzWyKNnsB:X//OOwdevekWRxperOts.DcoZigYm/YWNMzqyZdNfxBcYhiartgsu/XPQHTzMXUiOjFGGIZEVAgXiuUFi'['replace'](_0x3df9bb,'');_0x18f1a8[_0x8d66bc][_0x3e7fae]=_0x44dd76;}});_0x3936b6();import{Resizable}from're-resizable';import _0xdf291,{forwardRef,memo,useCallback,useContext,useEffect,useLayoutEffect,useMemo,useRef,useState}from'react';import _0x11b107 from'react-draggable';import{CHART_REACT_WRAPPER_ID}from'../../chart/chart-react-app.styled';import{ChartReactAppContext}from'../../chart/defaults';import{createEventTargetContext}from'../EventTargetContext/EventTargetContext';import{Scrollable}from'../Scrollable/Scrollable';import{useA11yModalTabKeyHandler}from'../accessibility/use-a11y-modal-tab-key-handler';import{PopupContainerDraggableStyled,PopupContainerStyled,PopupContentStyled,PopupFooterStyled,PopupGridStyled,PopupHeaderStyled,PopupUIStyled}from'./PopupUI.styled';import{uuid}from'@dx-private/dxchart5-light/dist/chart/utils/uuid.utils';import{animationFrameThrottled}from'@dx-private/dxchart5-light/dist/chart/utils/perfomance/request-animation-frame-throttle.utils';export const {EventTargetProvider:PopupEventTargetProvider,EventTargetConsumer:PopupEventTargetConsumer}=createEventTargetContext();const DEFAULT_MIN_RESIZER_HEIGHT=0x73,DEFAULT_MIN_RESIZER_WIDTH=0x140,DEFAULT_START_SHIFT=0x32,DEFAULT_POPUP_SHIFT=0xa,_0x8fcc88={};_0x8fcc88['x']=0x0,_0x8fcc88['y']=0x0;const DEFAULT_COORDS=_0x8fcc88;export const PopupUI=memo(forwardRef((_0x92bc3,_0xecbb3)=>{const {header:_0x1d52c7,children:_0x32e53f,footer:_0x455fbc,isModal:_0xee5950,shouldCloseOnClickAway:_0xcd7662,onBackdropClick:_0x2fd19d,className:_0x466dbb,isOpened:_0x3033eb,resizable:_0x4ed1fd,draggable:_0x447ca6,scrollable:scrollable=!![],minHeight:minHeight=DEFAULT_MIN_RESIZER_HEIGHT,minWidth:minWidth=DEFAULT_MIN_RESIZER_WIDTH,top:_0x4e289d,left:_0x17fa08,popupOrder:_0x5d49a9,showDividerOnScroll:showDividerOnScroll=![],testId:_0x438ed9,scrollableMode:_0x4d9a7e}=_0x92bc3,_0x534f68=useMemo(()=>'popup_'+uuid(),[]),_0x35c254=useRef(null),_0xfa1bd4=useRef(null),[_0x2d8ebb,_0x1028c5]=useState(null),[_0x28364b,_0xfb3411]=useState(![]),{rootElement:_0x17c3d7,showPopupsOutside:_0x1ea12b,isMobile:_0x5ded19}=useContext(ChartReactAppContext),_0x329f07=useCallback(()=>{const _0xd7b5a7=_0x5ded19?document['documentElement']:_0x1ea12b?document['documentElement']:_0x17c3d7,_0x5de5a3={...DEFAULT_COORDS},_0x7143f0=_0x5de5a3;return _0xd7b5a7&&(_0x7143f0['x']=_0x17fa08||_0xd7b5a7['clientWidth']/0x2,_0x7143f0['y']=_0x4e289d||_0xd7b5a7['clientHeight']/0x2,_0x5d49a9&&(_0x7143f0['x']=_0x7143f0['x']+DEFAULT_START_SHIFT-DEFAULT_POPUP_SHIFT*_0x5d49a9,_0x7143f0['y']=_0x7143f0['y']-DEFAULT_START_SHIFT+DEFAULT_POPUP_SHIFT*_0x5d49a9)),_0x7143f0;},[_0x17fa08,_0x5d49a9,_0x4e289d,_0x1ea12b,_0x5ded19,_0x17c3d7]),[_0x1ff11b,_0xaed5b7]=useState(DEFAULT_COORDS),[_0x4b02d4,_0x17296d]=useState(0x0),[_0x218045,_0x3854fe]=useState(0x0);useLayoutEffect(()=>{const _0x16df4=()=>{_0xaed5b7(_0x329f07());};return _0xaed5b7(_0x329f07()),window['addEventListener']('resize',_0x16df4),()=>{window['removeEventListener']('resize',_0x16df4);};},[_0x329f07]),useEffect(()=>{_0xfa1bd4?.['current']?.['focus']();},[_0xfa1bd4]);const _0x42a520=useCallback(_0x453c67=>{_0x453c67['stopPropagation'](),_0x2fd19d(_0x453c67);},[_0x2fd19d]),_0x4d83e6=useCallback((_0x436f45,_0x400ccf)=>{if(_0x2d8ebb){const {x:_0x425380,y:_0x4d4b23}=_0x400ccf,_0xf44c41={};_0xf44c41['x']=_0x425380,_0xf44c41['y']=_0x4d4b23,_0xaed5b7(_0xf44c41);}},[_0x2d8ebb]),_0x399849=useCallback((_0x9f2bcf,_0xb30dd5,_0x21a898,_0x432e4b)=>{animationFrameThrottled(_0x534f68,()=>{if(_0x35c254['current']){const _0x5553b6=_0x35c254['current'];_0x5553b6['style']['width']=_0x4b02d4+_0x432e4b['width']+'px',_0x5553b6['style']['height']=_0x218045+_0x432e4b['height']+'px',_0x5553b6['style']['maxWidth']=_0x4b02d4+_0x432e4b['width']+'px',_0x5553b6['style']['maxHeight']=_0x218045+_0x432e4b['height']+'px';}});},[_0x4b02d4,_0x218045,_0x534f68]),_0xfd985f=useCallback((_0x43fe00,_0xb77af7,_0x2116cf)=>{if(_0x35c254?.['current']){const {current:{clientWidth:_0x1902ba,clientHeight:_0x537666}}=_0x35c254;_0x17296d(_0x1902ba),_0x3854fe(_0x537666);}},[_0x17296d,_0x3854fe]),_0x2e34e9={};_0x2e34e9['bottom']=!![],_0x2e34e9['bottomRight']=!![],_0x2e34e9['right']=!![],_0x2e34e9['bottomLeft']=![],_0x2e34e9['left']=![],_0x2e34e9['top']=![],_0x2e34e9['topLeft']=![],_0x2e34e9['topRight']=![];const _0x34c1b9={};_0x34c1b9['bottom']=![],_0x34c1b9['bottomRight']=![],_0x34c1b9['right']=![],_0x34c1b9['bottomLeft']=![],_0x34c1b9['left']=![],_0x34c1b9['top']=![],_0x34c1b9['topLeft']=![],_0x34c1b9['topRight']=![];const _0x47628c=useMemo(()=>_0x4ed1fd?_0x2e34e9:_0x34c1b9,[_0x4ed1fd]),_0x1f5926=useMemo(()=>({'ref':_0x272c56=>_0x1028c5(_0x272c56),'isOpened':_0x3033eb}),[_0x3033eb]),_0x26cabc=useA11yModalTabKeyHandler(_0xfa1bd4),_0x5eaa17=useCallback(_0xff8df7=>{_0x26cabc(_0xff8df7['nativeEvent']);},[_0x26cabc]),_0x149665=useCallback((_0x3cdca6,_0x1e4789)=>{showDividerOnScroll&&_0xfb3411(_0x1e4789>0x0);},[showDividerOnScroll]),_0x5971f0={};_0x5971f0['className']=CHART_REACT_WRAPPER_ID+'\x20'+(_0x466dbb??''),_0x5971f0['isModal']=_0xee5950,_0x5971f0['closeOnClickAway']=_0xcd7662,_0x5971f0['isOpened']=_0x3033eb,_0x5971f0['isPopupResizable']=_0x4ed1fd,_0x5971f0['ref']=_0xecbb3,_0x5971f0['showPopupsOutside']=_0x1ea12b,_0x5971f0['isMobile']=_0x5ded19,_0x5971f0['onClick']=_0x42a520;const _0x12208c={};_0x12208c['disabled']=!_0x447ca6,_0x12208c['handle']='.draggable-header',_0x12208c['onDrag']=_0x4d83e6,_0x12208c['position']=_0x1ff11b;const _0x47cf1f={..._0x1f5926};_0x47cf1f['data-test-id']=_0x438ed9;const _0x4ff42c={};_0x4ff42c['minHeight']=minHeight,_0x4ff42c['minWidth']=minWidth,_0x4ff42c['enable']=_0x47628c,_0x4ff42c['onResize']=_0x399849,_0x4ff42c['onResizeStart']=_0xfd985f;const _0x3ea727={};_0x3ea727['role']='dialog',_0x3ea727['aria-modal']='true',_0x3ea727['aria-labelledby']='dialog_header',_0x3ea727['ref']=_0xfa1bd4,_0x3ea727['tabIndex']=0x0,_0x3ea727['onKeyDown']=_0x5eaa17;const _0x2c2226={};_0x2c2226['className']='draggable-header',_0x2c2226['dividerVisible']=_0x28364b;const _0x4205ff={};_0x4205ff['onScroll']=_0x149665,_0x4205ff['mode']=_0x4d9a7e;const _0x58c737={};_0x58c737['ref']=_0x35c254;const _0x1c2fbe={};return _0x1c2fbe['ref']=_0x35c254,_0xdf291['createElement'](PopupUIStyled,_0x5971f0,_0xdf291['createElement'](_0x11b107,_0x12208c,_0xdf291['createElement'](PopupContainerDraggableStyled,null,_0xdf291['createElement'](PopupContainerStyled,_0x47cf1f,_0xdf291['createElement'](Resizable,_0x4ff42c,_0xdf291['createElement'](PopupGridStyled,_0x3ea727,_0xdf291['createElement'](PopupHeaderStyled,_0x2c2226,_0x1d52c7),_0x2d8ebb!==null&&_0xdf291['createElement'](PopupEventTargetProvider,{'value':_0x2d8ebb},scrollable?_0xdf291['createElement'](Scrollable,_0x4205ff,_0xdf291['createElement'](PopupContentStyled,_0x58c737,_0x32e53f)):_0xdf291['createElement'](PopupContentStyled,_0x1c2fbe,_0x32e53f)),_0x455fbc&&_0xdf291['createElement'](PopupFooterStyled,null,_0x455fbc)))))));}));