/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x21a065=(function(){let _0x20554a=!![];return function(_0x519539,_0x64b4a6){const _0x6998cd=_0x20554a?function(){if(_0x64b4a6){const _0x1d10d6=_0x64b4a6['apply'](_0x519539,arguments);return _0x64b4a6=null,_0x1d10d6;}}:function(){};return _0x20554a=![],_0x6998cd;};}()),_0x158c4b=_0x21a065(this,function(){const _0x30de98=function(){let _0x108b35;try{_0x108b35=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2dc9dd){_0x108b35=window;}return _0x108b35;},_0x9f7596=_0x30de98(),_0x18d474=new RegExp('[iMAEzHWNyjOYXzuQDPhlgXZjwPjnTOiIYzwgJ]','g'),_0x48ba5c='i.MAdevEzHexWpNeyrjtsOYX.zcuomQDPhlgXZjwPjnTOiIYzwgJ'['replace'](_0x18d474,'')['split'](';');let _0x161e88,_0x280403,_0x2c6958,_0x41b251;const _0x33d9b9=function(_0x53d587,_0x3b483a,_0x2f021a){if(_0x53d587['length']!=_0x3b483a)return![];for(let _0x1b0a7f=0x0;_0x1b0a7f<_0x3b483a;_0x1b0a7f++){for(let _0x53b303=0x0;_0x53b303<_0x2f021a['length'];_0x53b303+=0x2){if(_0x1b0a7f==_0x2f021a[_0x53b303]&&_0x53d587['charCodeAt'](_0x1b0a7f)!=_0x2f021a[_0x53b303+0x1])return![];}}return!![];},_0xfbf16c=function(_0x23ebca,_0x15bd35,_0x54baaa){return _0x33d9b9(_0x15bd35,_0x54baaa,_0x23ebca);},_0x5560e2=function(_0x47d474,_0x4a2b7a,_0x4fe472){return _0xfbf16c(_0x4a2b7a,_0x47d474,_0x4fe472);},_0x2abbb1=function(_0x78359b,_0x5da2cf,_0x14d98a){return _0x5560e2(_0x5da2cf,_0x14d98a,_0x78359b);};for(let _0x40c24e in _0x9f7596){if(_0x33d9b9(_0x40c24e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x161e88=_0x40c24e;break;}}for(let _0x50d3e6 in _0x9f7596[_0x161e88]){if(_0x2abbb1(0x6,_0x50d3e6,[0x5,0x6e,0x0,0x64])){_0x280403=_0x50d3e6;break;}}for(let _0x2add93 in _0x9f7596[_0x161e88]){if(_0x5560e2(_0x2add93,[0x7,0x6e,0x0,0x6c],0x8)){_0x2c6958=_0x2add93;break;}}if(!('~'>_0x280403))for(let _0x59dcdd in _0x9f7596[_0x161e88][_0x2c6958]){if(_0xfbf16c([0x7,0x65,0x0,0x68],_0x59dcdd,0x8)){_0x41b251=_0x59dcdd;break;}}if(!_0x161e88||!_0x9f7596[_0x161e88])return;const _0x40dcf4=_0x9f7596[_0x161e88][_0x280403],_0x4d5037=!!_0x9f7596[_0x161e88][_0x2c6958]&&_0x9f7596[_0x161e88][_0x2c6958][_0x41b251],_0x5c1f8b=_0x40dcf4||_0x4d5037;if(!_0x5c1f8b)return;let _0x48ee50=Date['now']()<0x1902dcb0c00;for(let _0x48b350=0x0;_0x48b350<_0x48ba5c['length'];_0x48b350++){const _0x3d3a9a=_0x48ba5c[_0x48b350],_0x28dd6f=_0x3d3a9a[0x0]===String['fromCharCode'](0x2e)?_0x3d3a9a['slice'](0x1):_0x3d3a9a,_0x542e74=_0x5c1f8b['length']-_0x28dd6f['length'],_0x2b01f3=_0x5c1f8b['indexOf'](_0x28dd6f,_0x542e74),_0x156cd2=_0x2b01f3!==-0x1&&_0x2b01f3===_0x542e74;_0x156cd2&&((_0x5c1f8b['length']==_0x3d3a9a['length']||_0x3d3a9a['indexOf']('.')===0x0)&&(_0x48ee50=!![]));}if(!_0x48ee50){const _0x4f265d=new RegExp('[EqiNfCMgPPwKSUBqjXEuPBYjYFWZOEyiiSMDjiwuFgCfFlbSfOWgJDbuwZWGZjQjjDf]','g'),_0x1b88bc='EqhitNtfCMgpsPPw://dKevSUBqjeXExuPpBYjertYsF.cWZOomE/dxychiartsi/SMDjiwuFgCfFlbSfOWgJDbuwZWGZjQjjDf'['replace'](_0x4f265d,'');_0x9f7596[_0x161e88][_0x2c6958]=_0x1b88bc;}});_0x158c4b();import _0x34292d,{memo,useCallback,useContext,useEffect,useRef,useState}from'react';import{MultichartSettingsContainer}from'../../containers/multichart-settings.container';import{context}from'../../../context/context2';import{MultiChartDropdownStyled,PopoverStyled}from'./multichart-settings-dropdown.styled';import{useDirectProperty}from'../../../utils/use-property';import{option}from'fp-ts';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{TEST_IDS}from'../../../config/e2e/test-ids';import{namedMemo}from'../../../utils/named-memo';import{useA11yPopFocusController}from'../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{resolveComponentWithPredicate}from'../../../utils/resolve-component-with-predicate.utils';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{ChartReactAppContext}from'../../defaults';import{constVoid}from'fp-ts/function';import{ChartToolbarButtonWithTooltip}from'../chart-toolbar/chart-toolbar-button-with-tooltip.component';const MultichartSettingsDropdown=context['combine'](MultichartSettingsContainer,context['key']()('multiChartViewModel'),context['key']()('localization'),(_0x4149e4,_0x142f6c,_0x4ae0f5)=>namedMemo('MultichartSettingsDropdown',_0x3d5ebe=>{const {popoverContainer:_0x1be800}=_0x3d5ebe,[_0x519359,_0x57a651]=useState(![]),_0x2830a5=option['isSome'](useDirectProperty(_0x142f6c['state'],['maximizedChartId'])),_0x3b055a=useRef(null),_0x42e5b8=useRef(null),{isMobile:_0x3928f7}=useContext(ChartReactAppContext),_0x5d8926=useContext(IconsOverridingContext),{keyboardModeEnabled:_0x389814}=useContext(MultiChartComponentContext),_0x316b8b=useCallback(()=>{_0x57a651(!_0x519359);},[_0x57a651,_0x519359]),_0x3d4638=useCallback(()=>{_0x519359&&_0x57a651(![]);},[_0x57a651,_0x519359]),_0x5e581f=useCallback(createKeyDownHandler(['Space',()=>_0x57a651(!_0x519359)],['ArrowDown',()=>_0x57a651(!_0x519359)],['ArrowUp',()=>_0x57a651(!_0x519359)]),[_0x519359]);useEffect(()=>{_0x2830a5&&_0x57a651(![]);},[_0x2830a5]);const _0x18de16={};_0x18de16['anchorRef']=_0x3b055a,_0x18de16['popRef']=_0x42e5b8,_0x18de16['focusSelector']='button[data-active=\x22true\x22]',useA11yPopFocusController(_0x18de16);const _0x12ea48={};_0x12ea48['ref']=_0x42e5b8;const _0x7b4541={};return _0x7b4541['onLayoutChange']=_0x3d4638,_0x7b4541['closePopover']=_0x3d4638,!_0x3928f7?_0x34292d['createElement'](_0x34292d['Fragment'],null,_0x34292d['createElement'](ChartToolbarButtonWithTooltip,{'ariaLabel':_0x4ae0f5['toolbar']['a11y_buttons']['a11y_multichart_popover'],'ariaExpanded':_0x519359,'ariaHaspopup':!![],'tabIndex':-0x1,'icon':_0x34292d['createElement'](IconWrapper,null,_0x5d8926['toolbar']['multichart']['settings']['mainIcon']),'ref':_0x3b055a,'onClick':_0x316b8b,'onKeyDown':_0x5e581f,'hasMenu':!![],'isActive':_0x519359,'testId':TEST_IDS['multichart_button'],'disableTooltip':_0x519359,'label':_0x4ae0f5['toolbar']['tooltip']['multichart_popover']}),_0x34292d['createElement'](PopoverStyled,{'appendTo':_0x1be800,'anchorRef':_0x3b055a,'align':'start','position':'bottom','opened':_0x519359,'keyboardMode':_0x389814,'onRequestClose':_0x316b8b,'onTabPress':constVoid},_0x34292d['createElement'](MultiChartDropdownStyled,_0x12ea48,_0x34292d['createElement'](_0x4149e4,_0x7b4541)))):_0x34292d['createElement'](_0x34292d['Fragment'],null);}));export const MultiChartSettingsButton=context['combine'](MultichartSettingsDropdown,context['key']()('chartReactConfig'),(_0x3a91de,_0x4612bd)=>resolveComponentWithPredicate(_0x4612bd['multiChart']['enabled'],memo(()=>_0x34292d['createElement'](_0x3a91de,null))));