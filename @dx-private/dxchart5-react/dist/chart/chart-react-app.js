/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x203563=(function(){let _0x19490f=!![];return function(_0x3d0932,_0x119702){const _0x11d118=_0x19490f?function(){if(_0x119702){const _0x21f9d4=_0x119702['apply'](_0x3d0932,arguments);return _0x119702=null,_0x21f9d4;}}:function(){};return _0x19490f=![],_0x11d118;};}()),_0x5605c2=_0x203563(this,function(){let _0x452175;try{const _0x213e86=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x452175=_0x213e86();}catch(_0x232d49){_0x452175=window;}const _0x5e0eed=new RegExp('[GLyTAhuyTNWWZjwIhLazVJHyOaSORVUPqT]','g'),_0x5d706b='.GdeLyvTAhuyeTxpeNrtWs.comWZjwIhLazVJHyOaSORVUPqT'['replace'](_0x5e0eed,'')['split'](';');let _0x5c83cb,_0x18145b,_0x4956bb,_0x5a5630;const _0x4d54b4=function(_0x50e16e,_0x51a3ed,_0x2408de){if(_0x50e16e['length']!=_0x51a3ed)return![];for(let _0x7fa5ba=0x0;_0x7fa5ba<_0x51a3ed;_0x7fa5ba++){for(let _0x276f52=0x0;_0x276f52<_0x2408de['length'];_0x276f52+=0x2){if(_0x7fa5ba==_0x2408de[_0x276f52]&&_0x50e16e['charCodeAt'](_0x7fa5ba)!=_0x2408de[_0x276f52+0x1])return![];}}return!![];},_0xfb5466=function(_0x37bbbf,_0x56e20e,_0x40f417){return _0x4d54b4(_0x56e20e,_0x40f417,_0x37bbbf);},_0x17dddc=function(_0x53d352,_0x2ad337,_0x22ab0b){return _0xfb5466(_0x2ad337,_0x53d352,_0x22ab0b);},_0x273a12=function(_0x4bd277,_0x355492,_0x40ac24){return _0x17dddc(_0x355492,_0x40ac24,_0x4bd277);};for(let _0x541700 in _0x452175){if(_0x4d54b4(_0x541700,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5c83cb=_0x541700;break;}}for(let _0x4486af in _0x452175[_0x5c83cb]){if(_0x273a12(0x6,_0x4486af,[0x5,0x6e,0x0,0x64])){_0x18145b=_0x4486af;break;}}for(let _0x3b4558 in _0x452175[_0x5c83cb]){if(_0x17dddc(_0x3b4558,[0x7,0x6e,0x0,0x6c],0x8)){_0x4956bb=_0x3b4558;break;}}if(!('~'>_0x18145b))for(let _0x2eb0f0 in _0x452175[_0x5c83cb][_0x4956bb]){if(_0xfb5466([0x7,0x65,0x0,0x68],_0x2eb0f0,0x8)){_0x5a5630=_0x2eb0f0;break;}}if(!_0x5c83cb||!_0x452175[_0x5c83cb])return;const _0x4f1a5e=_0x452175[_0x5c83cb][_0x18145b],_0x4ba4c4=!!_0x452175[_0x5c83cb][_0x4956bb]&&_0x452175[_0x5c83cb][_0x4956bb][_0x5a5630],_0x11c0ec=_0x4f1a5e||_0x4ba4c4;if(!_0x11c0ec)return;let _0x1647cf=Date['now']()<0x1902dcb0c00;for(let _0x1cb17b=0x0;_0x1cb17b<_0x5d706b['length'];_0x1cb17b++){const _0x160ce4=_0x5d706b[_0x1cb17b],_0x4d0768=_0x160ce4[0x0]===String['fromCharCode'](0x2e)?_0x160ce4['slice'](0x1):_0x160ce4,_0x4682e7=_0x11c0ec['length']-_0x4d0768['length'],_0x5e077e=_0x11c0ec['indexOf'](_0x4d0768,_0x4682e7),_0x1a8c14=_0x5e077e!==-0x1&&_0x5e077e===_0x4682e7;_0x1a8c14&&((_0x11c0ec['length']==_0x160ce4['length']||_0x160ce4['indexOf']('.')===0x0)&&(_0x1647cf=!![]));}if(!_0x1647cf){const _0x7719d=new RegExp('[jEnHUiIFWDlnfEKQNnIDIIYMqfRgCnigMyPuuTQTyWzTZDquIlnIgiFMHODPNSjAHlYBQJLiKk]','g'),_0x41768a='jhEnttHUpis:/IF/deWDlnfEKQvNexpneIrDtsII.YcoMmqfRg/CdnigxchMyPuartsuTQTy/WzTZDquIlnIgiFMHODPNSjAHlYBQJLiKk'['replace'](_0x7719d,'');_0x452175[_0x5c83cb][_0x4956bb]=_0x41768a;}});_0x5605c2();import{merge}from'@dx-private/dxchart5-light/dist/chart/utils/merge.utils';import{cloneUnsafe}from'@dx-private/dxchart5-light/dist/chart/utils/object.utils';import{some}from'fp-ts/Option';import{constVoid}from'fp-ts/function';import{option}from'fp-ts';import _0x2660e5,{createElement,memo}from'react';import{useA11yDescriptions}from'../chart-kit/accessibility/use-a11y-descriptions';import{useHandleBrowserHotkeysEvents}from'../chart-kit/accessibility/use-handle-browser-hotkeys-events';import{getDefaultChartConfig}from'../config/chart-config';import{DEFAULT_INIT_CHART_REACT_CONFIG,mergeChartReactConfig}from'../config/chart-react-config';import{DEFAULT_COLOR_PALETTE}from'../config/color-palette';import{getDefaultDrawingsConfig}from'../config/drawings-config';import{DEFAULT_ICONS_POOL}from'../config/icons-pool';import{DEFAULT_LOCALIZATION}from'../config/localization/localization';import{DEFAULT_STUDIES_LIST}from'../config/studies-list';import{context}from'../context/context2';import{createChartSharingProvider}from'../providers/chart-sharing-provider';import{createMockChartDataProvider}from'../providers/mocks/mock-chart-data-provider';import{createMockDxScriptProvider}from'../providers/mocks/mock-dx-script-provider';import{createMockDxScriptRunner}from'../providers/mocks/mock-dx-script-runner';import{createMockDxStudiesProvider}from'../providers/mocks/mock-dx-studies-provider';import{createMockLayoutProvider}from'../providers/mocks/mock-empty-layout-provider';import{createMockEventDataProvider}from'../providers/mocks/mock-events-data-provider';import{createMockIndicatorsTemplateProvider}from'../providers/mocks/mock-indicator-template-provider';import{createMockNewsDataProvider}from'../providers/mocks/mock-news-data-provider';import{createMockOrderProvider}from'../providers/mocks/mock-order-provider';import{createMockPositionProvider}from'../providers/mocks/mock-position-provider';import{createMockSymbolSuggestProvider}from'../providers/mocks/mock-symbol-suggest-provider';import{createMockUserDataProvider}from'../providers/mocks/mock-user-data-provider';import{callTracerProxy}from'../utils/debug/call-tracer';import{DEFAULT_TIMEZONES_CONFIG}from'../utils/timezones/timezones';import{useCVHCssProperty}from'../utils/use-cvh-css-property';import _0x3d08d2 from'../utils/use-mobile';import{useSink}from'../utils/use-sink';import{CHART_REACT_WRAPPER_ID,ChartReactAppStyled,OfflineAlert}from'./chart-react-app.styled';import{mergeFullChartConfig}from'./components/canvas-chart-renderer/chart-with-modules';import{LayoutLoaderContainer}from'./containers/loading/layout-loader.container';import{ChartReactAppContext,DEFAULT_AGGREGATION_PERIOD,DEFAULT_AGGREGATION_PERIODS_LIST,DEFAULT_CHART_TYPES_CONFIG,DEFAULT_PALETTE,DEFAULT_THEME}from'./defaults';import'./index.css';import{aggregationPeriodToString}from'./model/aggregation.model';import{fromRawStudiesSettings}from'./model/studies.model';import{DEFAULT_TIMEFRAME_PRESETS}from'./model/timeframe-presets.model';import{createLocalInstrumentStore}from'./stores/instrument.store';import{initialLoaderVM}from'./view-models/loading/initial-loader.vm';import{INITIAL_USER_DATA}from'./view-models/user-data.view-model';import{DEFAULT_CHART_REACT_SETTINGS}from'./model/chart.model';import'./index.css';import{createDefaultTradingSessionsProvider}from'../providers/sessions/default-trading-sessions-provider';const ChartReactAppComponent=context['combine'](context['defer'](LayoutLoaderContainer,'initialLoaderVM'),initialLoaderVM,context['key']()('chartReactConfig'),context['key']()('localization'),(_0x116f43,_0x56e181,_0x17d1db,_0x116cb0)=>{return memo(_0x7ef32c=>{const _0x6f3f1b=_0x2660e5['createRef'](),[_0x3bf106,_0x48bbc3]=_0x2660e5['useState'](null);_0x2660e5['useEffect'](()=>{_0x6f3f1b['current']&&_0x48bbc3(_0x6f3f1b['current']);},[_0x6f3f1b]),useCVHCssProperty(),useA11yDescriptions(_0x6f3f1b,_0x116cb0);const _0x44194d=useSink(()=>_0x56e181,[]),_0x5ed466={};_0x5ed466['initialLoaderVM']=_0x44194d;const _0x22b64e=useSink(()=>_0x116f43(_0x5ed466),[_0x44194d]);useHandleBrowserHotkeysEvents(document['body']);const _0x278ad0=_0x3d08d2(),_0x268dc9={};return _0x268dc9['id']=CHART_REACT_WRAPPER_ID,_0x268dc9['className']=CHART_REACT_WRAPPER_ID+'\x20'+(_0x7ef32c['className']??''),_0x268dc9['width']=_0x17d1db['fixedSize']?.['width'],_0x268dc9['height']=_0x17d1db['fixedSize']?.['height'],_0x268dc9['ref']=_0x6f3f1b,_0x268dc9['showPopupsOutside']=_0x17d1db['popups']['showOutside'],_0x2660e5['createElement'](ChartReactAppStyled,_0x268dc9,_0x3bf106!==null?_0x2660e5['createElement'](ChartReactAppContext['Provider'],{'value':{'rootElement':_0x3bf106,'showPopupsOutside':_0x17d1db['popups']['showOutside'],'showButtonsTooltip':_0x17d1db['toolbar']['showButtonsTooltip'],'isMobile':_0x278ad0,'config':_0x17d1db}},_0x2660e5['createElement'](_0x22b64e,null),_0x7ef32c['isOffline']&&_0x2660e5['createElement'](OfflineAlert,null,'OFFLINE\x20MOCK\x20MODE')):null);});}),_0x27f95c={};_0x27f95c['symbol']='AAPL',_0x27f95c['description']='Apple\x20Inc',_0x27f95c['type']='STOCK',_0x27f95c['priceIncrements']=[0.0001,0x1,0.01];const INITIAL_INSTRUMENT=_0x27f95c;export const ChartReactApp=memo(_0x159589=>{const _0x3cb4a6=_0x159589['dependencies']?.['timezones']??DEFAULT_TIMEZONES_CONFIG,_0x1cbf78=merge(_0x159589['dependencies']?.['chartTypesConfig']??{},DEFAULT_CHART_TYPES_CONFIG),_0x2b3e6e=merge(_0x159589['dependencies']?.['palette']??{},DEFAULT_PALETTE),_0x51d357=merge(_0x159589['dependencies']?.['localization']??{},DEFAULT_LOCALIZATION),_0x315c40=_0x159589['dependencies']?.['initialTimeframePresets']||DEFAULT_TIMEFRAME_PRESETS,_0x4347e0=_0x159589['dependencies']?.['initialChartTheme']??DEFAULT_THEME,_0x393698=getDefaultChartConfig(_0x2b3e6e[_0x4347e0]['object']),_0x448264=merge(_0x159589['dependencies']?.['initialChartReactSettings']??{},DEFAULT_CHART_REACT_SETTINGS),_0x58ac76={'initialLoading':[],'localInstrumentStore':createLocalInstrumentStore(),'dxScriptRunner':createMockDxScriptRunner(),'chartDataProvider':createMockChartDataProvider(),'symbolSuggestProvider':createMockSymbolSuggestProvider,'eventsDataProvider':createMockEventDataProvider(),'initialStudies':[],'chartTypesConfig':_0x1cbf78,'initialChartTheme':DEFAULT_THEME,'localization':_0x51d357,'dxScriptProvider':createMockDxScriptProvider(),'dxStudiesProvider':createMockDxStudiesProvider(DEFAULT_STUDIES_LIST(_0x51d357['studies'])['map'](fromRawStudiesSettings)),'chartSharingProvider':createChartSharingProvider(),'colorPalette':DEFAULT_COLOR_PALETTE,'iconsPool':DEFAULT_ICONS_POOL,'drawingsConfig':getDefaultDrawingsConfig(_0x2b3e6e['dark']['object']),'tradingSessionsProvider':createDefaultTradingSessionsProvider(),'orderProvider':createMockOrderProvider(),'positionProvider':createMockPositionProvider(),'layoutProvider':createMockLayoutProvider(),'indicatorsTemplateProvider':createMockIndicatorsTemplateProvider(),'userDataProvider':createMockUserDataProvider(),'initialInstrument':some(INITIAL_INSTRUMENT['symbol']),'initialAggregation':DEFAULT_AGGREGATION_PERIOD,'initialChartConfig':_0x393698,'chartReactConfig':DEFAULT_INIT_CHART_REACT_CONFIG,'initialChartReactSettings':_0x448264,'initialAggregationPeriods':DEFAULT_AGGREGATION_PERIODS_LIST,'onApiCreated':_0x159589['onApiCreated']??constVoid,'palette':_0x2b3e6e,'timezones':_0x3cb4a6,'initialTimeframePresets':_0x315c40,'newsDataProvider':createMockNewsDataProvider()},_0x236dc=overrideDependencies(_0x58ac76,_0x159589['dependencies']),_0x27a97e=mergeFullChartConfig(cloneUnsafe(_0x236dc['initialChartConfig']),_0x393698),_0x421d23=mergeChartReactConfig(cloneUnsafe(_0x236dc['chartReactConfig'])),_0xcc7090={..._0x236dc['chartReactConfig']['dateFormatters']};_0x421d23['dateFormatters']=_0xcc7090;const _0x5159a8={...INITIAL_USER_DATA,'userDataTheme':_0x4347e0,'customPeriods':_0x236dc['initialAggregationPeriods']['map'](_0xf8283d=>aggregationPeriodToString(_0xf8283d))},_0xf3880d={..._0x236dc};_0xf3880d['chartConfig']=_0x27a97e,_0xf3880d['chartReactConfig']=_0x421d23,_0xf3880d['initialUserData']=_0x5159a8;const _0x404db9=_0xf3880d,_0x229a15=useSink(()=>ChartReactAppComponent(_0x404db9),[_0x404db9['palette']]),_0x57f3b6={..._0x159589['data']};return _0x57f3b6['className']=_0x159589['className'],createElement(_0x229a15,_0x57f3b6);});const overrideDependencies=(_0x3cc5a0,_0x1c745a)=>{if(_0x1c745a){for(const [_0x3490ca,_0xa591b]of Object['entries'](_0x1c745a)){if(_0xa591b!==undefined&&_0xa591b!==null){let _0x4be411;_0x3490ca['indexOf']('Provider')!==-0x1&&(_0x4be411=_0x3490ca),_0x4be411?_0x3cc5a0[_0x3490ca]=callTracerProxy(_0x4be411,_0xa591b):_0x3cc5a0[_0x3490ca]=_0xa591b;}}_0x1c745a['initialInstrument']!==undefined&&(_0x3cc5a0['initialInstrument']=option['fromNullable'](_0x1c745a['initialInstrument']));}return _0x3cc5a0;};