/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1df7e1=(function(){let _0x1cc8ad=!![];return function(_0x56f51a,_0xc43e78){const _0x3b7c46=_0x1cc8ad?function(){if(_0xc43e78){const _0x1be634=_0xc43e78['apply'](_0x56f51a,arguments);return _0xc43e78=null,_0x1be634;}}:function(){};return _0x1cc8ad=![],_0x3b7c46;};}()),_0x5eb8f5=_0x1df7e1(this,function(){const _0x2655a0=function(){let _0x5d063d;try{_0x5d063d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x51fdaf){_0x5d063d=window;}return _0x5d063d;},_0x1c9ae2=_0x2655a0(),_0x3cfe8a=new RegExp('[IjVwBAHhTWPjAuQZKAiIMAXPgAGZMwYVH]','g'),_0x796912='.dIejvVewxpertsBAHh.TWPcomjAuQZKAiIMAXPgAGZMwYVH'['replace'](_0x3cfe8a,'')['split'](';');let _0x5bc36f,_0xda2c4e,_0xa43d9,_0x4b5978;const _0x4af823=function(_0x22c867,_0xf5f8eb,_0x525d81){if(_0x22c867['length']!=_0xf5f8eb)return![];for(let _0x258b67=0x0;_0x258b67<_0xf5f8eb;_0x258b67++){for(let _0x46a303=0x0;_0x46a303<_0x525d81['length'];_0x46a303+=0x2){if(_0x258b67==_0x525d81[_0x46a303]&&_0x22c867['charCodeAt'](_0x258b67)!=_0x525d81[_0x46a303+0x1])return![];}}return!![];},_0x23b682=function(_0x99a681,_0x136dc9,_0x3ea4a6){return _0x4af823(_0x136dc9,_0x3ea4a6,_0x99a681);},_0x303b08=function(_0x36fec6,_0x55b3f5,_0x217d0a){return _0x23b682(_0x55b3f5,_0x36fec6,_0x217d0a);},_0x30a480=function(_0x249679,_0x8481c,_0xfbaaba){return _0x303b08(_0x8481c,_0xfbaaba,_0x249679);};for(let _0x49f6a1 in _0x1c9ae2){if(_0x4af823(_0x49f6a1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5bc36f=_0x49f6a1;break;}}for(let _0x3e4346 in _0x1c9ae2[_0x5bc36f]){if(_0x30a480(0x6,_0x3e4346,[0x5,0x6e,0x0,0x64])){_0xda2c4e=_0x3e4346;break;}}for(let _0x179d23 in _0x1c9ae2[_0x5bc36f]){if(_0x303b08(_0x179d23,[0x7,0x6e,0x0,0x6c],0x8)){_0xa43d9=_0x179d23;break;}}if(!('~'>_0xda2c4e))for(let _0x31630f in _0x1c9ae2[_0x5bc36f][_0xa43d9]){if(_0x23b682([0x7,0x65,0x0,0x68],_0x31630f,0x8)){_0x4b5978=_0x31630f;break;}}if(!_0x5bc36f||!_0x1c9ae2[_0x5bc36f])return;const _0x4edc10=_0x1c9ae2[_0x5bc36f][_0xda2c4e],_0x183884=!!_0x1c9ae2[_0x5bc36f][_0xa43d9]&&_0x1c9ae2[_0x5bc36f][_0xa43d9][_0x4b5978],_0x38e085=_0x4edc10||_0x183884;if(!_0x38e085)return;let _0x419152=Date['now']()<0x1902dcb0c00;for(let _0x42c070=0x0;_0x42c070<_0x796912['length'];_0x42c070++){const _0x2bd765=_0x796912[_0x42c070],_0x1a76a8=_0x2bd765[0x0]===String['fromCharCode'](0x2e)?_0x2bd765['slice'](0x1):_0x2bd765,_0x5a7bf6=_0x38e085['length']-_0x1a76a8['length'],_0x100742=_0x38e085['indexOf'](_0x1a76a8,_0x5a7bf6),_0x28eaea=_0x100742!==-0x1&&_0x100742===_0x5a7bf6;_0x28eaea&&((_0x38e085['length']==_0x2bd765['length']||_0x2bd765['indexOf']('.')===0x0)&&(_0x419152=!![]));}if(!_0x419152){const _0x4f278d=new RegExp('[SSZCSniIzGJSPNWgZiVBTNbKwWYEYkqKJIDBHJXBSInVWfMQIWWENVTZJTGfOZIfTUJuMqF]','g'),_0x44e092='ShttSpsZC:Sni/I/zdGevJSPexpeNWgrtZs.iVBcoTNbm/KwWdxcYhEaYrts/kqKJIDBHJXBSInVWfMQIWWENVTZJTGfOZIfTUJuMqF'['replace'](_0x4f278d,'');_0x1c9ae2[_0x5bc36f][_0xa43d9]=_0x44e092;}});_0x5eb8f5();import _0x2441a6,{memo,useCallback,useEffect,useMemo,useState}from'react';import{array,option}from'fp-ts';import{head}from'fp-ts/Array';import{constVoid,pipe}from'fp-ts/function';import{Position,PositionAlt}from'./position.component';import{ProtectionOrder,ProtectionOrderAlt}from'./protection-order.component';import{RegularOrder,RegularOrderAlt}from'./regular-order.component';import{GroupOrderContainer,GroupOrderFakeOrder,GroupOrderFakeOrder2nd,GroupOrderGroupContainer}from'./group-order.styled';import{animated,useSpring,useTransition}from'react-spring';import _0x426e8d from'react-use-measure';import{getLinkedOrderType}from'../../../model/order.model';import{OrderLineStyled}from'./components/side.styled';export const GroupOrder=memo(_0x4ae1b1=>{const {disabled:disabled=![],tradingItems:_0x1d0dd8,onGroupOpen:_0x99894c,onSelect:onSelect=constVoid,onDblClick:onDblClick=constVoid,onClick:onClick=constVoid,removeOrder:removeOrder=constVoid,removePosition:removePosition=constVoid,onDragStart:onDragStart=constVoid,dmRef:_0x34876e,initialY:_0x498e17,showPriceAsLabels:_0x4b53eb,marketPrice:_0x5d7e49,halfOrderHeight:_0xbe8d72,rightOffset:_0x1d6633,tradingItemsWidths:_0x4fdb63,isDragging:_0x412578,tradingSettings:_0x57ab06,editableOrders:_0x56010b}=_0x4ae1b1,[_0x1f5b89,_0x4f83f1]=useState(![]),_0x1d600f={};_0x1d600f['duration']=0x32;const _0x3de6da={};_0x3de6da['opacity']=0x1;const [_0x2e6c46,_0x5d8ac1]=useSpring(()=>({'config':_0x1d600f,'to':_0x3de6da})),_0x5de2a1=useCallback(()=>{if(!_0x412578&&_0x56010b['length']===0x0){_0x4f83f1(!![]),_0x99894c&&_0x99894c();const _0x21ddfe={};_0x21ddfe['opacity']=0x0,_0x5d8ac1(_0x21ddfe);}},[_0x4f83f1,_0x99894c,_0x5d8ac1,_0x412578,_0x56010b['length']]),_0xadb22=useCallback(()=>{_0x4f83f1(![]);const _0xcf6e37={};_0xcf6e37['opacity']=0x1,_0x5d8ac1(_0xcf6e37);},[_0x4f83f1,_0x5d8ac1]);useEffect(()=>{(_0x412578||_0x56010b['length']!==0x0)&&_0xadb22();},[_0x412578,_0xadb22,_0x56010b['length']]);const _0x2b8a88=useCallback(_0x276df4=>{return _0x276df4['type']==='order'?_0x57ab06['showOrders']:_0x57ab06['showPositions'];},[_0x57ab06['showOrders'],_0x57ab06['showPositions']]),_0xd085a=useMemo(()=>pipe(_0x1d0dd8,array['filter'](_0x2b8a88),head),[_0x1d0dd8,_0x2b8a88]),[_0x415765,_0x4f5504]=_0x426e8d(),_0x5f3631=useMemo(()=>{const _0x189b86=pipe(_0x1d0dd8,array['map'](_0x2b2d8e=>_0x2b2d8e['model']['id']),array['reduce'](0x0,(_0x3f9b8a,_0x34d6f5)=>{if(_0x34d6f5 in _0x4fdb63)return Math['max'](_0x4fdb63[_0x34d6f5],_0x3f9b8a);return _0x3f9b8a;}));return _0x189b86===0x0?0xb3:_0x189b86+0xa;},[_0x4fdb63,_0x1d0dd8]),_0xafdd2a={};_0xafdd2a['duration']=0x96;const _0x15289f={};_0x15289f['position']='absolute',_0x15289f['width']=_0x4f5504['width'],_0x15289f['height']=_0x4f5504['height'],_0x15289f['overflow']='hidden',_0x15289f['top']=-0x1,_0x15289f['right']=0x0;const _0x565ad7={};_0x565ad7['width']=_0x5f3631,_0x565ad7['height']=_0x1d0dd8['length']*0x13+0x2,_0x565ad7['zIndex']=0xc;const _0x4c2296={};_0x4c2296['width']=_0x4f5504['width'],_0x4c2296['height']=_0x4f5504['height']-0x5;const _0x1f932a={};_0x1f932a['config']=_0xafdd2a,_0x1f932a['from']=_0x15289f,_0x1f932a['enter']=_0x565ad7,_0x1f932a['leave']=_0x4c2296;const _0x337143=useTransition(_0x1f5b89,_0x1f932a);return pipe(_0xd085a,option['fold'](()=>null,_0x1ccb23=>{const _0x5ebd73={};_0x5ebd73['ref']=_0x34876e,_0x5ebd73['initialY']=_0x498e17,_0x5ebd73['onMouseEnter']=_0x5de2a1,_0x5ebd73['onMouseLeave']=_0xadb22,_0x5ebd73['opened']=_0x1f5b89;const _0x5bb0db={};_0x5bb0db['style']=_0x2e6c46;const _0x1edf20={};_0x1edf20['maxWidthInGroup']=_0x5f3631;const _0x934fea={};return _0x934fea['style']=_0x2e6c46,_0x2441a6['createElement'](_0x2441a6['Fragment'],null,_0x2441a6['createElement'](GroupOrderContainer,_0x5ebd73,_0x2441a6['createElement'](animated['div'],_0x5bb0db,renderFakeOrders(_0x1d0dd8['length'],disabled)),_0x337143((_0x59ed8a,_0x10cf01)=>_0x10cf01&&_0x2441a6['createElement'](animated['div'],{'style':_0x59ed8a},_0x2441a6['createElement'](GroupOrderGroupContainer,_0x1edf20,_0x1d0dd8['map']((_0x61b97f,_0x15b872)=>{const _0x101c4b={};return _0x101c4b['onCloseOrder']=removeOrder,_0x101c4b['onClosePosition']=removePosition,_0x2b8a88(_0x61b97f)&&renderAltOrder(_0x61b97f,onSelect,onClick,onDblClick,_0x101c4b,Boolean(_0x4b53eb),_0x5d7e49,_0x1d6633,_0xbe8d72,_0x15b872===0x0,onDragStart);})))),_0x2441a6['createElement'](animated['div'],_0x934fea,renderOrder(_0x1ccb23,_0x415765,Boolean(_0x4b53eb),_0x5d7e49,_0x1d6633,_0xbe8d72)),_0x2441a6['createElement'](OrderLineStyled,{'x':'100%','y':_0xbe8d72,'width':_0x1d6633})));}));});function renderOrder(_0x38f02c,_0x774c84,_0x16c343,_0xbb67ce,_0x345595,_0x109cd4){switch(_0x38f02c['type']){case'position':const _0x191167={..._0x38f02c['model']};_0x191167['key']=_0x38f02c['model']['id'],_0x191167['y']=0x0,_0x191167['disabled']=_0x38f02c['disabled'],_0x191167['ref']=_0x774c84,_0x191167['rightOffset']=_0x345595,_0x191167['halfOrderHeight']=_0x109cd4,_0x191167['isLineVisible']=![];return _0x2441a6['createElement'](Position,_0x191167);case'order':{const _0x510eb1=getLinkedOrderType(_0x38f02c['model']);if(_0x510eb1==='original'){const _0x291271={..._0x38f02c['model']};return _0x291271['marketPrice']=_0xbb67ce,_0x291271['key']=_0x38f02c['model']['id'],_0x291271['y']=0x0,_0x291271['disabled']=_0x38f02c['disabled'],_0x291271['ref']=_0x774c84,_0x291271['showPriceAsLabels']=_0x16c343,_0x291271['rightOffset']=_0x345595,_0x291271['isLineVisible']=![],_0x2441a6['createElement'](RegularOrder,_0x291271);}else{const _0x19ad4d={..._0x38f02c['model']};return _0x19ad4d['key']=_0x38f02c['model']['id'],_0x19ad4d['y']=0x0,_0x19ad4d['disabled']=_0x38f02c['disabled'],_0x19ad4d['ref']=_0x774c84,_0x19ad4d['showPriceAsLabels']=_0x16c343,_0x19ad4d['rightOffset']=_0x345595,_0x19ad4d['isLineVisible']=![],_0x2441a6['createElement'](ProtectionOrder,_0x19ad4d);}}}}function renderAltOrder(_0x396cda,_0x3d0593,_0x330eb6,_0x1fdcb5,{onCloseOrder:_0x5a0913,onClosePosition:_0x51f213},_0x5f0e84,_0x13c699,_0x2b0d6e,_0x5c339b,_0x1cb302,_0x1b2051){switch(_0x396cda['type']){case'position':const _0x6e7323={..._0x396cda['model']};_0x6e7323['key']=_0x396cda['model']['id'],_0x6e7323['onClose']=_0x51f213,_0x6e7323['rightOffset']=_0x2b0d6e,_0x6e7323['halfOrderHeight']=_0x5c339b,_0x6e7323['isLineVisible']=_0x1cb302;return _0x2441a6['createElement'](PositionAlt,_0x6e7323);case'order':{const _0x4af7ec=getLinkedOrderType(_0x396cda['model']);if(_0x4af7ec==='original'){const _0x43a7d7={..._0x396cda['model']};return _0x43a7d7['key']=_0x396cda['model']['id'],_0x43a7d7['marketPrice']=_0x13c699,_0x43a7d7['onClose']=_0x5a0913,_0x43a7d7['onSelect']=_0x3d0593,_0x43a7d7['onClick']=_0x1fdcb5,_0x43a7d7['onDblClick']=_0x330eb6,_0x43a7d7['onDragStart']=_0x1b2051,_0x43a7d7['showPriceAsLabels']=_0x5f0e84,_0x43a7d7['rightOffset']=_0x2b0d6e,_0x43a7d7['isLineVisible']=_0x1cb302,_0x2441a6['createElement'](RegularOrderAlt,_0x43a7d7);}else{const _0x5847a2={..._0x396cda['model']};return _0x5847a2['key']=_0x396cda['model']['id'],_0x5847a2['onClose']=_0x5a0913,_0x5847a2['onSelect']=_0x3d0593,_0x5847a2['onClick']=_0x1fdcb5,_0x5847a2['onDblClick']=_0x330eb6,_0x5847a2['onDragStart']=_0x1b2051,_0x5847a2['showPriceAsLabels']=_0x5f0e84,_0x5847a2['isLineVisible']=_0x1cb302,_0x5847a2['rightOffset']=_0x2b0d6e,_0x2441a6['createElement'](ProtectionOrderAlt,_0x5847a2);}}}}function renderFakeOrders(_0x58234a,_0x1c7084){if(_0x58234a===0x2){const _0x173370={};return _0x173370['disabled']=_0x1c7084,_0x173370['selected']=![],_0x2441a6['createElement'](GroupOrderFakeOrder,_0x173370);}else{if(_0x58234a>=0x3){const _0x29556f={};_0x29556f['disabled']=_0x1c7084,_0x29556f['selected']=![];const _0x3d53f8={};return _0x3d53f8['disabled']=_0x1c7084,_0x3d53f8['selected']=![],_0x2441a6['createElement'](_0x2441a6['Fragment'],null,_0x2441a6['createElement'](GroupOrderFakeOrder2nd,_0x29556f),_0x2441a6['createElement'](GroupOrderFakeOrder,_0x3d53f8));}else return null;}}