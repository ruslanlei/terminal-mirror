{"version":3,"file":"BarChart.vue2.js","sources":["../../../../../components/barChart/BarChart.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"container\"\n    :class=\"$style.barChart\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue';\nimport { useResizeObserver } from '@vueuse/core';\nimport { isEqual } from '@terminal/common/utils/boolean';\nimport { compose } from '@terminal/common/utils/fp';\nimport { awaitTimeout } from '@terminal/common/utils/promise';\nimport { setMaximalScrollLeft } from '@/utils/element';\nimport { getRectField } from '@/utils/dom';\nimport { getCssRgbColor } from '@/utils/style';\nimport { BarChartProps } from './index';\nimport { createBarChart } from './createBarChart';\n\nconst props = withDefaults(\n  defineProps<BarChartProps>(),\n  {\n    data: () => [],\n    barLabelFormatter: (value: any) => value,\n    xAxisLabelFormatter: (value: any) => value,\n  },\n);\n\nconst container = ref<HTMLElement>();\nconst renderChart = async () => {\n  // FIXME: this needed to await transition animation.\n  //  Move to upper level into order and statistics.\n  await awaitTimeout(300);\n\n  if (!container.value) return;\n\n  const isContainerNotPrepared = compose(\n    isEqual(0),\n    getRectField('height'),\n  )(container.value);\n\n  if (isContainerNotPrepared) return;\n\n  createBarChart({\n    container: container.value,\n    data: props.data,\n    barLabelFormatter: props.barLabelFormatter,\n    xAxisLabelFormatter: props.xAxisLabelFormatter,\n    positiveBarColor: getCssRgbColor('--color-success'),\n    negativeBarColor: getCssRgbColor('--color-danger'),\n    defaultBarColor: getCssRgbColor('--color-background-3'),\n    barNameColor: getCssRgbColor('--color-accent-2'),\n    height: getRectField('height', container.value),\n  });\n\n  setMaximalScrollLeft(container.value);\n};\n\nuseResizeObserver(container, renderChart);\nonMounted(renderChart);\n</script>\n\n<style lang=\"scss\" module>\n@import \"src/assets/styles/utils\";\n\n.barChart {\n  overflow-x: auto;\n  overflow-y: hidden;\n  scrollbar-width: none;\n  padding: 0 20px;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n}\n</style>\n"],"names":["container","ref","renderChart","awaitTimeout","compose","isEqual","getRectField","createBarChart","props","getCssRgbColor","setMaximalScrollLeft","useResizeObserver","onMounted"],"mappings":";;;;;;;;;;;;;;;;;iBA4BMA,IAAYC,KACZC,IAAc,YAAY;AAY1B,MATJ,MAAMC,EAAa,GAAG,GAElB,GAACH,EAAU,SAEgBI;AAAA,QAC7BC,EAAQ,CAAC;AAAA,QACTC,EAAa,QAAQ;AAAA,MAAA,EACrBN,EAAU,KAAK,OAIFO,EAAA;AAAA,QACb,WAAWP,EAAU;AAAA,QACrB,MAAMQ,EAAM;AAAA,QACZ,mBAAmBA,EAAM;AAAA,QACzB,qBAAqBA,EAAM;AAAA,QAC3B,kBAAkBC,EAAe,iBAAiB;AAAA,QAClD,kBAAkBA,EAAe,gBAAgB;AAAA,QACjD,iBAAiBA,EAAe,sBAAsB;AAAA,QACtD,cAAcA,EAAe,kBAAkB;AAAA,QAC/C,QAAQH,EAAa,UAAUN,EAAU,KAAK;AAAA,MAAA,CAC/C,GAEDU,EAAqBV,EAAU,KAAK;AAAA,IAAA;AAGtC,WAAAW,EAAkBX,GAAWE,CAAW,GACxCU,EAAUV,CAAW;;;;;;;"}