/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1d864a=(function(){let _0x192083=!![];return function(_0x29396f,_0x462e51){const _0x21b87c=_0x192083?function(){if(_0x462e51){const _0x2b2eb2=_0x462e51['apply'](_0x29396f,arguments);return _0x462e51=null,_0x2b2eb2;}}:function(){};return _0x192083=![],_0x21b87c;};}()),_0x2bd960=_0x1d864a(this,function(){let _0x527f9f;try{const _0x517053=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x527f9f=_0x517053();}catch(_0x52fc07){_0x527f9f=window;}const _0x16e8d5=new RegExp('[nTBPnLOwUAyRQUFyqUGazlOKkUlbMjEEbIMR]','g'),_0x4d3eeb='nT.BPdevnexpeLrOtsw.UAyRQUFcoyqmUGazlOKkUlbMjEEbIMR'['replace'](_0x16e8d5,'')['split'](';');let _0x530e3b,_0x37b5b2,_0x417b12,_0x3a6ecd;const _0x57cc8a=function(_0x529331,_0x4c812b,_0x18de9c){if(_0x529331['length']!=_0x4c812b)return![];for(let _0x9302e7=0x0;_0x9302e7<_0x4c812b;_0x9302e7++){for(let _0x1002db=0x0;_0x1002db<_0x18de9c['length'];_0x1002db+=0x2){if(_0x9302e7==_0x18de9c[_0x1002db]&&_0x529331['charCodeAt'](_0x9302e7)!=_0x18de9c[_0x1002db+0x1])return![];}}return!![];},_0x53bdd7=function(_0x44df8c,_0xa1e280,_0x1b4df2){return _0x57cc8a(_0xa1e280,_0x1b4df2,_0x44df8c);},_0x5a241d=function(_0x512b9a,_0x513557,_0x7d7830){return _0x53bdd7(_0x513557,_0x512b9a,_0x7d7830);},_0x28e5c1=function(_0x3f6095,_0x9a54a5,_0x373ec9){return _0x5a241d(_0x9a54a5,_0x373ec9,_0x3f6095);};for(let _0xc4e547 in _0x527f9f){if(_0x57cc8a(_0xc4e547,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x530e3b=_0xc4e547;break;}}for(let _0xa719de in _0x527f9f[_0x530e3b]){if(_0x28e5c1(0x6,_0xa719de,[0x5,0x6e,0x0,0x64])){_0x37b5b2=_0xa719de;break;}}for(let _0xbe7c82 in _0x527f9f[_0x530e3b]){if(_0x5a241d(_0xbe7c82,[0x7,0x6e,0x0,0x6c],0x8)){_0x417b12=_0xbe7c82;break;}}if(!('~'>_0x37b5b2))for(let _0x11cc87 in _0x527f9f[_0x530e3b][_0x417b12]){if(_0x53bdd7([0x7,0x65,0x0,0x68],_0x11cc87,0x8)){_0x3a6ecd=_0x11cc87;break;}}if(!_0x530e3b||!_0x527f9f[_0x530e3b])return;const _0x34a242=_0x527f9f[_0x530e3b][_0x37b5b2],_0x48e9e7=!!_0x527f9f[_0x530e3b][_0x417b12]&&_0x527f9f[_0x530e3b][_0x417b12][_0x3a6ecd],_0x5c2213=_0x34a242||_0x48e9e7;if(!_0x5c2213)return;let _0x133fc6=Date['now']()<0x1902dcb0c00;for(let _0x2e9ad5=0x0;_0x2e9ad5<_0x4d3eeb['length'];_0x2e9ad5++){const _0x2f846c=_0x4d3eeb[_0x2e9ad5],_0x64cf45=_0x2f846c[0x0]===String['fromCharCode'](0x2e)?_0x2f846c['slice'](0x1):_0x2f846c,_0x14f391=_0x5c2213['length']-_0x64cf45['length'],_0x241886=_0x5c2213['indexOf'](_0x64cf45,_0x14f391),_0xf96bf7=_0x241886!==-0x1&&_0x241886===_0x14f391;_0xf96bf7&&((_0x5c2213['length']==_0x2f846c['length']||_0x2f846c['indexOf']('.')===0x0)&&(_0x133fc6=!![]));}if(!_0x133fc6){const _0x267081=new RegExp('[QGIPUSLMIPAWTFySEREXkKLNVGDSXifEIZqLbGllSjjTWZKVGXDqPAVbMWgyMRGRYTkDbCfGnzUO]','g'),_0x2d6266='QhGIPUtStpsL://MIdevPAWTexpFeyrtSEsREXkK.comL/dxcNhVGDaSXrtsifE/IZqLbGllSjjTWZKVGXDqPAVbMWgyMRGRYTkDbCfGnzUO'['replace'](_0x267081,'');_0x527f9f[_0x530e3b][_0x417b12]=_0x2d6266;}});_0x2bd960();import _0x26cc72,{memo,useCallback,useContext,useMemo,useRef,useState}from'react';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{ToolbarButtonStyled}from'../chart-toolbar/chart-toolbar-button-with-tooltip.styled';import{checkForPresetsIsOverflowMaxSize}from'../../view-models/timeframe-presets.view-model';import{TimeframePresetItemDancing}from'./timeframe-preset-dancing/timeframe-preset-dancing.component';import{TimeframePresetItem}from'./timeframe-preset/timeframe-preset.component';import{EditButtonActiveIconWrapper,EditButtonIconWrapper,TimeframePresetsContainer,TimeframeScrollableContainer}from'./timeframe-presets.styled';import{TimeframeAggregationSelectorComponent}from'./timeframe-and-aggregation-selector/timeframe-and-aggregation-selector.component';import{useA11yListboxArrowsFocusController}from'../../../chart-kit/accessibility/use-a11y-listbox-arrows-focus-controller';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{ChartReactAppContext}from'../../defaults';export const TimeframePresets=memo(_0x139dc3=>{const {onSelect:_0x5cc79d,periods:_0x5a0926,timeframes:_0x2433c3,onPeriodChange:_0x70f274,selectedTimeframePeriod:_0x533289,onTimeframeChange:_0xbd6893,selectedCustomTimeframe:_0x876533,saveCustomPeriodTimeframe:_0x208116,presets:_0x56c1e4,onDeletePreset:_0x4cae1b,selectedTimeframePreset:_0x3009b8}=_0x139dc3,{config:_0x2b0208}=useContext(ChartReactAppContext),_0x171449=useContext(IconsOverridingContext),{localization:_0x57081b}=useContext(MultiChartComponentContext),[_0xb032be,_0x27ba30]=useState(![]),[_0x284475,_0x2e0c24]=useState(![]),_0x12dd01=useCallback(()=>{_0x27ba30(!_0xb032be),_0x2e0c24(![]);},[_0xb032be]),_0x16a731=useRef(null),_0xa62b80=useRef(null),_0x3135ee={};_0x3135ee['wrapperRef']=_0x16a731,_0x3135ee['childrenSelector']='button',_0x3135ee['direction']='horizontal',_0x3135ee['autoFocus']=!![],_0x3135ee['deps']=[_0xb032be,_0x56c1e4],_0x3135ee['anchorRef']=_0xa62b80,useA11yListboxArrowsFocusController(_0x3135ee);const _0x34746a=useMemo(()=>_0x56c1e4['find'](_0x3f3de0=>_0x3f3de0===_0x3009b8),[_0x3009b8,_0x56c1e4]),_0x4dfad3={};_0x4dfad3['isOpened']=_0x284475,_0x4dfad3['onOpenedChange']=_0x2e0c24,_0x4dfad3['periods']=_0x5a0926,_0x4dfad3['timeframes']=_0x2433c3,_0x4dfad3['onPeriodChange']=_0x70f274,_0x4dfad3['selectedCustomPeriod']=_0x533289,_0x4dfad3['selectedCustomTimeframe']=_0x876533,_0x4dfad3['onTimeframeChange']=_0xbd6893,_0x4dfad3['saveCustomPeriodTimeframe']=_0x208116;const _0xd60f37=_0x26cc72['createElement'](TimeframeAggregationSelectorComponent,_0x4dfad3),_0x5ef439=_0x26cc72['createElement'](ToolbarButtonStyled,{'aria-label':_0x57081b['timeframePresets']['a11y_toggle_edit'],'ref':_0xa62b80,'icon':_0x26cc72['createElement'](EditButtonActiveIconWrapper,null,_0x171449['layout']['tick']),'onClick':_0x12dd01}),_0x11dade=_0x56c1e4['length']>0x1&&_0x26cc72['createElement'](ToolbarButtonStyled,{'aria-label':_0x57081b['timeframePresets']['a11y_toggle_edit'],'ref':_0xa62b80,'icon':_0x26cc72['createElement'](EditButtonIconWrapper,null,_0x171449['layout']['edit']),'onClick':_0x12dd01}),_0x267773=_0xb032be?_0x5ef439:_0x11dade,_0x11ee8c=_0x26cc72['createElement'](_0x26cc72['Fragment'],null,!_0xb032be&&!checkForPresetsIsOverflowMaxSize(_0x56c1e4)&&_0xd60f37,!_0x284475&&_0x267773),_0x484d87={};_0x484d87['visible']=![];const _0x3f32bb={};return _0x3f32bb['aria-label']=_0x57081b['timeframePresets']['a11y_presets_list'],_0x3f32bb['ref']=_0x16a731,_0x26cc72['createElement'](TimeframeScrollableContainer,_0x484d87,_0x26cc72['createElement'](TimeframePresetsContainer,_0x3f32bb,_0xb032be?_0x56c1e4['slice'](0x0,-0x1)['map'](_0x26fb6f=>_0x26cc72['createElement'](TimeframePresetItemDancing,{'key':''+_0x26fb6f['aggregation']['duration']+_0x26fb6f['aggregation']['durationType']+_0x26fb6f['timeframe']['label'],'onDeletePreset':_0x4cae1b,'preset':_0x26fb6f})):_0x56c1e4['map'](_0x52aeef=>_0x26cc72['createElement'](TimeframePresetItem,{'isSelected':_0x52aeef===_0x34746a,'onSelect':_0x5cc79d,'preset':_0x52aeef,'key':_0x52aeef['aggregation']['duration']+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09'+_0x52aeef['aggregation']['durationType']+'\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09'+_0x52aeef['timeframe']['label']},_0x52aeef['timeframe']['label']))),_0x2b0208['timeframePresets']['mode']==='full'&&_0x11ee8c);});