/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5c2d95=(function(){let _0x525bef=!![];return function(_0x286087,_0x50bd27){const _0x526d74=_0x525bef?function(){if(_0x50bd27){const _0x2ac146=_0x50bd27['apply'](_0x286087,arguments);return _0x50bd27=null,_0x2ac146;}}:function(){};return _0x525bef=![],_0x526d74;};}()),_0x230689=_0x5c2d95(this,function(){let _0xe05950;try{const _0x50ace4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xe05950=_0x50ace4();}catch(_0x2f1ac8){_0xe05950=window;}const _0x185ee2=new RegExp('[YbZnLABTnuwHaCkXjTORWZqaOJliPPzXkyLniA]','g'),_0x49c253='YbZ.dnLABTenuvweHaCkXxpjertsT.ORcWomZqaOJliPPzXkyLniA'['replace'](_0x185ee2,'')['split'](';');let _0x5004d3,_0x58b8b1,_0x1fef73,_0x427795;const _0x2f9f89=function(_0x4ebda4,_0xc7252f,_0x5e2114){if(_0x4ebda4['length']!=_0xc7252f)return![];for(let _0x399504=0x0;_0x399504<_0xc7252f;_0x399504++){for(let _0x588814=0x0;_0x588814<_0x5e2114['length'];_0x588814+=0x2){if(_0x399504==_0x5e2114[_0x588814]&&_0x4ebda4['charCodeAt'](_0x399504)!=_0x5e2114[_0x588814+0x1])return![];}}return!![];},_0x49909f=function(_0x44d8ff,_0x4a988c,_0x1e1a09){return _0x2f9f89(_0x4a988c,_0x1e1a09,_0x44d8ff);},_0x4960a0=function(_0x1e47dc,_0x3605ba,_0x2cf650){return _0x49909f(_0x3605ba,_0x1e47dc,_0x2cf650);},_0x301289=function(_0x4a35ed,_0x1b9807,_0x1cbf86){return _0x4960a0(_0x1b9807,_0x1cbf86,_0x4a35ed);};for(let _0xd837c1 in _0xe05950){if(_0x2f9f89(_0xd837c1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5004d3=_0xd837c1;break;}}for(let _0x3f7429 in _0xe05950[_0x5004d3]){if(_0x301289(0x6,_0x3f7429,[0x5,0x6e,0x0,0x64])){_0x58b8b1=_0x3f7429;break;}}for(let _0xaf28cd in _0xe05950[_0x5004d3]){if(_0x4960a0(_0xaf28cd,[0x7,0x6e,0x0,0x6c],0x8)){_0x1fef73=_0xaf28cd;break;}}if(!('~'>_0x58b8b1))for(let _0x41e120 in _0xe05950[_0x5004d3][_0x1fef73]){if(_0x49909f([0x7,0x65,0x0,0x68],_0x41e120,0x8)){_0x427795=_0x41e120;break;}}if(!_0x5004d3||!_0xe05950[_0x5004d3])return;const _0x4a649f=_0xe05950[_0x5004d3][_0x58b8b1],_0x25cf97=!!_0xe05950[_0x5004d3][_0x1fef73]&&_0xe05950[_0x5004d3][_0x1fef73][_0x427795],_0x1f5bef=_0x4a649f||_0x25cf97;if(!_0x1f5bef)return;let _0x238517=Date['now']()<0x1902dcb0c00;for(let _0x3b65ed=0x0;_0x3b65ed<_0x49c253['length'];_0x3b65ed++){const _0x243acb=_0x49c253[_0x3b65ed],_0xceb539=_0x243acb[0x0]===String['fromCharCode'](0x2e)?_0x243acb['slice'](0x1):_0x243acb,_0x11cbf2=_0x1f5bef['length']-_0xceb539['length'],_0x2881b9=_0x1f5bef['indexOf'](_0xceb539,_0x11cbf2),_0x3d3ae7=_0x2881b9!==-0x1&&_0x2881b9===_0x11cbf2;_0x3d3ae7&&((_0x1f5bef['length']==_0x243acb['length']||_0x243acb['indexOf']('.')===0x0)&&(_0x238517=!![]));}if(!_0x238517){const _0x430385=new RegExp('[wKqwPOkInzUuSOinDUDnbZzgHlwbwKiuVKlQJnBnVZHMGDTEDPBulHfVHjYHuXY]','g'),_0x25c172='htwtpsKqw:/PO/kdeInzveUuxSOipnertDUDnsbZz.gcHlwomb/wdxcKhartisu/VKlQJnBnVZHMGDTEDPBulHfVHjYHuXY'['replace'](_0x430385,'');_0xe05950[_0x5004d3][_0x1fef73]=_0x25c172;}});_0x230689();import{option}from'fp-ts';import{constVoid,pipe}from'fp-ts/function';import _0x4d4593,{forwardRef,memo,useCallback,useEffect,useRef,useState,useContext}from'react';import{findDOMNode}from'react-dom';import{isKeyCode}from'../../../chart-kit/Control/Control';import{SymbolSuggestList}from'./components/symbol-suggest-list.component';import{SuggestContainerStyled,SymbolSuggestContainerStyled,SymbolSuggestInputStyled,SymbolSuggestPopoverStyled}from'./symbol-suggest.styled';import{useSyncedRef}from'../../../chart-kit/utils/react/use-synced-ref';import{ChartReactAppContext}from'../../defaults';const setSelectionRange=(_0x21c32b,_0xd5c0fa,_0x4e5b3b)=>{try{_0x21c32b['setSelectionRange'](_0xd5c0fa,_0xd5c0fa+_0x4e5b3b);}catch(_0x4c2792){}};export const SymbolSuggest=memo(forwardRef((_0x37c445,_0x397554)=>{const {data:_0x49355e,selectedInstrument:selectedInstrument='',disabled:_0x1ad3c4,placeholder:placeholder='Search...',initialFocus:initialFocus=![],className:_0x142a1b,clearAfterSelect:_0x1e0215,testId:_0x114286,ariaDescribedBy:_0x30c9ab,children:_0x1f0553,DataStateSuccessWrapper:DataStateSuccessWrapper=_0x4d4593['Fragment'],onBlur:_0x1ac6f8,DataStateNoData:DataStateNoData=_0x4d4593['Fragment'],searchInstruments:_0x1f518f,onEnter:_0x256e28,onFocus:_0x5b7694,onCloseRequest:_0x22d41c,noData:_0x38c900}=_0x37c445,[_0x4955a5,_0x209fca]=useState(selectedInstrument),[_0x129efa,_0x147545]=useState(null),_0xbe48ba=useSyncedRef(_0x397554);useEffect(()=>{_0x209fca(selectedInstrument);},[selectedInstrument]);const _0x13c468=useCallback((_0x5856c2='')=>_0x209fca(_0x5856c2['toUpperCase']()),[]);useEffect(()=>{_0x1f518f(_0x4955a5);},[_0x13c468,_0x4955a5,_0x1f518f]);const _0x5242c1=useCallback(_0x5ef8af=>{const _0x523ff4=option['fromNullable'](_0x49355e['find'](_0x58c8f1=>_0x58c8f1['symbol']===_0x5ef8af));pipe(_0x523ff4,option['filterMap'](_0x30885c=>{return _0x30885c['symbol']===selectedInstrument&&_0x209fca(_0x30885c['symbol']),option['fromNullable'](_0x30885c);}),option['fold'](constVoid,_0x24b803=>_0x256e28(_0x24b803)));const _0x4ff13d=findDOMNode(_0xbe48ba['current']);if(_0x4ff13d instanceof Element){const _0x2a55c1=_0x4ff13d['querySelector']('input');_0x2a55c1&&_0x2a55c1['blur']();}},[_0x49355e,_0x256e28,_0xbe48ba,selectedInstrument]),_0x4c2ff=useCallback(_0x5c2d17=>{if(isKeyCode(_0x5c2d17['code'])){const _0x247046=_0x5c2d17['code'];switch(_0x247046){case'Enter':{_0x1e0215&&_0x5242c1('');break;}case'Escape':_0x22d41c();break;case'Tab':_0x5c2d17['shiftKey']&&_0x22d41c();break;}}},[_0x1e0215,_0x5242c1,_0x22d41c]),_0x5b4dd3=useCallback(_0x454e5d=>{const _0x111805=_0x454e5d?.['target'];_0xbe48ba['current']&&_0x111805&&_0x111805 instanceof HTMLInputElement&&setSelectionRange(_0x111805,0x0,_0x4955a5['length']),_0x5b7694?.();},[_0xbe48ba,_0x5b7694,_0x4955a5['length']]),_0x466ee4=useCallback(_0x2a475b=>{_0x129efa===null&&_0x209fca(selectedInstrument),_0x2a475b['relatedTarget']?.['id']!=='scrollable-id'&&_0x209fca(selectedInstrument);},[_0x129efa,selectedInstrument]),_0x306624=useCallback(()=>{_0x5b4dd3();},[_0x5b4dd3]),_0x412efd={};_0x412efd['className']=_0x142a1b;const _0x67c833={};_0x67c833['onTouchStart']=_0x306624,_0x67c833['ariaDescribedby']=_0x30c9ab,_0x67c833['value']=_0x4955a5,_0x67c833['autofocus']=initialFocus,_0x67c833['onFocus']=_0x5b4dd3,_0x67c833['onValueChange']=_0x13c468,_0x67c833['onBlur']=_0x466ee4,_0x67c833['isDisabled']=_0x1ad3c4,_0x67c833['placeholder']=selectedInstrument?placeholder:'',_0x67c833['onKeyDown']=_0x4c2ff,_0x67c833['ref']=_0xbe48ba,_0x67c833['testId']=_0x114286,_0x67c833['role']='textbox';const _0x41a1df={};return _0x41a1df['setHoveredSuggest']=_0x147545,_0x41a1df['hoveredSuggest']=_0x129efa,_0x41a1df['data']=_0x49355e,_0x41a1df['value']=_0x4955a5,_0x41a1df['onChange']=_0x5242c1,_0x41a1df['handleBlur']=_0x1ac6f8,_0x41a1df['onCloseRequest']=_0x22d41c,_0x4d4593['createElement'](_0x4d4593['Fragment'],null,_0x4d4593['createElement'](SymbolSuggestContainerStyled,_0x412efd,_0x4d4593['createElement'](SymbolSuggestInputStyled,_0x67c833),_0x4d4593['createElement'](SuggestContainerStyled,null,_0x4d4593['createElement'](DataStateSuccessWrapper,null,_0x4d4593['createElement'](SymbolSuggestList,_0x41a1df,_0x1f0553)))),_0x38c900&&_0x4d4593['createElement'](DataStateNoData,null));}));export const SymbolSuggestWithPopover=memo(_0x145ad4=>{const {data:_0x29fa83,DataStateNoData:_0x1e832c,onBlur:_0x309768,opened:_0x5641ac,..._0x16d997}=_0x145ad4,_0x1056a8=useRef(null),{rootElement:_0x4c6242}=useContext(ChartReactAppContext),_0x38e862=useCallback(()=>_0x309768?.(),[_0x309768]),_0x4b5b5a=useCallback(_0x7d03b1=>_0x4d4593['createElement'](SymbolSuggestPopoverStyled,{..._0x7d03b1,'noData':_0x29fa83['length']===0x0,'onRequestClose':_0x38e862,'align':'start','position':'bottom','opened':_0x5641ac,'parentEventTarget':_0x4c6242,'anchorRef':_0x1056a8},_0x7d03b1['children']),[_0x38e862,_0x29fa83['length'],_0x5641ac]),_0x277e46={..._0x16d997};return _0x277e46['data']=_0x29fa83,_0x277e46['onBlur']=_0x38e862,_0x277e46['ref']=_0x1056a8,_0x277e46['DataStateNoData']=_0x1e832c,_0x277e46['DataStateSuccessWrapper']=_0x4b5b5a,_0x277e46['noData']=_0x29fa83['length']===0x0&&_0x5641ac,_0x4d4593['createElement'](_0x4d4593['Fragment'],null,_0x4d4593['createElement'](SymbolSuggest,_0x277e46));});