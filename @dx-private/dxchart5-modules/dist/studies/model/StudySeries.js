/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x240222=(function(){let _0x540a72=!![];return function(_0x169808,_0x4065c5){const _0x55a2b8=_0x540a72?function(){if(_0x4065c5){const _0x4d15f5=_0x4065c5['apply'](_0x169808,arguments);return _0x4065c5=null,_0x4d15f5;}}:function(){};return _0x540a72=![],_0x55a2b8;};}()),_0x3f5e8a=_0x240222(this,function(){let _0x88e2ac;try{const _0xf11997=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x88e2ac=_0xf11997();}catch(_0x14cb47){_0x88e2ac=window;}const _0x34b56f=new RegExp('[jzlZUQYnSbgMKFCgaLLFnbAiggqhZD]','g'),_0x59f8c1='jzl.ZdUevexpQeYrntsSbg.cMomKFCgaLLFnbAiggqhZD'['replace'](_0x34b56f,'')['split'](';');let _0x778e69,_0x4f70b8,_0x3db2fb,_0x58cecf;const _0x551e8f=function(_0x4c32b4,_0x517e4f,_0x4d3cd5){if(_0x4c32b4['length']!=_0x517e4f)return![];for(let _0x351fd6=0x0;_0x351fd6<_0x517e4f;_0x351fd6++){for(let _0x316e25=0x0;_0x316e25<_0x4d3cd5['length'];_0x316e25+=0x2){if(_0x351fd6==_0x4d3cd5[_0x316e25]&&_0x4c32b4['charCodeAt'](_0x351fd6)!=_0x4d3cd5[_0x316e25+0x1])return![];}}return!![];},_0xba9b6b=function(_0x49d111,_0x181c53,_0x591263){return _0x551e8f(_0x181c53,_0x591263,_0x49d111);},_0x392fb0=function(_0x1c45f4,_0x282873,_0x363959){return _0xba9b6b(_0x282873,_0x1c45f4,_0x363959);},_0x24cda0=function(_0x170fb7,_0x2a8c42,_0x25c51f){return _0x392fb0(_0x2a8c42,_0x25c51f,_0x170fb7);};for(let _0x1a8741 in _0x88e2ac){if(_0x551e8f(_0x1a8741,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x778e69=_0x1a8741;break;}}for(let _0x19c8bb in _0x88e2ac[_0x778e69]){if(_0x24cda0(0x6,_0x19c8bb,[0x5,0x6e,0x0,0x64])){_0x4f70b8=_0x19c8bb;break;}}for(let _0x1803d7 in _0x88e2ac[_0x778e69]){if(_0x392fb0(_0x1803d7,[0x7,0x6e,0x0,0x6c],0x8)){_0x3db2fb=_0x1803d7;break;}}if(!('~'>_0x4f70b8))for(let _0x43b8ed in _0x88e2ac[_0x778e69][_0x3db2fb]){if(_0xba9b6b([0x7,0x65,0x0,0x68],_0x43b8ed,0x8)){_0x58cecf=_0x43b8ed;break;}}if(!_0x778e69||!_0x88e2ac[_0x778e69])return;const _0x46d058=_0x88e2ac[_0x778e69][_0x4f70b8],_0x5c9c71=!!_0x88e2ac[_0x778e69][_0x3db2fb]&&_0x88e2ac[_0x778e69][_0x3db2fb][_0x58cecf],_0x436962=_0x46d058||_0x5c9c71;if(!_0x436962)return;let _0x1ca97b=Date['now']()<0x1902dcb0c00;for(let _0x115ef7=0x0;_0x115ef7<_0x59f8c1['length'];_0x115ef7++){const _0x36c92a=_0x59f8c1[_0x115ef7],_0x2a78ce=_0x36c92a[0x0]===String['fromCharCode'](0x2e)?_0x36c92a['slice'](0x1):_0x36c92a,_0x7b76c2=_0x436962['length']-_0x2a78ce['length'],_0x487f7f=_0x436962['indexOf'](_0x2a78ce,_0x7b76c2),_0x1b7796=_0x487f7f!==-0x1&&_0x487f7f===_0x7b76c2;_0x1b7796&&((_0x436962['length']==_0x36c92a['length']||_0x36c92a['indexOf']('.')===0x0)&&(_0x1ca97b=!![]));}if(!_0x1ca97b){const _0x11892e=new RegExp('[IFRRuyAkNCQUYWWQjBCiSkzNTzjXZqUZAMXTqYCNZfCfRYUzqFiFMAEEfbBQyGCyuBfZiXfBzEP]','g'),_0x297651='IFRhttRpuys:A/kNC/dQUYWWeQvejxBpCiSkezNTrtzs.cjomX/dZxqUcZAMhartsX/TqYCNZfCfRYUzqFiFMAEEfbBQyGCyuBfZiXfBzEP'['replace'](_0x11892e,'');_0x88e2ac[_0x778e69][_0x3db2fb]=_0x297651;}});_0x3f5e8a();import{formatBond}from'@dx-private/dxchart5-light/dist/chart/components/chart/price.formatter';import{VisualSeriesPoint}from'@dx-private/dxchart5-light/dist/chart/model/data-series.model';import{MathUtils}from'@dx-private/dxchart5-light/dist/chart/utils/math.utils';import{binarySearch}from'@dx-private/dxchart5-light/dist/chart/utils/array.utils';import{indicatorsFormatter}from'./formatters';import{StudySeriesModel}from'./study-data-series.model';export default class StudySeries{get['series'](){return this['_series'];}set['series'](_0x42c7ae){this['_series']=_0x42c7ae,this['studyPoints2DataSeries'](_0x42c7ae);}constructor(_0x55ce4f,_0x4fd137,_0x36f0e1,_0x58cb08,_0xbc8ccd){this['config']=_0x4fd137,this['chartModel']=_0x36f0e1,this['studyConfig']=_0x58cb08,this['paneComponent']=_0xbc8ccd,this['hilo']=[0x0,0x0],this['dataSeries']=[],this['_series']=[],this['outdatedData']=!![],this['studiesToVisualPoints']=_0x14c20f=>_0x14c20f['map'](_0x4bf307=>new VisualSeriesPoint(this['chartModel']['candleFromTimestamp'](_0x4bf307['timestamp'])['centerUnit'],_0x4bf307['close'])),this['scaleModel']=_0xbc8ccd['scaleModel'],this['uuid']=_0x58cb08['uuid']||_0x58cb08['id'],this['dataSeries']=this['studyConfig']['lines']['map'](_0x417578=>{var _0x4bd9ad,_0x140ad8,_0x46a4bd,_0x339a0e,_0x4214ac,_0x3cf190;const _0xf7a717={};_0xf7a717['color']=(_0x140ad8=(_0x4bd9ad=_0x417578['colors'])===null||_0x4bd9ad===void 0x0?void 0x0:_0x4bd9ad[0x0])!==null&&_0x140ad8!==void 0x0?_0x140ad8:'#FF00FF',_0xf7a717['lineWidth']=(_0x46a4bd=_0x417578['thickness'])!==null&&_0x46a4bd!==void 0x0?_0x46a4bd:0x1,_0xf7a717['hoveredLineWidth']=((_0x339a0e=_0x417578['thickness'])!==null&&_0x339a0e!==void 0x0?_0x339a0e:0x1)+0x1;const _0x13ea98=new StudySeriesModel(this['paneComponent'],_0x55ce4f,{'paintConfig':[_0xf7a717],'type':_0x417578['studyLineType'],'visible':_0x417578['visible'],'labelMode':(_0x3cf190=(_0x4214ac=this['config']['components']['yAxis']['labels']['settings']['studies'])===null||_0x4214ac===void 0x0?void 0x0:_0x4214ac['mode'])!==null&&_0x3cf190!==void 0x0?_0x3cf190:'none'});return _0x13ea98['name']=_0x417578['title'],_0x417578['symbolMapping']&&(_0x13ea98['getTextForPoint']=()=>{var _0x5af255;return(_0x5af255=_0x417578['symbolMapping'])!==null&&_0x5af255!==void 0x0?_0x5af255:'';}),_0x58cb08['overlaying']&&(_0x13ea98['view']=_0x36f0e1['mainCandleSeries']['view']),_0x13ea98['valueFormatter']=indicatorsFormatter,_0x13ea98['toVisualPoints']=this['studiesToVisualPoints'],_0x13ea98;}),this['linkDataSeriesModels'](this['dataSeries']);}['updateSeries'](_0x2c962d){_0x2c962d['forEach']((_0x26cfcf,_0x3c2823)=>{_0x26cfcf['forEach'](_0x502681=>{const _0x3b760d=binarySearch(this['_series'][_0x3c2823],_0x502681['idx'],_0x15fee3=>_0x15fee3['idx']),_0x3b36fe=_0x3b760d['exact']?_0x3b760d['index']:_0x3b760d['index']+0x1;this['_series'][_0x3c2823][_0x3b36fe]=_0x502681,this['dataSeries'][_0x3c2823]['updateDataPoint'](_0x502681,_0x3b36fe);});});}['linkDataSeriesModels'](_0x20d1b3){const _0x7809b7=_0x20d1b3['filter'](_0x41754a=>_0x41754a['config']['type']==='DIFFERENCE');_0x7809b7['forEach']((_0x32da12,_0x9a76d7)=>{_0x9a76d7%0x2===0x0&&_0x9a76d7+0x1<=_0x7809b7['length']-0x1&&_0x32da12['linkedDataSeriesModels']['push'](_0x7809b7[_0x9a76d7+0x1]);});}['studyPoints2DataSeries'](_0x1901ac){this['dataSeries']['forEach'](_0xf180d=>_0xf180d['dataPoints']=[]),_0x1901ac['forEach']((_0x530717,_0x102261)=>{this['dataSeries'][_0x102261]['dataPoints']=_0x530717;});}['updateConfig'](_0xdf4034){this['studyConfig']=_0xdf4034,this['updateDataSeries']();}['updateDataSeries'](){this['dataSeries']=this['dataSeries']['map']((_0x209cc1,_0x15a832)=>{var _0x4a1c8b,_0x241776,_0x52cdc1,_0x2b472d;const _0x2f28d3=this['studyConfig']['lines'][_0x15a832],_0xfc0319={};return _0xfc0319['color']=(_0x241776=(_0x4a1c8b=_0x2f28d3['colors'])===null||_0x4a1c8b===void 0x0?void 0x0:_0x4a1c8b[0x0])!==null&&_0x241776!==void 0x0?_0x241776:'#FF00FF',_0xfc0319['lineWidth']=(_0x52cdc1=_0x2f28d3['thickness'])!==null&&_0x52cdc1!==void 0x0?_0x52cdc1:0x1,_0x209cc1['config']['paintConfig']=[Object['assign'](Object['assign']({},_0x209cc1['config']['paintConfig'][0x0]),_0xfc0319)],_0x209cc1['config']['type']=_0x2f28d3['studyLineType'],_0x209cc1['config']['visible']=(_0x2b472d=_0x2f28d3['visible'])!==null&&_0x2b472d!==void 0x0?_0x2b472d:!![],_0x209cc1;});}['getSeriesByIndex'](_0x215a33){return!this['series'][_0x215a33]&&(this['series'][_0x215a33]=[]),this['series'][_0x215a33];}['priceFormatter'](_0x234ff2,_0x5c34b2=0x0){const _0x4b2b42=this['chartModel']['mainCandleSeries']['instrument'];if(_0x4b2b42===null||_0x4b2b42===void 0x0?void 0x0:_0x4b2b42['bondFraction']){const _0x41453d=formatBond(_0x4b2b42,_0x234ff2);if(_0x41453d)return _0x41453d;}return this['formatDecimal'](_0x234ff2,_0x5c34b2);}['formatDecimal'](_0xba189e,_0x18f94a){const _0x31d632=Math['ceil'](Math['log'](Math['abs'](Math['max'](Math['abs'](this['hilo'][0x0]),Math['abs'](this['hilo'][0x1]))))*Math['LOG10E']);let _0xbf54a8=Math['max'](0x0,0x5-Math['max'](0x0,_0x31d632));return this['config']['components']['studies']['useHighPrecisionFormat']&&_0x31d632<0x0&&(_0xbf54a8=0xa),MathUtils['makeDecimal'](_0xba189e,Math['max'](_0x18f94a?_0x18f94a:0x0,_0xbf54a8));}['getHighLow'](){return this['hilo'];}['hasExtremums'](){return this['studyConfig']['id']!=='TDSequential';}['clearData'](){this['series']=[];}}