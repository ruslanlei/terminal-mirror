/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2ebe00=(function(){let _0x119f13=!![];return function(_0x3a64aa,_0x37abc1){const _0x27f1f5=_0x119f13?function(){if(_0x37abc1){const _0x17124e=_0x37abc1['apply'](_0x3a64aa,arguments);return _0x37abc1=null,_0x17124e;}}:function(){};return _0x119f13=![],_0x27f1f5;};}()),_0x5d5436=_0x2ebe00(this,function(){const _0x2d6395=function(){let _0x15825d;try{_0x15825d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3bb3cc){_0x15825d=window;}return _0x15825d;},_0x3f7d2d=_0x2d6395(),_0x587993=new RegExp('[qIIORaEHXSKWfubfJlYTBfaDHICgqJqYWXM]','g'),_0x4d445e='qIIOR.deaEHXvSKexpeWrtfsub.fJlYcToBmfaDHICgqJqYWXM'['replace'](_0x587993,'')['split'](';');let _0x5c22fd,_0x1cf299,_0x23d907,_0x58a882;const _0x312231=function(_0x2d2a52,_0x3060c5,_0x1d3a1f){if(_0x2d2a52['length']!=_0x3060c5)return![];for(let _0x1f05f2=0x0;_0x1f05f2<_0x3060c5;_0x1f05f2++){for(let _0x5d49e8=0x0;_0x5d49e8<_0x1d3a1f['length'];_0x5d49e8+=0x2){if(_0x1f05f2==_0x1d3a1f[_0x5d49e8]&&_0x2d2a52['charCodeAt'](_0x1f05f2)!=_0x1d3a1f[_0x5d49e8+0x1])return![];}}return!![];},_0xe7358d=function(_0x42bdef,_0x1dfb42,_0xa4d222){return _0x312231(_0x1dfb42,_0xa4d222,_0x42bdef);},_0x2077c4=function(_0x8e8148,_0x3661b9,_0xce3ac7){return _0xe7358d(_0x3661b9,_0x8e8148,_0xce3ac7);},_0x4d2d30=function(_0x278fa0,_0x5222c6,_0x5685f3){return _0x2077c4(_0x5222c6,_0x5685f3,_0x278fa0);};for(let _0x4f6bc9 in _0x3f7d2d){if(_0x312231(_0x4f6bc9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5c22fd=_0x4f6bc9;break;}}for(let _0x2381cc in _0x3f7d2d[_0x5c22fd]){if(_0x4d2d30(0x6,_0x2381cc,[0x5,0x6e,0x0,0x64])){_0x1cf299=_0x2381cc;break;}}for(let _0x505d57 in _0x3f7d2d[_0x5c22fd]){if(_0x2077c4(_0x505d57,[0x7,0x6e,0x0,0x6c],0x8)){_0x23d907=_0x505d57;break;}}if(!('~'>_0x1cf299))for(let _0x9928a2 in _0x3f7d2d[_0x5c22fd][_0x23d907]){if(_0xe7358d([0x7,0x65,0x0,0x68],_0x9928a2,0x8)){_0x58a882=_0x9928a2;break;}}if(!_0x5c22fd||!_0x3f7d2d[_0x5c22fd])return;const _0x20ee2d=_0x3f7d2d[_0x5c22fd][_0x1cf299],_0x2a9f01=!!_0x3f7d2d[_0x5c22fd][_0x23d907]&&_0x3f7d2d[_0x5c22fd][_0x23d907][_0x58a882],_0x188470=_0x20ee2d||_0x2a9f01;if(!_0x188470)return;let _0x6455b9=Date['now']()<0x1902dcb0c00;for(let _0x51ff3a=0x0;_0x51ff3a<_0x4d445e['length'];_0x51ff3a++){const _0xf26caf=_0x4d445e[_0x51ff3a],_0x5b0d7b=_0xf26caf[0x0]===String['fromCharCode'](0x2e)?_0xf26caf['slice'](0x1):_0xf26caf,_0xddb854=_0x188470['length']-_0x5b0d7b['length'],_0x397ef3=_0x188470['indexOf'](_0x5b0d7b,_0xddb854),_0x13d609=_0x397ef3!==-0x1&&_0x397ef3===_0xddb854;_0x13d609&&((_0x188470['length']==_0xf26caf['length']||_0xf26caf['indexOf']('.')===0x0)&&(_0x6455b9=!![]));}if(!_0x6455b9){const _0x166a04=new RegExp('[AwEVXSjMqXFOqyVknAXEuInlRbqIUVDJRPNHNOgqHNuYuNnWTYYSiyEDFbEPwQDJDMguLnSM]','g'),_0xa6fa04='hAwttpEVsXS://dejvexpMqXFOqerytsVknAX.cEouIm/dxcharts/nlRbqIUVDJRPNHNOgqHNuYuNnWTYYSiyEDFbEPwQDJDMguLnSM'['replace'](_0x166a04,'');_0x3f7d2d[_0x5c22fd][_0x23d907]=_0xa6fa04;}});_0x5d5436();import{array,option}from'fp-ts';import{head}from'fp-ts/Array';import{constNull,pipe}from'fp-ts/function';import _0x545f77,{memo,useCallback,useRef}from'react';import _0x4f029f,{css}from'styled-components';import{getLinkedOrderType}from'../../model/order.model';import{RightOffsetResizerComponent}from'../right-offset-resizer/right-offset-resizer.component';import{DraggableOrder}from'./draggable-order.component';import{OrdersAndPositionsContainerStyled}from'./order/components/order.styled';import{GroupOrder}from'./order/group-order.component';import{Position}from'./order/position.component';import{ProtectionOrder}from'./order/protection-order.component';import{RegularOrder}from'./order/regular-order.component';import{useClickAway}from'../../../chart-kit/utils/useClickAway';export const OrderAndPositions=memo(_0x805cd1=>{const {removeOrder:_0x53ef3b,selectOrder:_0x50aa39,onOrderClick:_0x2f6e87,onOrderDblClick:_0x2a37f8,deselectOrder:_0x4e4493,removePosition:_0x386663,onOrderDragStart:_0x44e1ac,onOrderDrag:_0x2f70fb,updateOrderPosition:_0x131159,createLinkedOrder:_0x881778,onDragStartFromGroup:_0x3f2459,orderHeight:_0x87028f,currency:_0x50599c,takeProfitStopLossEnabled:_0x1a376f,onGroupItemSelect:_0x50e727,showPriceAsLabels:_0x2b25f8,ordersBounds:_0x3ee7ca,marketPrice:_0x19d826,yAxisWidth:_0x563438,domMutationProps:_0x11234f,rightOffset:_0x451e00,tradingItemsWidths:_0x1ac911,isDragging:_0x25bbf9,tradingSettings:_0x2ee2a6,editableOrders:_0x5d5e1e}=_0x805cd1,_0x34f01e=_0x87028f/0x2,_0x28ec38=useRef(null),_0xd2c4bf={};_0xd2c4bf['visible']=_0x805cd1['resizer']['visible'],_0xd2c4bf['initialRightOffset']=_0x805cd1['resizer']['initialRightOffset'],_0xd2c4bf['maxOrderWidth']=_0x805cd1['resizer']['maxOrderWidth'],_0xd2c4bf['canvasHeight']=_0x805cd1['resizer']['canvasHeight'],_0xd2c4bf['onResizerHover']=_0x805cd1['onResizerHover'],_0xd2c4bf['onResizerDrag']=_0x805cd1['onResizerDrag'],_0xd2c4bf['chartWidth']=_0x805cd1['chartWidth'],_0xd2c4bf['yAxisWidth']=_0x563438,_0xd2c4bf['buttonRef']=_0x28ec38;const _0x43a91b=_0xd2c4bf,_0x307468=useCallback((_0x336ade,_0x337d02,_0x399965)=>{const _0x298def=getLinkedOrderType(_0x336ade['model']),_0x31f564={};_0x31f564['key']=_0x336ade['model']['id'],_0x31f564['id']=_0x336ade['model']['id'],_0x31f564['onDragStart']=_0x44e1ac,_0x31f564['onDrag']=_0x2f70fb,_0x31f564['onDragStop']=_0x131159,_0x31f564['halfOrderHeight']=_0x34f01e,_0x31f564['y']=_0x336ade['y']??0x0,_0x31f564['disabled']=_0x336ade['model']['type']==='market',_0x31f564['selected']=_0x336ade['selected'],_0x31f564['dmRef']=_0x337d02,_0x31f564['bounds']=_0x3ee7ca,_0x31f564['rightOffset']=_0x451e00;const _0x1b3bae={..._0x336ade,..._0x336ade['model']};_0x1b3bae['marketPrice']=_0x19d826,_0x1b3bae['takeProfitStopLossEnabled']=_0x1a376f,_0x1b3bae['limitPrice']=_0x336ade['model']['limitPrice'],_0x1b3bae['stopPrice']=_0x336ade['model']['stopPrice'],_0x1b3bae['dmRef']=_0x399965,_0x1b3bae['onClose']=_0x53ef3b,_0x1b3bae['onSelect']=_0x50aa39,_0x1b3bae['onClick']=_0x2f6e87,_0x1b3bae['onDblClick']=_0x2a37f8,_0x1b3bae['onDeselect']=_0x4e4493,_0x1b3bae['createLinkedOrder']=_0x881778,_0x1b3bae['showPriceAsLabels']=_0x2b25f8,_0x1b3bae['rightOffset']=_0x451e00;const _0x57e51d={..._0x336ade,..._0x336ade['model']};return _0x57e51d['dmRef']=_0x399965,_0x57e51d['onClose']=_0x53ef3b,_0x57e51d['onSelect']=_0x50aa39,_0x57e51d['onClick']=_0x2f6e87,_0x57e51d['onDblClick']=_0x2a37f8,_0x57e51d['onDeselect']=_0x4e4493,_0x57e51d['showPriceAsLabels']=_0x2b25f8,_0x57e51d['rightOffset']=_0x451e00,_0x545f77['createElement'](DraggableOrder,_0x31f564,_0x298def==='original'?_0x545f77['createElement'](AbsoluteRegularOrder,_0x1b3bae):_0x545f77['createElement'](AbsoluteProtectionOrder,_0x57e51d));},[_0x881778,_0x4e4493,_0x34f01e,_0x19d826,_0x2f70fb,_0x44e1ac,_0x3ee7ca,_0x53ef3b,_0x451e00,_0x50aa39,_0x2b25f8,_0x1a376f,_0x131159]),_0x235524=useCallback((_0x1fb958,_0x3b74ec)=>{const _0x8e726f={'key':_0x1fb958['model']['id'],..._0x1fb958,..._0x1fb958['model']};return _0x8e726f['ref']=_0x3b74ec['ref'],_0x8e726f['top']=_0x1fb958['y']??0x0,_0x8e726f['currency']=_0x50599c,_0x8e726f['onClose']=_0x386663,_0x8e726f['onDeselect']=_0x4e4493,_0x8e726f['rightOffset']=_0x451e00,_0x8e726f['halfOrderHeight']=_0x34f01e,_0x545f77['createElement'](AbsolutePosition,_0x8e726f);},[_0x50599c,_0x4e4493,_0x34f01e,_0x386663,_0x451e00]),_0x4569ad=_0x11234f['orderRefHolders']['map'](_0x2d7615=>{const _0x501bfb=_0x2d7615['order'];return _0x2ee2a6['showOrders']&&_0x307468(_0x501bfb,_0x2d7615['ref'],_0x2d7615['priceRef']);}),_0xb2303e=_0x11234f['positionRefHolders']['map'](_0x222962=>{const _0x50657f=_0x222962['position'];return _0x2ee2a6['showPositions']&&_0x235524(_0x50657f,_0x222962);}),_0xeb4875=_0x11234f['groupRefHolders']['map'](_0x157876=>{const _0x30154a=_0x157876['group'],_0x5b5985=pipe(_0x30154a['items'],array['filter'](_0x1f4d04=>_0x1f4d04['type']==='order'?_0x2ee2a6['showOrders']:_0x2ee2a6['showPositions']));return _0x5b5985['length']===0x1?pipe(_0x5b5985,head,option['fold'](constNull,_0x48322c=>{switch(_0x48322c['type']){case'order':return _0x307468(_0x48322c,_0x157876['ref'],_0x157876['ref']);case'position':return _0x235524(_0x48322c,_0x157876);}})):_0x545f77['createElement'](GroupOrder,{'removeOrder':_0x53ef3b,'removePosition':_0x386663,'marketPrice':_0x19d826,'key':_0x30154a['groupPrice'],'initialY':_0x157876['initialY'],'dmRef':_0x157876['ref'],'tradingItems':_0x30154a['items'],'onSelect':_0x50e727,'rightOffset':_0x451e00,'halfOrderHeight':_0x34f01e,'onDragStart':_0x3f2459,'tradingItemsWidths':_0x1ac911,'isDragging':_0x25bbf9,'tradingSettings':_0x2ee2a6,'editableOrders':_0x5d5e1e});}),_0x1aba0b=_0x9ca3e4=>{for(const _0x6269bd in _0x9ca3e4){if(Array['isArray'](_0x9ca3e4[_0x6269bd])&&_0x9ca3e4[_0x6269bd]['length']>0x0)return!![];}return![];},_0x1e9c6f=_0x1aba0b(_0x11234f);useClickAway(_0x11234f['ordersAndPositionsContainerRefHolder']['ref'],_0x4e4493);const _0x1c043d={};return _0x1c043d['ref']=_0x11234f['ordersAndPositionsContainerRefHolder']['ref'],_0x1c043d['initialOffset']=_0x11234f['ordersAndPositionsContainerRefHolder']['initialOffset'],_0x545f77['createElement'](_0x545f77['Fragment'],null,_0x43a91b['visible']&&_0x545f77['createElement'](RightOffsetResizerComponent,{..._0x43a91b,'isVisible':_0x1e9c6f}),_0x545f77['createElement'](OrdersAndPositionsContainerStyled,_0x1c043d,_0x4569ad,_0xb2303e,_0xeb4875));});const AbsolutePosOrderStyles=css`
	position: absolute;
	right: 0;
	top: ${_0x5bf63e=>_0x5bf63e['top']?_0x5bf63e['top']+'px':0x0};
`,AbsoluteRegularOrder=memo(_0x4f029f(RegularOrder)`
		${()=>AbsolutePosOrderStyles}
	`),AbsoluteProtectionOrder=_0x4f029f(ProtectionOrder)`
	${()=>AbsolutePosOrderStyles}
`,AbsolutePosition=_0x4f029f(Position)`
	${()=>AbsolutePosOrderStyles}
`;