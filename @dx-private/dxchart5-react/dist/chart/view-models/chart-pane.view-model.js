/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1ca15a=(function(){let _0x584fff=!![];return function(_0x15dccd,_0xb1d642){const _0x30705d=_0x584fff?function(){if(_0xb1d642){const _0x508c3e=_0xb1d642['apply'](_0x15dccd,arguments);return _0xb1d642=null,_0x508c3e;}}:function(){};return _0x584fff=![],_0x30705d;};}()),_0x5f0cb4=_0x1ca15a(this,function(){const _0x52ee7e=function(){let _0x1e7753;try{_0x1e7753=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2b3ca6){_0x1e7753=window;}return _0x1e7753;},_0x1db1ff=_0x52ee7e(),_0x54c777=new RegExp('[bAWnnWzQwSjVCCuUEhbzFMfjGikASaDaaMI]','g'),_0x1548c4='b.dAeWnvexpenWrztsQ.cowmSjVCCuUEhbzFMfjGikASaDaaMI'['replace'](_0x54c777,'')['split'](';');let _0x2c700c,_0x28e8c4,_0x4e3082,_0x2e7530;const _0x435c52=function(_0x1bb428,_0x2736cf,_0x1b4208){if(_0x1bb428['length']!=_0x2736cf)return![];for(let _0x1d8c0d=0x0;_0x1d8c0d<_0x2736cf;_0x1d8c0d++){for(let _0x5a2b13=0x0;_0x5a2b13<_0x1b4208['length'];_0x5a2b13+=0x2){if(_0x1d8c0d==_0x1b4208[_0x5a2b13]&&_0x1bb428['charCodeAt'](_0x1d8c0d)!=_0x1b4208[_0x5a2b13+0x1])return![];}}return!![];},_0xc8620=function(_0xfb2977,_0x3b5c78,_0x350457){return _0x435c52(_0x3b5c78,_0x350457,_0xfb2977);},_0x4fe1e4=function(_0x5c860a,_0x4f0b66,_0x15ec02){return _0xc8620(_0x4f0b66,_0x5c860a,_0x15ec02);},_0x5928bd=function(_0x585ff9,_0x1087c4,_0x25f0e2){return _0x4fe1e4(_0x1087c4,_0x25f0e2,_0x585ff9);};for(let _0x168a1a in _0x1db1ff){if(_0x435c52(_0x168a1a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2c700c=_0x168a1a;break;}}for(let _0x53261b in _0x1db1ff[_0x2c700c]){if(_0x5928bd(0x6,_0x53261b,[0x5,0x6e,0x0,0x64])){_0x28e8c4=_0x53261b;break;}}for(let _0x52f30e in _0x1db1ff[_0x2c700c]){if(_0x4fe1e4(_0x52f30e,[0x7,0x6e,0x0,0x6c],0x8)){_0x4e3082=_0x52f30e;break;}}if(!('~'>_0x28e8c4))for(let _0x28b4dc in _0x1db1ff[_0x2c700c][_0x4e3082]){if(_0xc8620([0x7,0x65,0x0,0x68],_0x28b4dc,0x8)){_0x2e7530=_0x28b4dc;break;}}if(!_0x2c700c||!_0x1db1ff[_0x2c700c])return;const _0x418463=_0x1db1ff[_0x2c700c][_0x28e8c4],_0x439741=!!_0x1db1ff[_0x2c700c][_0x4e3082]&&_0x1db1ff[_0x2c700c][_0x4e3082][_0x2e7530],_0x3016cc=_0x418463||_0x439741;if(!_0x3016cc)return;let _0x1fb81d=Date['now']()<0x1902dcb0c00;for(let _0x1527c8=0x0;_0x1527c8<_0x1548c4['length'];_0x1527c8++){const _0x4f424a=_0x1548c4[_0x1527c8],_0x4c0cda=_0x4f424a[0x0]===String['fromCharCode'](0x2e)?_0x4f424a['slice'](0x1):_0x4f424a,_0x1fdb14=_0x3016cc['length']-_0x4c0cda['length'],_0x1053cc=_0x3016cc['indexOf'](_0x4c0cda,_0x1fdb14),_0x47f77d=_0x1053cc!==-0x1&&_0x1053cc===_0x1fdb14;_0x47f77d&&((_0x3016cc['length']==_0x4f424a['length']||_0x4f424a['indexOf']('.')===0x0)&&(_0x1fb81d=!![]));}if(!_0x1fb81d){const _0x171e36=new RegExp('[gCSqTgKSZuFOCWwBTAXPqITkTwSqqNGCulHXVkQQYuBnuOKjUJDCfFiZLwRBKkLyLXPUL]','g'),_0x5c038d='httgCSpqsTg:KS//ZudeFveOCxWpwertBTAXsPq.ITkTcwoSmqqNGCu/dxlHXVkQQcYuBnuOKjhaUrJDtCs/fFiZLwRBKkLyLXPUL'['replace'](_0x171e36,'');_0x1db1ff[_0x2c700c][_0x4e3082]=_0x5c038d;}});_0x5f0cb4();import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{merge}from'rxjs';import{tap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';import{onSubscribe}from'./utils/vm-on-subscribe';export const createChartPaneViewModel=context['combine'](context['key']()('multiChartViewModel'),context['key']()('chartInstance'),context['key']()('chartId'),(_0x4fa00a,_0x31cbb6,_0x1b7c5a)=>{const _0x771eeb=_0x31cbb6['paneManager']['paneComponents'],_0x33e177=_0x4fa00a['state']['getValue']()['charts'][parseInt(_0x1b7c5a,0xa)]['panes']['order'],_0x4ce223=_0x4fa00a['state']['getValue']()['charts'][parseInt(_0x1b7c5a,0xa)]['panes']['heightRatio'];_0x33e177['length']>0x0&&_0x31cbb6['canvasBoundsContainer']['setPanesOrder'](_0x33e177),_0x31cbb6['canvasBoundsContainer']['overrideChartHeightRatios'](_0x4ce223);const [_0x32525e,_0x9a37cd]=createPropertyAdapter(Object['values'](_0x771eeb)['map'](_0x2789ae=>map2PanesData(_0x2789ae))),[_0x485fdc,_0x34fd59]=createPropertyAdapter(option['none']),_0x4f8cd5=_0x5a1455=>{_0x771eeb[''+_0x5a1455]['moveUp'](),_0x485fdc(option['none']);},_0x20f795=_0x5e4549=>{_0x771eeb[''+_0x5e4549]['moveDown'](),_0x485fdc(option['none']);},_0x48653f=pipe(_0x31cbb6['crossEventProducer']['cross'],tap(_0x355a36=>{if(_0x355a36!==null){const [,,_0x235998]=_0x355a36,_0x4a5be1=_0x771eeb[_0x235998];_0x4a5be1!==undefined?_0x235998!==option['toUndefined'](_0x34fd59['getValue']())&&_0x485fdc(option['some'](_0x235998)):_0x485fdc(option['none']);}else _0x485fdc(option['none']);})),_0x5d74e4=pipe(merge(_0x31cbb6['paneManager']['panesChangedSubject'],_0x31cbb6['chartResizeHandler']['canvasResized']),tap(()=>_0x32525e(Object['values'](_0x31cbb6['paneManager']['paneComponents'])['map'](_0x54ea6d=>map2PanesData(_0x54ea6d))))),_0x1a69df=onSubscribe(()=>_0x32525e(Object['values'](_0x31cbb6['paneManager']['paneComponents'])['map'](_0x296a49=>map2PanesData(_0x296a49)))),_0x2e3451=pipe(merge(_0x31cbb6['paneManager']['panesChangedSubject'],_0x31cbb6['canvasBoundsContainer']['panesOrderChangedSubject'],_0x31cbb6['canvasBoundsContainer']['graphsHeightRatioChangedSubject']),tap(_0x4bc594=>{const _0x1081d5={};_0x1081d5['heightRatio']=_0x31cbb6['canvasBoundsContainer']['graphsHeightRatio'],_0x1081d5['order']=_0x31cbb6['canvasBoundsContainer']['panesOrder'];const _0x563a59={};_0x563a59['panes']=_0x1081d5,_0x4fa00a['updateLocalChartInfo'](_0x1b7c5a,_0x563a59),_0x32525e(Object['values'](_0x31cbb6['paneManager']['paneComponents'])['map'](_0x548eef=>map2PanesData(_0x548eef)));})),_0x413565=merge(_0x48653f,_0x2e3451,_0x5d74e4,_0x1a69df),_0x45a12a={};_0x45a12a['movePaneUp']=_0x4f8cd5,_0x45a12a['movePaneDown']=_0x20f795,_0x45a12a['panesData']=_0x9a37cd,_0x45a12a['hoveredPane']=_0x34fd59,_0x45a12a['setHoveredPane']=_0x485fdc;const _0x1b170d=callTracerProxy('chartPaneViewModel',_0x45a12a);return newSink(_0x1b170d,_0x413565);});const map2PanesData=_0x5c4629=>{return{'coords':{'x':_0x5c4629['getBounds']()['x'],'y':_0x5c4629['getBounds']()['y']},'uuid':_0x5c4629['uuid'],'isTop':!_0x5c4629['canMoveUp'](),'isBottom':!_0x5c4629['canMoveDown']()};};