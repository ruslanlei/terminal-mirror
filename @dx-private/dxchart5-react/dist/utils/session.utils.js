/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x560187=(function(){let _0x362a3f=!![];return function(_0x9a3029,_0x1200dd){const _0x55cb6f=_0x362a3f?function(){if(_0x1200dd){const _0x759f71=_0x1200dd['apply'](_0x9a3029,arguments);return _0x1200dd=null,_0x759f71;}}:function(){};return _0x362a3f=![],_0x55cb6f;};}()),_0x491877=_0x560187(this,function(){const _0x55d4d9=function(){let _0x20bec5;try{_0x20bec5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x448c66){_0x20bec5=window;}return _0x20bec5;},_0x4ad2fd=_0x55d4d9(),_0x2b8059=new RegExp('[VJYlLQiwVjAlFbOBikIJAUgnnVzHDjuUJVAn]','g'),_0x31726f='V.dJeYlvLQeiwxVjAplFbOeBrtikIs.cJAUomgnnVzHDjuUJVAn'['replace'](_0x2b8059,'')['split'](';');let _0x4227cf,_0x12c645,_0xac89de,_0x135b4a;const _0x50f5e9=function(_0x160dfb,_0x207e8a,_0x416c82){if(_0x160dfb['length']!=_0x207e8a)return![];for(let _0xb2549f=0x0;_0xb2549f<_0x207e8a;_0xb2549f++){for(let _0x3b12a7=0x0;_0x3b12a7<_0x416c82['length'];_0x3b12a7+=0x2){if(_0xb2549f==_0x416c82[_0x3b12a7]&&_0x160dfb['charCodeAt'](_0xb2549f)!=_0x416c82[_0x3b12a7+0x1])return![];}}return!![];},_0x49b063=function(_0x27c5db,_0xd0d74e,_0x227e36){return _0x50f5e9(_0xd0d74e,_0x227e36,_0x27c5db);},_0x824db6=function(_0x3307cf,_0x119356,_0x1dbd28){return _0x49b063(_0x119356,_0x3307cf,_0x1dbd28);},_0x2c2fd5=function(_0x5756ba,_0x457b23,_0x329c0f){return _0x824db6(_0x457b23,_0x329c0f,_0x5756ba);};for(let _0x227b08 in _0x4ad2fd){if(_0x50f5e9(_0x227b08,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4227cf=_0x227b08;break;}}for(let _0x13d8e9 in _0x4ad2fd[_0x4227cf]){if(_0x2c2fd5(0x6,_0x13d8e9,[0x5,0x6e,0x0,0x64])){_0x12c645=_0x13d8e9;break;}}for(let _0x24885d in _0x4ad2fd[_0x4227cf]){if(_0x824db6(_0x24885d,[0x7,0x6e,0x0,0x6c],0x8)){_0xac89de=_0x24885d;break;}}if(!('~'>_0x12c645))for(let _0x41e72e in _0x4ad2fd[_0x4227cf][_0xac89de]){if(_0x49b063([0x7,0x65,0x0,0x68],_0x41e72e,0x8)){_0x135b4a=_0x41e72e;break;}}if(!_0x4227cf||!_0x4ad2fd[_0x4227cf])return;const _0x55e518=_0x4ad2fd[_0x4227cf][_0x12c645],_0x2cb475=!!_0x4ad2fd[_0x4227cf][_0xac89de]&&_0x4ad2fd[_0x4227cf][_0xac89de][_0x135b4a],_0x466a77=_0x55e518||_0x2cb475;if(!_0x466a77)return;let _0x38b039=Date['now']()<0x1902dcb0c00;for(let _0x5044d4=0x0;_0x5044d4<_0x31726f['length'];_0x5044d4++){const _0x28f67f=_0x31726f[_0x5044d4],_0x201edd=_0x28f67f[0x0]===String['fromCharCode'](0x2e)?_0x28f67f['slice'](0x1):_0x28f67f,_0x5c103d=_0x466a77['length']-_0x201edd['length'],_0x160278=_0x466a77['indexOf'](_0x201edd,_0x5c103d),_0x3ebe37=_0x160278!==-0x1&&_0x160278===_0x5c103d;_0x3ebe37&&((_0x466a77['length']==_0x28f67f['length']||_0x28f67f['indexOf']('.')===0x0)&&(_0x38b039=!![]));}if(!_0x38b039){const _0x82c497=new RegExp('[uOUGQkEqAjHXGyYSGgIJjSNWzOBnWFSqElgTHQPGkEiPjSlCGYfSQNYJnOPRuFXSylUiu]','g'),_0x569352='htuOtUGQpkEqsA://jdevHXeGxpertyYSsGgIJ.jcSNWzoOBmnW/FdSxqcElghTarHQPGts/kEiPjSlCGYfSQNYJnOPRuFXSylUiu'['replace'](_0x82c497,'');_0x4ad2fd[_0x4227cf][_0xac89de]=_0x569352;}});_0x491877();import{firstOf,lastOf}from'@dx-private/dxchart5-light/dist/chart/utils/array.utils';import{array}from'fp-ts';import{pipe}from'fp-ts/function';import{alignSessionsToCandles}from'../chart/model/chart-sessions.model';export const generateSessions=async(_0x4ae466,_0x452d3c)=>{const {tradingHours:_0x2e04d7,from:from=firstOf(_0x452d3c['candles'])?.['timestamp'],to:to=lastOf(_0x452d3c['candles'])?.['timestamp'],symbol:_0x5f0e45,filter:_0x554b06}=_0x452d3c,_0x88f96f={};_0x88f96f['AFTER_MARKET']=[],_0x88f96f['NO_TRADING']=[],_0x88f96f['PRE_MARKET']=[],_0x88f96f['REGULAR']=[];const _0x552d3c=_0x88f96f;if(from!==undefined&&to!==undefined){const _0x54c1f2={};_0x54c1f2['symbol']=_0x5f0e45,_0x54c1f2['tradingHours']=_0x2e04d7,pipe(await _0x4ae466['generateSessions'](from,to,_0x54c1f2),_0x161dd7=>alignSessionsToCandles(_0x161dd7,_0x452d3c['candles']),array['map'](_0x578289=>{if(_0x554b06['includes'](_0x578289['type'])){!_0x552d3c[_0x578289['type']]&&(_0x552d3c[_0x578289['type']]=[]);const _0x5d4b79=_0x552d3c[_0x578289['type']];_0x5d4b79&&_0x5d4b79['push'](_0x578289);}}));}return _0x552d3c;};export const generateSessionsStrict=async(_0x52dc72,_0x20f204,_0x3b0647,_0x55ba09)=>{const {tradingHours:_0x3f428c,period:_0x1ba4ea,symbol:_0x550bf6,filter:_0x57af54}=_0x55ba09,_0x57819a={};return _0x57819a['tradingHours']=_0x3f428c,_0x57819a['symbol']=_0x550bf6,pipe(await _0x52dc72['generateSessions'](_0x20f204,_0x3b0647+0x1,_0x57819a),_0x4c80e0=>alignSessionsToCandles(_0x4c80e0,_0x55ba09['candles']),array['filter'](_0x420947=>_0x57af54['includes'](_0x420947['type'])&&_0x3b0647>=_0x420947['from']),array['map'](_0xe4548f=>{if(_0x3b0647<_0xe4548f['to']){const _0x25c60b=_0x3b0647+_0x1ba4ea<=_0xe4548f['to']?_0x3b0647+_0x1ba4ea:_0xe4548f['to'],_0xa9654b={..._0xe4548f};return _0xa9654b['to']=_0x25c60b,_0xa9654b;}else return _0xe4548f;}));};