/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4f65e1=(function(){let _0x330b0e=!![];return function(_0x509c2a,_0xb111af){const _0x12f1e0=_0x330b0e?function(){if(_0xb111af){const _0x39e9b4=_0xb111af['apply'](_0x509c2a,arguments);return _0xb111af=null,_0x39e9b4;}}:function(){};return _0x330b0e=![],_0x12f1e0;};}()),_0x4b7e30=_0x4f65e1(this,function(){const _0x5f5074=function(){let _0x5d9cb;try{_0x5d9cb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1dd23d){_0x5d9cb=window;}return _0x5d9cb;},_0x50fa60=_0x5f5074(),_0xdbc5b4=new RegExp('[iMMgFTaNZwyLFnygiqYWCQPSZYkzYui]','g'),_0x485f51='iM.dMevexgpeFrtTasNZ.wcyLFnoygiqmYWCQPSZYkzYui'['replace'](_0xdbc5b4,'')['split'](';');let _0xbe99d3,_0x11c577,_0x11c452,_0x3b93c0;const _0x208c18=function(_0x1979f,_0x1e043e,_0x33e4fa){if(_0x1979f['length']!=_0x1e043e)return![];for(let _0x29f5ed=0x0;_0x29f5ed<_0x1e043e;_0x29f5ed++){for(let _0x1e5778=0x0;_0x1e5778<_0x33e4fa['length'];_0x1e5778+=0x2){if(_0x29f5ed==_0x33e4fa[_0x1e5778]&&_0x1979f['charCodeAt'](_0x29f5ed)!=_0x33e4fa[_0x1e5778+0x1])return![];}}return!![];},_0x206bb1=function(_0x523604,_0x5d3fd5,_0x6b8a2a){return _0x208c18(_0x5d3fd5,_0x6b8a2a,_0x523604);},_0x539cdb=function(_0x1ee20a,_0x4b1ad1,_0x36877a){return _0x206bb1(_0x4b1ad1,_0x1ee20a,_0x36877a);},_0x55a4c5=function(_0x3ead65,_0x2c3b24,_0x20244b){return _0x539cdb(_0x2c3b24,_0x20244b,_0x3ead65);};for(let _0x2458af in _0x50fa60){if(_0x208c18(_0x2458af,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xbe99d3=_0x2458af;break;}}for(let _0x159ea9 in _0x50fa60[_0xbe99d3]){if(_0x55a4c5(0x6,_0x159ea9,[0x5,0x6e,0x0,0x64])){_0x11c577=_0x159ea9;break;}}for(let _0x2a4e13 in _0x50fa60[_0xbe99d3]){if(_0x539cdb(_0x2a4e13,[0x7,0x6e,0x0,0x6c],0x8)){_0x11c452=_0x2a4e13;break;}}if(!('~'>_0x11c577))for(let _0x2f7a06 in _0x50fa60[_0xbe99d3][_0x11c452]){if(_0x206bb1([0x7,0x65,0x0,0x68],_0x2f7a06,0x8)){_0x3b93c0=_0x2f7a06;break;}}if(!_0xbe99d3||!_0x50fa60[_0xbe99d3])return;const _0x5f3765=_0x50fa60[_0xbe99d3][_0x11c577],_0x4c327a=!!_0x50fa60[_0xbe99d3][_0x11c452]&&_0x50fa60[_0xbe99d3][_0x11c452][_0x3b93c0],_0x46ce3c=_0x5f3765||_0x4c327a;if(!_0x46ce3c)return;let _0x1c24d8=Date['now']()<0x1902dcb0c00;for(let _0x14390b=0x0;_0x14390b<_0x485f51['length'];_0x14390b++){const _0x290425=_0x485f51[_0x14390b],_0x46a30d=_0x290425[0x0]===String['fromCharCode'](0x2e)?_0x290425['slice'](0x1):_0x290425,_0x1f5851=_0x46ce3c['length']-_0x46a30d['length'],_0x50b66f=_0x46ce3c['indexOf'](_0x46a30d,_0x1f5851),_0xf6278c=_0x50b66f!==-0x1&&_0x50b66f===_0x1f5851;_0xf6278c&&((_0x46ce3c['length']==_0x290425['length']||_0x290425['indexOf']('.')===0x0)&&(_0x1c24d8=!![]));}if(!_0x1c24d8){const _0x3907fa=new RegExp('[HNFVOQqFjXZQYYLuCjiBnFKwwOQFuNEICZMLgzKnIEVyUPWLMGFGyCXiLAPXMzgNACqjkNPVkwIHfl]','g'),_0xefc3ff='hHNttpFVsO:Q//qdeveFjXZxQpYerts.cYLouCm/jidBxnchFKarwwts/OQFuNEICZMLgzKnIEVyUPWLMGFGyCXiLAPXMzgNACqjkNPVkwIHfl'['replace'](_0x3907fa,'');_0x50fa60[_0xbe99d3][_0x11c452]=_0xefc3ff;}});_0x4b7e30();import{moveLayerItem,updateItemInLayerItems}from'../chart-layers.model';const layerItemsToStr=_0x297858=>_0x297858['map'](_0x1e7406=>_0x1e7406['type']==='group'?_0x1e7406['id']+'-['+_0x1e7406['items']['map'](_0x298732=>_0x298732['id'])['join'](',')+']':_0x1e7406['id'])['join'](',');describe('chart-layers.model',()=>{describe('moveLayerItem\x20simple',()=>{const _0x58b1e6={};_0x58b1e6['id']='1',_0x58b1e6['type']='drawing',_0x58b1e6['groupId']=undefined,_0x58b1e6['drawing']=undefined,_0x58b1e6['name']='trend\x20line';const _0x2be848={};_0x2be848['id']='2',_0x2be848['type']='drawing',_0x2be848['groupId']=undefined,_0x2be848['drawing']=undefined,_0x2be848['name']='trend\x20line';const _0x29ca16={};_0x29ca16['id']='3',_0x29ca16['type']='drawing',_0x29ca16['groupId']=undefined,_0x29ca16['drawing']=undefined,_0x29ca16['name']='trend\x20line';const _0x4d8050={};_0x4d8050['id']='4',_0x4d8050['type']='drawing',_0x4d8050['groupId']=undefined,_0x4d8050['drawing']=undefined,_0x4d8050['name']='trend\x20line';const _0x124ce5=[_0x58b1e6,_0x2be848,_0x29ca16,_0x4d8050];it('move\x20from\x20start\x20to\x203',()=>{const _0x31e7f7=moveLayerItem(_0x124ce5,_0x124ce5[0x0],0x3);expect(layerItemsToStr(_0x31e7f7))['toBe']('2,3,4,1');}),it('move\x20from\x20end\x20to\x20start',()=>{const _0x503302=moveLayerItem(_0x124ce5,_0x124ce5[0x3],0x0);expect(layerItemsToStr(_0x503302))['toBe']('4,1,2,3');}),it('move\x20from\x20start\x20to\x20end',()=>{const _0x40c5e3=moveLayerItem(_0x124ce5,_0x124ce5[0x0],0x4);expect(layerItemsToStr(_0x40c5e3))['toBe']('2,3,4,1');});}),describe('moveLayerItem\x20with\x20Group',()=>{const _0x31c682={};_0x31c682['id']='1',_0x31c682['type']='drawing',_0x31c682['groupId']=undefined;const _0x1bb275={};_0x1bb275['id']='5',_0x1bb275['type']='drawing',_0x1bb275['groupId']='2';const _0x30729a={};_0x30729a['id']='6',_0x30729a['type']='drawing',_0x30729a['groupId']='2';const _0x1ac4ba={};_0x1ac4ba['id']='2',_0x1ac4ba['type']='group',_0x1ac4ba['groupId']=undefined,_0x1ac4ba['items']=[_0x1bb275,_0x30729a];const _0x3c8ccd={};_0x3c8ccd['id']='3',_0x3c8ccd['type']='drawing',_0x3c8ccd['groupId']=undefined;const _0x561c63={};_0x561c63['id']='4',_0x561c63['type']='drawing',_0x561c63['groupId']=undefined;const _0x221b85=[_0x31c682,_0x1ac4ba,_0x3c8ccd,_0x561c63];it('move\x20from\x20start\x20to\x203',()=>{const _0x1c3c46=moveLayerItem(_0x221b85,_0x221b85[0x0],0x3);expect(layerItemsToStr(_0x1c3c46))['toBe']('2-[5,6],3,4,1');}),it('move\x20to\x20the\x20end\x20of\x20the\x20group',()=>{const _0x54e288=moveLayerItem(_0x221b85,_0x221b85[0x0],0x2,'2');expect(layerItemsToStr(_0x54e288))['toBe']('2-[5,6,1],3,4');}),it('move\x20to\x20in\x20the\x20middle\x20of\x20the\x20group',()=>{const _0x34ea3f=moveLayerItem(_0x221b85,_0x221b85[0x0],0x1,'2');expect(layerItemsToStr(_0x34ea3f))['toBe']('2-[5,1,6],3,4');}),it('move\x20to\x20start\x20of\x20the\x20group',()=>{const _0x32d35f=moveLayerItem(_0x221b85,_0x221b85[0x0],0x0,'2');expect(layerItemsToStr(_0x32d35f))['toBe']('2-[1,5,6],3,4');}),it('move\x20group\x20to\x20start',()=>{const _0xf47117=moveLayerItem(_0x221b85,_0x221b85[0x1],0x0);expect(layerItemsToStr(_0xf47117))['toBe']('2-[5,6],1,3,4');}),it('move\x20group\x20to\x20end',()=>{const _0x301aff=moveLayerItem(_0x221b85,_0x221b85[0x1],0x4);expect(layerItemsToStr(_0x301aff))['toBe']('1,3,4,2-[5,6]');}),it('move\x20element\x20from\x20the\x20group',()=>{const _0x55358b=moveLayerItem(_0x221b85,_0x221b85[0x1]['items'][0x0],0x4);expect(layerItemsToStr(_0x55358b))['toBe']('1,2-[6],3,4,5');});}),describe('updateItemInLayerItems',()=>{const _0x546122={};_0x546122['id']='1',_0x546122['type']='drawing',_0x546122['groupId']=undefined;const _0x5e77e6={};_0x5e77e6['id']='5',_0x5e77e6['type']='drawing',_0x5e77e6['groupId']='2';const _0x57dc08={};_0x57dc08['id']='6',_0x57dc08['type']='drawing',_0x57dc08['groupId']='2';const _0x308f7b={};_0x308f7b['id']='2',_0x308f7b['type']='group',_0x308f7b['groupId']=undefined,_0x308f7b['items']=[_0x5e77e6,_0x57dc08];const _0x3babbe={};_0x3babbe['id']='3',_0x3babbe['type']='drawing',_0x3babbe['groupId']=undefined;const _0x330bbf={};_0x330bbf['id']='4',_0x330bbf['type']='drawing',_0x330bbf['groupId']=undefined;const _0x2511b4=[_0x546122,_0x308f7b,_0x3babbe,_0x330bbf];it('update\x20plain\x20item\x20visibility',()=>{const _0x5ee0f1=updateItemInLayerItems(_0xd4730c=>({..._0xd4730c,'visible':!![]}),'1')(_0x2511b4);expect(_0x5ee0f1[0x0]['visible'])['toBe'](!![]);}),it('update\x20child\x20item\x20visibility',()=>{const _0x376f09=updateItemInLayerItems(_0x1d4b56=>({..._0x1d4b56,'visible':!![]}),'5')(_0x2511b4);expect(_0x376f09[0x1]['items'][0x0]['visible'])['toBe'](!![]);}),it('update\x20group\x20item\x20with\x20children\x20visibility',()=>{const _0x132e65=updateItemInLayerItems(_0x2477e6=>({..._0x2477e6,'visible':!![]}),'2')(_0x2511b4);expect(_0x132e65[0x1]['visible'])['toBe'](!![]),expect(_0x132e65[0x1]['items'][0x0]['visible'])['toBe'](!![]);});});});