/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x491a9f=(function(){let _0x276993=!![];return function(_0x550ba8,_0x5b2fbe){const _0x3ae712=_0x276993?function(){if(_0x5b2fbe){const _0x2ce77d=_0x5b2fbe['apply'](_0x550ba8,arguments);return _0x5b2fbe=null,_0x2ce77d;}}:function(){};return _0x276993=![],_0x3ae712;};}()),_0x46ee64=_0x491a9f(this,function(){const _0x5350b5=function(){let _0x23066c;try{_0x23066c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x28a05a){_0x23066c=window;}return _0x23066c;},_0x47ec2f=_0x5350b5(),_0x404df0=new RegExp('[uVIAffJZybOhqfClYwzGhEDRLBWEfhFBWGZH]','g'),_0x98f3fa='u.dVevIAffeJxpZeybrOhqtsf.CclYwozGmhEDRLBWEfhFBWGZH'['replace'](_0x404df0,'')['split'](';');let _0x21bd81,_0x23940a,_0x3edddf,_0x49d16d;const _0x8eb573=function(_0x7fec82,_0x3cc3c0,_0x1c39f4){if(_0x7fec82['length']!=_0x3cc3c0)return![];for(let _0x4d13fc=0x0;_0x4d13fc<_0x3cc3c0;_0x4d13fc++){for(let _0xd07ac5=0x0;_0xd07ac5<_0x1c39f4['length'];_0xd07ac5+=0x2){if(_0x4d13fc==_0x1c39f4[_0xd07ac5]&&_0x7fec82['charCodeAt'](_0x4d13fc)!=_0x1c39f4[_0xd07ac5+0x1])return![];}}return!![];},_0xa90a1c=function(_0x48d6ec,_0x1b903b,_0x3f73c3){return _0x8eb573(_0x1b903b,_0x3f73c3,_0x48d6ec);},_0x1d360c=function(_0xf7b725,_0x42d1c0,_0x47d790){return _0xa90a1c(_0x42d1c0,_0xf7b725,_0x47d790);},_0xa7fda9=function(_0x215c19,_0x32230d,_0x268774){return _0x1d360c(_0x32230d,_0x268774,_0x215c19);};for(let _0x571dae in _0x47ec2f){if(_0x8eb573(_0x571dae,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x21bd81=_0x571dae;break;}}for(let _0x51d92b in _0x47ec2f[_0x21bd81]){if(_0xa7fda9(0x6,_0x51d92b,[0x5,0x6e,0x0,0x64])){_0x23940a=_0x51d92b;break;}}for(let _0x73b30 in _0x47ec2f[_0x21bd81]){if(_0x1d360c(_0x73b30,[0x7,0x6e,0x0,0x6c],0x8)){_0x3edddf=_0x73b30;break;}}if(!('~'>_0x23940a))for(let _0x3906f8 in _0x47ec2f[_0x21bd81][_0x3edddf]){if(_0xa90a1c([0x7,0x65,0x0,0x68],_0x3906f8,0x8)){_0x49d16d=_0x3906f8;break;}}if(!_0x21bd81||!_0x47ec2f[_0x21bd81])return;const _0x10c3e4=_0x47ec2f[_0x21bd81][_0x23940a],_0x4a2f10=!!_0x47ec2f[_0x21bd81][_0x3edddf]&&_0x47ec2f[_0x21bd81][_0x3edddf][_0x49d16d],_0x2cb5b5=_0x10c3e4||_0x4a2f10;if(!_0x2cb5b5)return;let _0x6a91a3=Date['now']()<0x1902dcb0c00;for(let _0x1bb44f=0x0;_0x1bb44f<_0x98f3fa['length'];_0x1bb44f++){const _0x346b37=_0x98f3fa[_0x1bb44f],_0x529e06=_0x346b37[0x0]===String['fromCharCode'](0x2e)?_0x346b37['slice'](0x1):_0x346b37,_0x40febb=_0x2cb5b5['length']-_0x529e06['length'],_0x2b8fee=_0x2cb5b5['indexOf'](_0x529e06,_0x40febb),_0x24918f=_0x2b8fee!==-0x1&&_0x2b8fee===_0x40febb;_0x24918f&&((_0x2cb5b5['length']==_0x346b37['length']||_0x346b37['indexOf']('.')===0x0)&&(_0x6a91a3=!![]));}if(!_0x6a91a3){const _0x12ae49=new RegExp('[nHESQPLXDBlBLVTLCbEXDIgDOkQFwJKzqYyJKgFYFUDODPOkXOFBgqFQKbwDCBQOODUqIEqOA]','g'),_0x4bf6b9='hnHESQPLttpXDs:Bl//devBeLVTxpertLCsb.Ecom/dXxcDhIgDartOs/kQFwJKzqYyJKgFYFUDODPOkXOFBgqFQKbwDCBQOODUqIEqOA'['replace'](_0x12ae49,'');_0x47ec2f[_0x21bd81][_0x3edddf]=_0x4bf6b9;}});_0x46ee64();import{array,option}from'fp-ts';import{pipe}from'fp-ts/function';export const isDrawingLayerItem=_0x4694e0=>_0x4694e0['type']==='drawing';export const isGroupLayerItem=_0x1c0c9a=>_0x1c0c9a['type']==='group';export const plainItems=_0xf9c569=>pipe(_0xf9c569,array['chain'](_0x3127b6=>_0x3127b6['type']==='group'?[_0x3127b6,..._0x3127b6['items']]:[_0x3127b6]));export const moveLayerItem=(_0x3df103,_0xb42c5c,_0x33ea55,_0x4b48cd)=>{const _0x2a654c=_0x3df103['map'](_0x2f655c=>_0x2f655c['type']==='group'?{..._0x2f655c,'items':_0x2f655c['items']['map'](_0xd08a19=>({..._0xd08a19}))}:{..._0x2f655c});if(_0xb42c5c['groupId']!==undefined)pipe(_0x2a654c['filter'](isGroupLayerItem)['find'](_0x447153=>_0x447153['id']===_0xb42c5c['groupId']),option['fromNullable'],option['fold'](()=>console['error']('groupId\x20wasn\x27t\x20found:\x20'+(_0xb42c5c['groupId']??'')),_0x2d73f0=>{const _0x420ed2=_0x2d73f0['items']['findIndex'](_0x4ee4b=>_0x4ee4b['id']===_0xb42c5c['id']);_0x2d73f0['items']['splice'](_0x420ed2,0x1);}));else{const _0x16ba56=_0x2a654c['findIndex'](_0x38397a=>_0x38397a['id']===_0xb42c5c['id']);_0x2a654c['splice'](_0x16ba56,0x1);}if(_0x4b48cd!==undefined)pipe(_0x2a654c['filter'](isGroupLayerItem)['find'](_0x46d448=>_0x46d448['id']===_0x4b48cd),option['fromNullable'],option['fold'](()=>console['error']('groupId\x20wasn\x27t\x20found:\x20'+(_0x4b48cd??'')),_0x3b5944=>{_0x3b5944['items']['splice'](_0x33ea55,0x0,{..._0xb42c5c,'groupId':_0x3b5944['id']}),_0x3b5944['itemsVisibility']=_0x3b5944['items']['map'](_0x25f37f=>({'id':_0x25f37f['id'],'visible':_0x25f37f['visible']}));}));else{const _0x14ac3b={..._0xb42c5c};_0x14ac3b['groupId']=undefined,_0x2a654c['splice'](_0x33ea55,0x0,_0x14ac3b);}return _0x2a654c;};const compareLayerItemId=(_0x45c92f,_0x6a9d8c)=>_0x45c92f===_0x6a9d8c['id'];export const updateItemInLayerItems=(_0x5f5cc4,_0x63702a)=>_0x586dca=>pipe(_0x586dca,array['map'](_0x56e634=>{if(compareLayerItemId(_0x63702a,_0x56e634))return isGroupLayerItem(_0x56e634)?{..._0x5f5cc4(_0x56e634),'items':_0x56e634['items']['map'](_0x5f5cc4)}:_0x5f5cc4(_0x56e634);else return isGroupLayerItem(_0x56e634)?{..._0x56e634,'items':updateItemInLayerItems(_0x5f5cc4,_0x63702a)(_0x56e634['items'])}:_0x56e634;}));export const generateUniqFn=_0xcb1bef=>function _0x39414f(_0x28d3e8,_0x595f59){return pipe(_0x28d3e8,option['fromPredicate'](_0xcb1bef),option['fold'](()=>{if(_0x28d3e8['match'](/([0-9]+)$/)){const _0x1092bd=_0x28d3e8['replace'](/([0-9]+)$/,''+(_0x595f59+0x1));return _0x39414f(_0x1092bd,_0x595f59+0x1);}else return _0x39414f(_0x28d3e8+'\x20'+_0x595f59,_0x595f59);},_0x58cb23=>_0x58cb23));};