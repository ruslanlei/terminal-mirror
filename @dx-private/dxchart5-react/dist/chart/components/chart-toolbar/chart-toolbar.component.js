/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4400db=(function(){let _0x49288b=!![];return function(_0x46de32,_0x39c3bf){const _0x17de25=_0x49288b?function(){if(_0x39c3bf){const _0x45f86f=_0x39c3bf['apply'](_0x46de32,arguments);return _0x39c3bf=null,_0x45f86f;}}:function(){};return _0x49288b=![],_0x17de25;};}()),_0x4493b6=_0x4400db(this,function(){const _0x509995=function(){let _0x3d0fe1;try{_0x3d0fe1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x97301c){_0x3d0fe1=window;}return _0x3d0fe1;},_0x5d29a5=_0x509995(),_0x4eb835=new RegExp('[EaMOYMgKLOCnEBJOCkJTTCUOzJlXFhqV]','g'),_0x230290='.EdevexapMOerYMgKLtOs.comCnEBJOCkJTTCUOzJlXFhqV'['replace'](_0x4eb835,'')['split'](';');let _0x5f3800,_0x29c532,_0x13e847,_0x1ede72;const _0x43f087=function(_0x112dd3,_0xd8b47e,_0x3fa74d){if(_0x112dd3['length']!=_0xd8b47e)return![];for(let _0x157cdd=0x0;_0x157cdd<_0xd8b47e;_0x157cdd++){for(let _0x42b12f=0x0;_0x42b12f<_0x3fa74d['length'];_0x42b12f+=0x2){if(_0x157cdd==_0x3fa74d[_0x42b12f]&&_0x112dd3['charCodeAt'](_0x157cdd)!=_0x3fa74d[_0x42b12f+0x1])return![];}}return!![];},_0x66a683=function(_0xcd14a,_0x5e9f63,_0x23f14c){return _0x43f087(_0x5e9f63,_0x23f14c,_0xcd14a);},_0x2fb711=function(_0x4f1d55,_0x770545,_0x324a3a){return _0x66a683(_0x770545,_0x4f1d55,_0x324a3a);},_0x2bfbac=function(_0x8756,_0x217847,_0x17c72b){return _0x2fb711(_0x217847,_0x17c72b,_0x8756);};for(let _0x13f2cc in _0x5d29a5){if(_0x43f087(_0x13f2cc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5f3800=_0x13f2cc;break;}}for(let _0x113052 in _0x5d29a5[_0x5f3800]){if(_0x2bfbac(0x6,_0x113052,[0x5,0x6e,0x0,0x64])){_0x29c532=_0x113052;break;}}for(let _0x7aa391 in _0x5d29a5[_0x5f3800]){if(_0x2fb711(_0x7aa391,[0x7,0x6e,0x0,0x6c],0x8)){_0x13e847=_0x7aa391;break;}}if(!('~'>_0x29c532))for(let _0x5eae2d in _0x5d29a5[_0x5f3800][_0x13e847]){if(_0x66a683([0x7,0x65,0x0,0x68],_0x5eae2d,0x8)){_0x1ede72=_0x5eae2d;break;}}if(!_0x5f3800||!_0x5d29a5[_0x5f3800])return;const _0x25c24a=_0x5d29a5[_0x5f3800][_0x29c532],_0x1b9893=!!_0x5d29a5[_0x5f3800][_0x13e847]&&_0x5d29a5[_0x5f3800][_0x13e847][_0x1ede72],_0x4c020=_0x25c24a||_0x1b9893;if(!_0x4c020)return;let _0x579703=Date['now']()<0x1902dcb0c00;for(let _0x516200=0x0;_0x516200<_0x230290['length'];_0x516200++){const _0x1ae954=_0x230290[_0x516200],_0x5ae10e=_0x1ae954[0x0]===String['fromCharCode'](0x2e)?_0x1ae954['slice'](0x1):_0x1ae954,_0x29fa68=_0x4c020['length']-_0x5ae10e['length'],_0xd0e915=_0x4c020['indexOf'](_0x5ae10e,_0x29fa68),_0x18ce05=_0xd0e915!==-0x1&&_0xd0e915===_0x29fa68;_0x18ce05&&((_0x4c020['length']==_0x1ae954['length']||_0x1ae954['indexOf']('.')===0x0)&&(_0x579703=!![]));}if(!_0x579703){const _0x4ce5b0=new RegExp('[iKIfZjfgFEbLjBZBWWkKJUGHGjGlzQLYylASjPSSAyJBzPBAMzQFNBjOFCUzJXIJNOAynJ]','g'),_0x5e33d9='ihKIttpfs:Zj//defgvexpFerEbLtjBZs.BcWWokKJmUGH/dGjxGcharlzQLYts/ylASjPSSAyJBzPBAMzQFNBjOFCUzJXIJNOAynJ'['replace'](_0x4ce5b0,'');_0x5d29a5[_0x5f3800][_0x13e847]=_0x5e33d9;}});_0x4493b6();import{uuid}from'@dx-private/dxchart5-light/dist/chart/utils/uuid.utils';import{animationFrameThrottled,cancelThrottledAnimationFrame}from'@dx-private/dxchart5-light/dist/chart/utils/perfomance/request-animation-frame-throttle.utils';import _0x5014be,{memo,useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{createPortal}from'react-dom';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{useA11yListboxArrowsFocusController}from'../../../chart-kit/accessibility/use-a11y-listbox-arrows-focus-controller';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{ChartToolbarLoadingIndicatorStyled,ChartToolbarPopupsButtonsArrowStyled,ChartToolbarPopupsButtonsStyled,ChartToolbarPopupsButtonsTrackStyled,ChartToolbarPopupsButtonsWrapperStyled,ChartToolbarStyled,InstrumentSelectorContainerWrapperStyled}from'./chart-toolbar.styled';const _0x30b061={};_0x30b061['isLeftArrowShown']=![],_0x30b061['isRightArrowShown']=![];const initialAdaptiveState=_0x30b061;export const ChartToolbar=memo(_0x306940=>{const {className:_0x426552,buttons:_0x1cf623,container:_0x5747e0,MainInstrumentComponent:_0x27391f,loadedPercentage:loadedPercentage=0x0}=_0x306940,_0x58b936=useRef(null),_0x1691f2=useRef(null),_0x2c6b25=useContext(IconsOverridingContext),{localization:_0x294642}=useContext(MultiChartComponentContext),[_0x2ac173,_0x3eeb7b]=useAdaptiveFeatures(_0x1691f2,_0x58b936),_0xac558b={};_0xac558b['wrapperRef']=_0x58b936,_0xac558b['childrenSelector']='button',_0xac558b['direction']='horizontal',_0xac558b['deps']=[_0x2ac173],_0xac558b['role']='toolbar',_0xac558b['childRole']='skip',useA11yListboxArrowsFocusController(_0xac558b);const _0x4f2c52={};_0x4f2c52['className']=_0x426552;const _0x4eaa2a={};_0x4eaa2a['aria-label']=_0x294642['toolbar']['a11y_toolbar'],_0x4eaa2a['ref']=_0x58b936;const _0x5aae10={};_0x5aae10['ref']=_0x1691f2;const _0xf13626={};_0xf13626['width']=0x14;const _0x53a62b=useMemo(()=>_0x5014be['createElement'](ChartToolbarStyled,_0x4f2c52,loadedPercentage!==0x64&&_0x5014be['createElement'](ChartToolbarLoadingIndicatorStyled,{'percentage':loadedPercentage}),_0x5014be['createElement'](InstrumentSelectorContainerWrapperStyled,null,_0x27391f&&_0x5014be['createElement'](_0x27391f,null)),_0x5014be['createElement'](ChartToolbarPopupsButtonsStyled,_0x4eaa2a,_0x5014be['createElement'](ChartToolbarPopupsButtonsWrapperStyled,_0x5aae10,_0x5014be['createElement'](ChartToolbarPopupsButtonsTrackStyled,null,_0x1cf623)),_0x2ac173['isRightArrowShown']&&_0x5014be['createElement'](ChartToolbarPopupsButtonsArrowStyled,{'icon':_0x5014be['createElement'](IconWrapper,null,_0x2c6b25['toolbar']['arrow']),'float':'right','onClick':()=>_0x3eeb7b(0x1)}),_0x2ac173['isLeftArrowShown']&&_0x5014be['createElement'](ChartToolbarPopupsButtonsArrowStyled,{'icon':_0x5014be['createElement'](IconWrapper,_0xf13626,_0x2c6b25['toolbar']['arrow']),'float':'left','onClick':()=>_0x3eeb7b(-0x1)}))),[_0x426552,loadedPercentage,_0x27391f,_0x1cf623,_0x2ac173['isRightArrowShown'],_0x2ac173['isLeftArrowShown'],_0x2c6b25['toolbar']['arrow'],_0x3eeb7b,_0x294642['toolbar']['a11y_toolbar']]);return _0x5747e0?createPortal(_0x53a62b,_0x5747e0):_0x53a62b;});const TOOLBAR_SCROLL_STRENGTH=0x64,useAdaptiveFeatures=(_0x125ab9,_0x22f6e4)=>{const [_0x37f297,_0x47e146]=useState(initialAdaptiveState),_0x3a69de=useMemo(()=>'toolbar_'+uuid(),[]),_0x2d3125=useCallback(()=>{const _0x312d1c=_0x125ab9['current']?.['offsetWidth']||0x0,_0x404495=_0x125ab9['current']?.['scrollLeft']||0x0,_0x760566=_0x125ab9['current']?.['scrollWidth']||0x0,_0x89651b=_0x404495>0x0,_0x980bee=Math['ceil'](_0x312d1c+_0x404495)<_0x760566,_0x2ad804={};_0x2ad804['isLeftArrowShown']=_0x89651b,_0x2ad804['isRightArrowShown']=_0x980bee,_0x47e146(_0x2ad804);},[_0x125ab9]);useEffect(()=>{let _0x56fae5=!![];const _0x5e0608=()=>{_0x56fae5&&animationFrameThrottled(_0x3a69de,()=>{if(_0x56fae5){_0x2d3125();const _0x1f9bc1={};_0x1f9bc1['left']=0x0,_0x125ab9['current']?.['scrollTo'](_0x1f9bc1);}});},_0x59d448=new ResizeObserver(_0x5e0608);return _0x22f6e4['current']&&_0x59d448['observe'](_0x22f6e4['current']),()=>{cancelThrottledAnimationFrame(_0x3a69de),_0x22f6e4['current']&&_0x59d448['unobserve'](_0x22f6e4['current']),_0x56fae5=![];};},[_0x125ab9,_0x2d3125,_0x22f6e4['current'],_0x3a69de]);const _0x26fbdc=useCallback(_0x28de06=>{_0x125ab9['current']?.['scrollTo']({'left':_0x125ab9['current']?.['scrollLeft']+_0x28de06*TOOLBAR_SCROLL_STRENGTH,'behavior':'smooth'});},[_0x125ab9]);return useEffect(()=>{const _0x4df5c4=_0x125ab9['current'];return _0x4df5c4?.['addEventListener']('scroll',_0x2d3125),()=>{_0x4df5c4?.['removeEventListener']('scroll',_0x2d3125);};},[_0x125ab9,_0x2d3125]),[_0x37f297,_0x26fbdc];};