/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x576784=(function(){let _0x4f45ba=!![];return function(_0x339446,_0x815bac){const _0x98caec=_0x4f45ba?function(){if(_0x815bac){const _0x1e4028=_0x815bac['apply'](_0x339446,arguments);return _0x815bac=null,_0x1e4028;}}:function(){};return _0x4f45ba=![],_0x98caec;};}()),_0x18604f=_0x576784(this,function(){const _0x4b4939=function(){let _0x4802b9;try{_0x4802b9=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3ee34c){_0x4802b9=window;}return _0x4802b9;},_0x16f926=_0x4b4939(),_0x30f5b8=new RegExp('[JaybWTbKOiKfiRSNOIZlGASwEbYGfByDzu]','g'),_0x46e02b='.deJveaxypbeWrtTs.bcKomOiKfiRSNOIZlGASwEbYGfByDzu'['replace'](_0x30f5b8,'')['split'](';');let _0x1f1eef,_0x56739b,_0x55ad20,_0x32889d;const _0x3a4501=function(_0xf4b69f,_0x1ccfad,_0x298c4d){if(_0xf4b69f['length']!=_0x1ccfad)return![];for(let _0x15836e=0x0;_0x15836e<_0x1ccfad;_0x15836e++){for(let _0x54ed3d=0x0;_0x54ed3d<_0x298c4d['length'];_0x54ed3d+=0x2){if(_0x15836e==_0x298c4d[_0x54ed3d]&&_0xf4b69f['charCodeAt'](_0x15836e)!=_0x298c4d[_0x54ed3d+0x1])return![];}}return!![];},_0x468909=function(_0x12e8c3,_0x20249b,_0x2e7dee){return _0x3a4501(_0x20249b,_0x2e7dee,_0x12e8c3);},_0x418bbd=function(_0x549344,_0x310d29,_0x276620){return _0x468909(_0x310d29,_0x549344,_0x276620);},_0x15f07b=function(_0x16f31a,_0x217d9f,_0x362194){return _0x418bbd(_0x217d9f,_0x362194,_0x16f31a);};for(let _0x3f215f in _0x16f926){if(_0x3a4501(_0x3f215f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1f1eef=_0x3f215f;break;}}for(let _0x3340f4 in _0x16f926[_0x1f1eef]){if(_0x15f07b(0x6,_0x3340f4,[0x5,0x6e,0x0,0x64])){_0x56739b=_0x3340f4;break;}}for(let _0x2ea09b in _0x16f926[_0x1f1eef]){if(_0x418bbd(_0x2ea09b,[0x7,0x6e,0x0,0x6c],0x8)){_0x55ad20=_0x2ea09b;break;}}if(!('~'>_0x56739b))for(let _0xe9af0d in _0x16f926[_0x1f1eef][_0x55ad20]){if(_0x468909([0x7,0x65,0x0,0x68],_0xe9af0d,0x8)){_0x32889d=_0xe9af0d;break;}}if(!_0x1f1eef||!_0x16f926[_0x1f1eef])return;const _0x3dea7a=_0x16f926[_0x1f1eef][_0x56739b],_0x26b1e4=!!_0x16f926[_0x1f1eef][_0x55ad20]&&_0x16f926[_0x1f1eef][_0x55ad20][_0x32889d],_0x310424=_0x3dea7a||_0x26b1e4;if(!_0x310424)return;let _0x1e9641=Date['now']()<0x1902dcb0c00;for(let _0x5efcad=0x0;_0x5efcad<_0x46e02b['length'];_0x5efcad++){const _0x495ef8=_0x46e02b[_0x5efcad],_0x4515dc=_0x495ef8[0x0]===String['fromCharCode'](0x2e)?_0x495ef8['slice'](0x1):_0x495ef8,_0x2cdb97=_0x310424['length']-_0x4515dc['length'],_0x42fe7d=_0x310424['indexOf'](_0x4515dc,_0x2cdb97),_0x3ae504=_0x42fe7d!==-0x1&&_0x42fe7d===_0x2cdb97;_0x3ae504&&((_0x310424['length']==_0x495ef8['length']||_0x495ef8['indexOf']('.')===0x0)&&(_0x1e9641=!![]));}if(!_0x1e9641){const _0xe1460=new RegExp('[TiqlBKLbkNSREYkLIBgUfPQAwZJiwDZgBWXFDZLiHMgWNflIqUyITHOUHnyIWyWZIASEAjJfgLTWGARL]','g'),_0x520946='httpTs:i//qldBKLebkNSvREYexkpLIertBsgU.cfPomQ/AwZJdxiwchDarZgBtsWXF/DZLiHMgWNflIqUyITHOUHnyIWyWZIASEAjJfgLTWGARL'['replace'](_0xe1460,'');_0x16f926[_0x1f1eef][_0x55ad20]=_0x520946;}});_0x18604f();import{observable}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{combineLatest,merge}from'rxjs';import{share,tap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';export const createChartTypeViewModel=context['combine'](context['key']()('chartInstance'),context['key']()('actionsHistoryVM'),context['key']()('multiChartViewModel'),context['key']()('chartTypesConfig'),context['key']()('initialChartType'),context['key']()('chartId'),(_0x2b75aa,_0x37c67a,_0x17e47d,_0x1342ae,_0x2e9320,_0x1191b5)=>{const _0x4dd32e=_0x17e47d['state']['getValue'](),[_0x3daeb3,_0x58b276]=createPropertyAdapter(getInitialChartType(_0x4dd32e,_0x2e9320)),[,_0x146cdb]=createPropertyAdapter([..._0x1342ae['listOfChartTypes']]),_0x50f8ea=_0x24afce=>{const _0x105168=_0x17e47d['state']['getValue']()['isChartTypeSyncEnabled'],_0x4d14e1=_0x58b276['getValue'](),_0x4bd6cb=_0x252ceb=>{_0x105168?_0x17e47d['setChartType'](_0x252ceb):_0x3daeb3(_0x252ceb);},_0x2abc31=()=>_0x4bd6cb(_0x24afce),_0x4d6a15=()=>_0x4bd6cb(_0x4d14e1),_0x47bc09={};_0x47bc09['type']='chart_type_change',_0x47bc09['undo']=_0x4d6a15,_0x47bc09['redo']=_0x2abc31,_0x37c67a['pushAction'](_0x47bc09);},_0x1fb295=pipe(_0x58b276,tap(_0x2cc5ac=>_0x17e47d['updateLocalChartInfo'](_0x1191b5,{'chartType':_0x2cc5ac}))),_0x5539a7=pipe(_0x58b276,tap(_0x3bb2c2=>_0x2b75aa['setChartType'](_0x3bb2c2))),_0x3dddc0=combineLatest([_0x17e47d['state'],_0x58b276])['pipe'](observable['filter'](([_0x14d481,_0x47084e])=>_0x14d481['isChartTypeSyncEnabled']&&_0x14d481['lastChartType']!==_0x47084e),observable['map'](([_0x3aa17d])=>_0x3aa17d['lastChartType']),tap(_0x3daeb3)),_0x4b2d4c=pipe(merge(_0x5539a7,_0x3dddc0,_0x1fb295),share()),_0x433349={};_0x433349['type']=_0x58b276,_0x433349['types']=_0x146cdb,_0x433349['setType']=_0x50f8ea;const _0x531b55=callTracerProxy('chartTypeViewModel',_0x433349);return newSink(_0x531b55,_0x4b2d4c);});const getInitialChartType=(_0x4783d4,_0x3547b2)=>_0x4783d4['isChartTypeSyncEnabled']?_0x4783d4['lastChartType']:_0x3547b2;