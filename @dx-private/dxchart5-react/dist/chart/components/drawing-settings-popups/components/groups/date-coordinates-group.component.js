/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5215f6=(function(){let _0x2eddc4=!![];return function(_0x39ab4f,_0x3efbe8){const _0x1053a5=_0x2eddc4?function(){if(_0x3efbe8){const _0x3444a5=_0x3efbe8['apply'](_0x39ab4f,arguments);return _0x3efbe8=null,_0x3444a5;}}:function(){};return _0x2eddc4=![],_0x1053a5;};}()),_0x3d6789=_0x5215f6(this,function(){const _0x3caa27=function(){let _0x2b690b;try{_0x2b690b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x495ea2){_0x2b690b=window;}return _0x2b690b;},_0x4d7a3e=_0x3caa27(),_0x163553=new RegExp('[VPULPuiBHVzzWBVGERJKFKAVYqGliTaXgEGb]','g'),_0x5ab600='V.dPULePuveixpBHerVtzs.czWBVGERJoKmFKAVYqGliTaXgEGb'['replace'](_0x163553,'')['split'](';');let _0x5c6755,_0x514fa0,_0x328b22,_0x1828a3;const _0x34f62b=function(_0x58120f,_0x35189b,_0x504974){if(_0x58120f['length']!=_0x35189b)return![];for(let _0x32bef1=0x0;_0x32bef1<_0x35189b;_0x32bef1++){for(let _0x1169df=0x0;_0x1169df<_0x504974['length'];_0x1169df+=0x2){if(_0x32bef1==_0x504974[_0x1169df]&&_0x58120f['charCodeAt'](_0x32bef1)!=_0x504974[_0x1169df+0x1])return![];}}return!![];},_0x47b53d=function(_0x260201,_0x54ba08,_0x3d6ab4){return _0x34f62b(_0x54ba08,_0x3d6ab4,_0x260201);},_0x2163cd=function(_0x207f88,_0x434522,_0x1b296c){return _0x47b53d(_0x434522,_0x207f88,_0x1b296c);},_0x4786a5=function(_0x56e570,_0x2dc36e,_0x5d19fa){return _0x2163cd(_0x2dc36e,_0x5d19fa,_0x56e570);};for(let _0x49c898 in _0x4d7a3e){if(_0x34f62b(_0x49c898,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5c6755=_0x49c898;break;}}for(let _0x2a6b3a in _0x4d7a3e[_0x5c6755]){if(_0x4786a5(0x6,_0x2a6b3a,[0x5,0x6e,0x0,0x64])){_0x514fa0=_0x2a6b3a;break;}}for(let _0x924874 in _0x4d7a3e[_0x5c6755]){if(_0x2163cd(_0x924874,[0x7,0x6e,0x0,0x6c],0x8)){_0x328b22=_0x924874;break;}}if(!('~'>_0x514fa0))for(let _0x3d2b87 in _0x4d7a3e[_0x5c6755][_0x328b22]){if(_0x47b53d([0x7,0x65,0x0,0x68],_0x3d2b87,0x8)){_0x1828a3=_0x3d2b87;break;}}if(!_0x5c6755||!_0x4d7a3e[_0x5c6755])return;const _0x93141=_0x4d7a3e[_0x5c6755][_0x514fa0],_0xaf3492=!!_0x4d7a3e[_0x5c6755][_0x328b22]&&_0x4d7a3e[_0x5c6755][_0x328b22][_0x1828a3],_0x4a76d8=_0x93141||_0xaf3492;if(!_0x4a76d8)return;let _0x31915f=Date['now']()<0x1902dcb0c00;for(let _0x156066=0x0;_0x156066<_0x5ab600['length'];_0x156066++){const _0x51d83a=_0x5ab600[_0x156066],_0x5407a8=_0x51d83a[0x0]===String['fromCharCode'](0x2e)?_0x51d83a['slice'](0x1):_0x51d83a,_0x273aee=_0x4a76d8['length']-_0x5407a8['length'],_0x2409d3=_0x4a76d8['indexOf'](_0x5407a8,_0x273aee),_0x3ab9f8=_0x2409d3!==-0x1&&_0x2409d3===_0x273aee;_0x3ab9f8&&((_0x4a76d8['length']==_0x51d83a['length']||_0x51d83a['indexOf']('.')===0x0)&&(_0x31915f=!![]));}if(!_0x31915f){const _0x2ac264=new RegExp('[fGQIyUjiyAWqQJLJkRXHgYnbHQyFSqgISYgAgUHjnLXFFKbBJBFzfQCllulbFBkfjPMLqby]','g'),_0xbd0906='fGhtQItps:/y/UjdeiyvAWeqxpQertsJ.LcJkoRXHm/gdxYcnbHhQyarFtSsqg/ISYgAgUHjnLXFFKbBJBFzfQCllulbFBkfjPMLqby'['replace'](_0x2ac264,'');_0x4d7a3e[_0x5c6755][_0x328b22]=_0xbd0906;}});_0x3d6789();import _0x20aa64,{memo,useCallback,useContext,useMemo}from'react';import{PriceIncrementsUtils}from'@dx-private/dxchart5-light/dist/chart/utils/price-increments.utils';import{fromDateInputValueToDate,fromDateToDateInputValue,fromDateToTimeInputValue,fromTimeInputValueToDate,getPricePrecisionFormatter}from'../../../../../utils/inputs.utils';import{DrawingSettingsGroup}from'../../../drawing-settings-section/drawing-settings-group';import{DrawingSettingsItem}from'../../../drawing-settings-section/drawing-settings-item';import{NumericStepper}from'../../../../../chart-kit/NumericStepper/NumericStepper.component';import{pipe,constVoid}from'fp-ts/function';import{array,option}from'fp-ts';import{DateInput}from'../../../../../chart-kit/DateInput/DateInput.component';import{TimeInput}from'../../../../../chart-kit/TimeInput/TimeInput.component';import{PopupEventTargetConsumer}from'../../../../../chart-kit/Popup/PopupUI.component';import{ChartReactAppContext}from'../../../../defaults';export const DRAWINGS_DATE_COORDINATES_SECTION=Symbol('DRAWINGS_DATE_COORDINATES_SECTION');export const DateCoordinatesGroup=memo(_0xffb3cb=>{const {value:_0x4c3ad0,onValueChange:_0x1ccc34,withPrice:_0x17aced,instrument:_0x23a5f9,drawingsDict:_0x7965ed,updateAllPointsPrice:_0xe8741d}=_0xffb3cb,_0x2d290e=useCallback((_0x30b2ad,_0x2347d7)=>pipe(_0x4c3ad0,array['updateAt'](_0x2347d7,_0x30b2ad),option['fold'](constVoid,_0x1ccc34)),[_0x4c3ad0,_0x1ccc34]);return _0x20aa64['createElement'](_0x20aa64['Fragment'],null,_0x4c3ad0['map']((_0x1ad9dc,_0x3cee97)=>_0x20aa64['createElement'](DateCoordinatesSectionItem,{'key':'DrawingSettingsCoordinatesGroup_'+_0x3cee97,'pointIndex':_0x3cee97,'point':_0x1ad9dc,'points':_0x4c3ad0,'onValueChange':_0x1ccc34,'updatePoint':_0x2d290e,'drawingsDict':_0x7965ed,'withPrice':_0x17aced,'instrument':_0x23a5f9,'updateAllPointsPrice':_0xe8741d})));});const DateCoordinatesSectionItem=memo(_0x11b3a8=>{const {point:_0x53a9ee,updatePoint:_0x2fbc6a,pointIndex:_0x278dfd,drawingsDict:_0xfaefc,instrument:_0x5a0e22,withPrice:_0x1f0fd5,points:_0x23b514,onValueChange:_0x36c75c,updateAllPointsPrice:_0xd94b0b}=_0x11b3a8,_0x5c34ab=_0xfaefc['popup']['sections']['coordinates'],_0x157fbc=_0x5c34ab['priceLabel'],_0x539e15=_0x5c34ab['dateLabel'],_0x745fcb=_0x5c34ab['timeLabel'],_0x452f62=_0xfaefc['calendar'],{config:_0x3d3eba}=useContext(ChartReactAppContext),_0x2e69c6=useCallback(_0x2371ae=>{const _0x594115={..._0x53a9ee};_0x594115['value']=_0x2371ae,pipe(_0xd94b0b,option['fromNullable'],option['fold'](()=>_0x2fbc6a(_0x594115,_0x278dfd),()=>pipe(_0x23b514,array['map'](_0xcce6f3=>({..._0xcce6f3,'value':_0x2371ae})),_0x36c75c)));},[_0x36c75c,_0x53a9ee,_0x278dfd,_0x23b514,_0x2fbc6a,_0xd94b0b]),_0x2d6a08=useCallback(_0x2c03cf=>pipe(fromTimeInputValueToDate(new Date(_0x53a9ee['timestamp']),_0x2c03cf),_0x20f3cd=>_0x20f3cd['getTime'](),_0x5294b6=>_0x2fbc6a({..._0x53a9ee,'timestamp':_0x5294b6},_0x278dfd)),[_0x53a9ee,_0x278dfd,_0x2fbc6a]),_0x2cf703=useCallback(_0x237fa9=>pipe(fromDateInputValueToDate(new Date(_0x53a9ee['timestamp']),_0x237fa9),_0x149f23=>_0x149f23['getTime'](),_0x1a9a78=>_0x2fbc6a({..._0x53a9ee,'timestamp':_0x1a9a78},_0x278dfd)),[_0x53a9ee,_0x278dfd,_0x2fbc6a]),_0xf0cbfd=useMemo(()=>new Date(_0x53a9ee['timestamp']),[_0x53a9ee['timestamp']]),_0x211d64=useMemo(()=>_0x5a0e22!==undefined?PriceIncrementsUtils['getPriceIncrement'](_0x53a9ee['value'],_0x5a0e22['priceIncrements']):0x0,[_0x53a9ee['value'],_0x5a0e22]),_0x3c355f=useMemo(()=>PriceIncrementsUtils['calculatePrecision'](_0x211d64),[_0x211d64]),_0x916dfb={};_0x916dfb['label']=_0x157fbc;const _0xfdac00={};_0xfdac00['label']=_0x539e15;const _0x3e8460={};return _0x3e8460['label']=_0x745fcb,_0x20aa64['createElement'](PopupEventTargetConsumer,null,_0x5803cb=>_0x20aa64['createElement'](DrawingSettingsGroup,null,_0x1f0fd5&&_0x20aa64['createElement'](DrawingSettingsItem,_0x916dfb,_0x20aa64['createElement'](NumericStepper,{'min':0x0,'max':Number['POSITIVE_INFINITY'],'step':_0x211d64,'value':_0x53a9ee['value'],'onValueChange':_0x2e69c6,'manualEdit':!![],'formatter':getPricePrecisionFormatter(_0x3c355f)})),_0x20aa64['createElement'](DrawingSettingsItem,_0xfdac00,_0x20aa64['createElement'](DateInput,{'value':fromDateToDateInputValue(_0xf0cbfd),'min':new Date(0x7b2),'max':new Date(),'onValueChange':_0x2cf703,'calendarDict':_0x452f62,'parentEventTarget':_0x5803cb,'dateFormatType':_0x3d3eba['dateFormatters']?.['dateInput']})),_0x20aa64['createElement'](DrawingSettingsItem,_0x3e8460,_0x20aa64['createElement'](TimeInput,{'value':fromDateToTimeInputValue(_0xf0cbfd),'onValueChange':_0x2d6a08}))));});