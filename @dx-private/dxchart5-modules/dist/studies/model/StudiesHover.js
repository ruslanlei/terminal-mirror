/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x57c8c3=(function(){let _0x95efe2=!![];return function(_0x13e88c,_0x505f6d){const _0x467fc2=_0x95efe2?function(){if(_0x505f6d){const _0x7e1b35=_0x505f6d['apply'](_0x13e88c,arguments);return _0x505f6d=null,_0x7e1b35;}}:function(){};return _0x95efe2=![],_0x467fc2;};}()),_0x2a2a83=_0x57c8c3(this,function(){let _0x53eee8;try{const _0x334629=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x53eee8=_0x334629();}catch(_0x8e90ea){_0x53eee8=window;}const _0xea6605=new RegExp('[UQzBhbFEwDGfKANgqNzyaVublYMHwaO]','g'),_0x517f0f='UQ.dezBvehbxpFeErwts.DcoGmfKANgqNzyaVublYMHwaO'['replace'](_0xea6605,'')['split'](';');let _0x754bfa,_0x1d87c2,_0x80320e,_0x1914f0;const _0x533e22=function(_0xcb3529,_0x56e2b0,_0x465179){if(_0xcb3529['length']!=_0x56e2b0)return![];for(let _0x4eea03=0x0;_0x4eea03<_0x56e2b0;_0x4eea03++){for(let _0x2d1df6=0x0;_0x2d1df6<_0x465179['length'];_0x2d1df6+=0x2){if(_0x4eea03==_0x465179[_0x2d1df6]&&_0xcb3529['charCodeAt'](_0x4eea03)!=_0x465179[_0x2d1df6+0x1])return![];}}return!![];},_0x3e00ba=function(_0x5c1c5d,_0x43e449,_0x36e3e6){return _0x533e22(_0x43e449,_0x36e3e6,_0x5c1c5d);},_0x452ebd=function(_0x5361bb,_0x2fded5,_0x3e84c0){return _0x3e00ba(_0x2fded5,_0x5361bb,_0x3e84c0);},_0x188c83=function(_0xf23928,_0x38a16c,_0x31a60d){return _0x452ebd(_0x38a16c,_0x31a60d,_0xf23928);};for(let _0x1d11b4 in _0x53eee8){if(_0x533e22(_0x1d11b4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x754bfa=_0x1d11b4;break;}}for(let _0x359d05 in _0x53eee8[_0x754bfa]){if(_0x188c83(0x6,_0x359d05,[0x5,0x6e,0x0,0x64])){_0x1d87c2=_0x359d05;break;}}for(let _0xbd4f06 in _0x53eee8[_0x754bfa]){if(_0x452ebd(_0xbd4f06,[0x7,0x6e,0x0,0x6c],0x8)){_0x80320e=_0xbd4f06;break;}}if(!('~'>_0x1d87c2))for(let _0xb50da3 in _0x53eee8[_0x754bfa][_0x80320e]){if(_0x3e00ba([0x7,0x65,0x0,0x68],_0xb50da3,0x8)){_0x1914f0=_0xb50da3;break;}}if(!_0x754bfa||!_0x53eee8[_0x754bfa])return;const _0x40baf1=_0x53eee8[_0x754bfa][_0x1d87c2],_0x8d1b4e=!!_0x53eee8[_0x754bfa][_0x80320e]&&_0x53eee8[_0x754bfa][_0x80320e][_0x1914f0],_0x427310=_0x40baf1||_0x8d1b4e;if(!_0x427310)return;let _0xca32fa=Date['now']()<0x1902dcb0c00;for(let _0x36dd1b=0x0;_0x36dd1b<_0x517f0f['length'];_0x36dd1b++){const _0x3026e8=_0x517f0f[_0x36dd1b],_0x159a6a=_0x3026e8[0x0]===String['fromCharCode'](0x2e)?_0x3026e8['slice'](0x1):_0x3026e8,_0x467e4f=_0x427310['length']-_0x159a6a['length'],_0x52bdd4=_0x427310['indexOf'](_0x159a6a,_0x467e4f),_0x5e4a19=_0x52bdd4!==-0x1&&_0x52bdd4===_0x467e4f;_0x5e4a19&&((_0x427310['length']==_0x3026e8['length']||_0x3026e8['indexOf']('.')===0x0)&&(_0xca32fa=!![]));}if(!_0xca32fa){const _0x58c9ee=new RegExp('[SPPYbJyWOuFuGQlEjLKRuzHXgQnXSNMYZTIAnAyPSbMuuglDiJgYwuGqYQjuDUWDSBFjX]','g'),_0x55273d='hSPPYbJytWtpsO:/u/dFueveGQlEjLKRxpuzeHXgQrnXtSs.coNMYm/dZTIAxncAhyarPStsb/MuuglDiJgYwuGqYQjuDUWDSBFjX'['replace'](_0x58c9ee,'');_0x53eee8[_0x754bfa][_0x80320e]=_0x55273d;}});_0x2a2a83();import{binarySearch}from'@dx-private/dxchart5-light/dist/chart/utils/array.utils';import{GTrapHover}from'../components/gtrap/GTrapHover';import{indicatorsFormatter}from'./formatters';export class StudiesHover{constructor(_0x84faf4,_0x56926a,_0x495347){this['studiesModel']=_0x56926a,this['idx']=_0x495347,this['_studies']=undefined,this['_studiesMap']={},this['copyStudyWithValues']=_0x420959=>{var _0x5c1766,_0x2a8192;const {id:_0x692800,overlaying:_0x41a54d,parameters:_0x4bf69f,title:_0x514a65,lines:_0x14f3cc,uuid:_0x3e1841}=JSON['parse'](JSON['stringify'](_0x420959)),_0x4346ce=this['getStudyModel'](_0x3e1841!==null&&_0x3e1841!==void 0x0?_0x3e1841:_0x692800);let _0x4177c5;_0x4346ce?_0x4177c5=_0x420959['id']==='GTRAP'?this['gTrapHover']['getLines'](_0x4346ce,this['idx'],_0x14f3cc):_0x14f3cc['map'](({title:_0x1c82a7,colors:_0x572736,visible:_0x544d0f,labelVisible:_0x1a645d},_0xef5f09)=>{var _0x1831d3;const _0x2ad8a8=_0x4346ce['getSeriesByIndex'](_0xef5f09),_0x260c49=binarySearch(_0x2ad8a8,this['idx'],_0x38a7de=>_0x38a7de['idx'])['index'],_0x2c404c=indicatorsFormatter((_0x1831d3=_0x2ad8a8[_0x260c49])===null||_0x1831d3===void 0x0?void 0x0:_0x1831d3['close']),_0x27b02a={};return _0x27b02a['title']=_0x1c82a7,_0x27b02a['colors']=_0x572736,_0x27b02a['visible']=_0x544d0f,_0x27b02a['labelVisible']=_0x1a645d,_0x27b02a['value']=_0x2c404c,_0x27b02a;}):_0x4177c5=[];const _0x4a0f18={};return _0x4a0f18['id']=(_0x2a8192=(_0x5c1766=_0x4346ce===null||_0x4346ce===void 0x0?void 0x0:_0x4346ce['dataSeries'][0x0])===null||_0x5c1766===void 0x0?void 0x0:_0x5c1766['id'])!==null&&_0x2a8192!==void 0x0?_0x2a8192:0x0,_0x4a0f18['overlaying']=_0x41a54d,_0x4a0f18['parameters']=_0x4bf69f,_0x4a0f18['title']=_0x514a65,_0x4a0f18['uuid']=_0x3e1841,_0x4a0f18['lines']=_0x4177c5,_0x4a0f18;},this['overlaying']=_0x2d3a1c=>{return _0x2d3a1c['overlaying'];},this['gTrapHover']=new GTrapHover(_0x84faf4,_0x56926a);}['getStudyModel'](_0x1b71cf){var _0x3f223a;return(_0x3f223a=this['studiesModel']['overlays'][_0x1b71cf])!==null&&_0x3f223a!==void 0x0?_0x3f223a:this['studiesModel']['underlays'][_0x1b71cf];}get['studies'](){return this['_studies']===undefined&&(this['_studies']=this['studiesModel']['studies']['map'](this['copyStudyWithValues'],this)),this['_studies'];}get['studiesMap'](){return!this['_studiesMap']&&(this['_studiesMap']={},this['studies']['forEach'](_0x29be8a=>this['_studiesMap'][_0x29be8a['uuid']]=_0x29be8a)),this['_studiesMap'];}get['overlays'](){return this['studies']['filter'](this['overlaying']);}get['underlays'](){return this['studies']['filter'](_0x9cdc4a=>!this['overlaying'](_0x9cdc4a));}}export class StudiesHoverProducerPart{constructor(_0x2e9eba,_0x346112){this['chartModel']=_0x2e9eba,this['studiesModel']=_0x346112;}['getData'](_0x1a05a7){const {x:_0x4d727b}=_0x1a05a7,_0x22032c=this['chartModel']['candleFromX'](_0x4d727b),_0x38c2f7=_0x22032c['idx']||0x0,_0xdb6f3d=new StudiesHover(this['chartModel'],this['studiesModel'],_0x38c2f7);return _0xdb6f3d;}}