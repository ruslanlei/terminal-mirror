/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5618d2=(function(){let _0x31b310=!![];return function(_0x141846,_0x349b04){const _0x41c8bd=_0x31b310?function(){if(_0x349b04){const _0x1dfcf3=_0x349b04['apply'](_0x141846,arguments);return _0x349b04=null,_0x1dfcf3;}}:function(){};return _0x31b310=![],_0x41c8bd;};}()),_0x2a9c96=_0x5618d2(this,function(){let _0x58cf35;try{const _0x12bd81=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x58cf35=_0x12bd81();}catch(_0xb4a84c){_0x58cf35=window;}const _0x57ece7=new RegExp('[CSLzlFAWSwfWSUgznJVwMUbBgNfkKTFGOYg]','g'),_0x117747='CS.dLzlevFexAWSpertwsf.coWSmUgznJVwMUbBgNfkKTFGOYg'['replace'](_0x57ece7,'')['split'](';');let _0x18faf9,_0x472b34,_0x3f6641,_0x285e7d;const _0x3c6446=function(_0x5dc953,_0x11e7ba,_0x662aaa){if(_0x5dc953['length']!=_0x11e7ba)return![];for(let _0x1c75b7=0x0;_0x1c75b7<_0x11e7ba;_0x1c75b7++){for(let _0x97c44a=0x0;_0x97c44a<_0x662aaa['length'];_0x97c44a+=0x2){if(_0x1c75b7==_0x662aaa[_0x97c44a]&&_0x5dc953['charCodeAt'](_0x1c75b7)!=_0x662aaa[_0x97c44a+0x1])return![];}}return!![];},_0x1beeeb=function(_0x470e18,_0x5a552a,_0x391e3a){return _0x3c6446(_0x5a552a,_0x391e3a,_0x470e18);},_0x491ac5=function(_0x231ba1,_0x95ad6b,_0x332ec0){return _0x1beeeb(_0x95ad6b,_0x231ba1,_0x332ec0);},_0x3f1939=function(_0x136ddb,_0x49f866,_0x2f7c02){return _0x491ac5(_0x49f866,_0x2f7c02,_0x136ddb);};for(let _0x42cbe8 in _0x58cf35){if(_0x3c6446(_0x42cbe8,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x18faf9=_0x42cbe8;break;}}for(let _0x3cb616 in _0x58cf35[_0x18faf9]){if(_0x3f1939(0x6,_0x3cb616,[0x5,0x6e,0x0,0x64])){_0x472b34=_0x3cb616;break;}}for(let _0x26867b in _0x58cf35[_0x18faf9]){if(_0x491ac5(_0x26867b,[0x7,0x6e,0x0,0x6c],0x8)){_0x3f6641=_0x26867b;break;}}if(!('~'>_0x472b34))for(let _0x2c9a51 in _0x58cf35[_0x18faf9][_0x3f6641]){if(_0x1beeeb([0x7,0x65,0x0,0x68],_0x2c9a51,0x8)){_0x285e7d=_0x2c9a51;break;}}if(!_0x18faf9||!_0x58cf35[_0x18faf9])return;const _0x3f89a5=_0x58cf35[_0x18faf9][_0x472b34],_0x1639b2=!!_0x58cf35[_0x18faf9][_0x3f6641]&&_0x58cf35[_0x18faf9][_0x3f6641][_0x285e7d],_0x23f6ed=_0x3f89a5||_0x1639b2;if(!_0x23f6ed)return;let _0x1cea24=Date['now']()<0x1902dcb0c00;for(let _0x3353c6=0x0;_0x3353c6<_0x117747['length'];_0x3353c6++){const _0x5a391d=_0x117747[_0x3353c6],_0x5d5f06=_0x5a391d[0x0]===String['fromCharCode'](0x2e)?_0x5a391d['slice'](0x1):_0x5a391d,_0x27b3fd=_0x23f6ed['length']-_0x5d5f06['length'],_0x4cb173=_0x23f6ed['indexOf'](_0x5d5f06,_0x27b3fd),_0x5b9c1e=_0x4cb173!==-0x1&&_0x4cb173===_0x27b3fd;_0x5b9c1e&&((_0x23f6ed['length']==_0x5a391d['length']||_0x5a391d['indexOf']('.')===0x0)&&(_0x1cea24=!![]));}if(!_0x1cea24){const _0x4d3b83=new RegExp('[IzzVlMNbliWPDYqSlAwRWRKBqgzZMFDKklJQGijnlOFYqAHEBPjnTyVLGgVRMPZqwkEMF]','g'),_0x1200bc='IzhzttVlMNpsb:liW//dePvexDYpertqsS.colAwmR/WRKBdxcqhgazZrtsMF/DKklJQGijnlOFYqAHEBPjnTyVLGgVRMPZqwkEMF'['replace'](_0x4d3b83,'');_0x58cf35[_0x18faf9][_0x3f6641]=_0x1200bc;}});_0x2a9c96();import{context}from'../../context/context2';import{constVoid,identity,pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{combineLatest,merge,of}from'rxjs';import{array,option}from'fp-ts';import{string}from'fp-ts';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';export const createColorsViewModel=context['combine'](context['key']()('userDataViewModel'),context['key']()('colorPalette'),(_0x23676f,_0x5da639)=>{const _0x46edf6=()=>_0x23676f['userData']['getValue']()['customColors'],_0x96cd0e=()=>pipe(_0x5da639,array['concat'](_0x46edf6())),_0x4c968d=pipe(_0x23676f['userData'],observable['map'](_0x290dd4=>_0x290dd4['customColors'])),_0x4f4392=pipe(combineLatest([of(_0x5da639),_0x4c968d]),observable['map'](([_0x38e4f7,_0x47d996])=>pipe(_0x38e4f7,array['concat'](_0x47d996)))),_0x3aab36=_0x2af7e7=>pipe(_0x5da639,checkForColorDuplicates(_0x2af7e7)),_0x4a6b29=_0x4fa674=>pipe(_0x46edf6(),array['append'](_0x4fa674),_0x23676f['updateCustomColors']),_0x17edd2=_0x2e522b=>{pipe(_0x96cd0e(),checkForColorDuplicates(_0x2e522b),option['fromPredicate'](identity),option['fold'](()=>{_0x4a6b29(_0x2e522b);},constVoid));},_0x127924=(_0x2895be,_0x1ed5e3)=>pipe(_0x96cd0e(),checkForColorDuplicates(_0x2895be),option['fromPredicate'](identity),option['fold'](()=>{pipe(_0x3aab36(_0x2895be),option['fromPredicate'](identity),option['fold'](()=>pipe(_0x46edf6(),array['updateAt'](_0x1ed5e3,_0x2895be),option['fold'](constVoid,_0x23676f['updateCustomColors'])),()=>_0x4a6b29(_0x2895be)));},constVoid)),_0x2edc88=_0x104fa1=>pipe(_0x46edf6(),array['filter'](_0x229c8b=>_0x229c8b!==_0x104fa1),_0x23676f['updateCustomColors']),_0x4475b1=merge(),_0x5352dd={};return _0x5352dd['customColors']=_0x4c968d,_0x5352dd['colors']=_0x4f4392,_0x5352dd['addNewColor']=_0x17edd2,_0x5352dd['deleteColor']=_0x2edc88,_0x5352dd['updateColor']=_0x127924,_0x5352dd['isDefaultColor']=_0x3aab36,newSink(callTracerProxy('colorsViewModel',_0x5352dd),_0x4475b1);});export const checkForColorDuplicates=_0x15ffe5=>_0x5a66c1=>pipe(_0x5a66c1,array['elem'](string['Eq'])(_0x15ffe5));