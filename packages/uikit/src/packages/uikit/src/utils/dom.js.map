{"version":3,"file":"dom.js","sources":["../../../../utils/dom.ts"],"sourcesContent":["import { compose, curry } from '@terminal/common/utils/fp';\nimport { reduce, toArray } from '@terminal/common/utils/array';\n\nexport const getCssVariable = (\n  variable: string, /* argument format: --variable-name */\n) => getComputedStyle(document.body)\n  .getPropertyValue(variable);\n\nexport const querySelectorAll = (\n  selector: string,\n) => document.querySelectorAll(selector);\n\nexport const querySelector = (\n  selector: string,\n) => document.querySelector(selector);\n\nexport const queryChildSelector = (\n  selector: string,\n  parent: HTMLElement,\n) => parent.querySelector(selector);\n\nexport const getElementById = (id: string) => document.getElementById(id);\n\nconst removeCssPropertyFromSingleElement = curry((\n  property: string | string[],\n  element: HTMLElement,\n) => {\n  const isManyProperties = Array.isArray(property);\n\n  if (isManyProperties) {\n    property.forEach((prop: string) => {\n      element.style.removeProperty(prop);\n    });\n  } else {\n    element.style.removeProperty(property);\n  }\n\n  return element;\n});\n\nexport const removeCssProperty = curry((\n  property: keyof CSSStyleDeclaration | (keyof CSSStyleDeclaration)[],\n  element: HTMLElement | HTMLElement[],\n) => {\n  const isManyElements = Array.isArray(element);\n\n  if (isManyElements) {\n    // @ts-ignore\n    element.forEach(removeCssPropertyFromSingleElement(property));\n  } else {\n    // @ts-ignore\n    removeCssPropertyFromSingleElement(property, element);\n  }\n\n  return element;\n});\n\nexport const addCssProperty = curry((\n  property: [\n    keyof CSSStyleDeclaration,\n      string | number,\n  ],\n  element: HTMLElement,\n) => {\n  const [\n    cssProperty,\n    cssPropertyValue,\n  ] = property;\n\n  // @ts-ignore\n  element.style[cssProperty] = String(cssPropertyValue);\n\n  return element;\n});\n\nexport const getRect = (\n  element: HTMLElement,\n): Omit<DOMRect, 'toJSON'> => element.getBoundingClientRect();\n\nexport const getRectField = curry((\n  field: keyof Omit<DOMRect, 'toJSON'>,\n  element: HTMLElement,\n): number => getRect(element)[field]);\n\nexport const arrayOfElements = (\n  selector: string,\n) => compose(\n  toArray,\n  querySelectorAll,\n)(selector);\n\nexport const collectSrcSet = (\n  src: string[],\n) => reduce(\n  (\n    srcset: string,\n    link: string,\n  ) => (srcset === '' ? `${link}` : `${srcset}, ${link}`),\n  '',\n  src,\n);\n\nexport const setHref = curry(\n  (href: string, element: HTMLLinkElement | HTMLAnchorElement) => {\n    element.href = href;\n\n    return element;\n  },\n);\n\nexport const setFavicon = (iconLink: string) => {\n  compose(\n    setHref(iconLink),\n    querySelector,\n  )('link[rel=\"icon\"]');\n};\n"],"names":["curry","compose","toArray","reduce","getCssVariable","variable","querySelectorAll","selector","querySelector","queryChildSelector","parent","getElementById","id","removeCssPropertyFromSingleElement","property","element","prop","removeCssProperty","addCssProperty","cssProperty","cssPropertyValue","getRect","getRectField","field","arrayOfElements","collectSrcSet","src","srcset","link","setHref","href","setFavicon","iconLink"],"mappings":"AAGa,SAAA,SAAAA,GAAA,WAAAC,SAAA;AAAA,SAAA,WAAAC,GAAA,UAAAC,SAAA;AAAA,MAAAC,IAAiB,CAC5BC,MACG,iBAAiB,SAAS,IAAI,EAChC,iBAAiBA,CAAQ,GAEfC,IAAmB,CAC9BC,MACG,SAAS,iBAAiBA,CAAQ,GAE1BC,IAAgB,CAC3BD,MACG,SAAS,cAAcA,CAAQ,GAEvBE,IAAqB,CAChCF,GACAG,MACGA,EAAO,cAAcH,CAAQ,GAErBI,IAAiB,CAACC,MAAe,SAAS,eAAeA,CAAE,GAElEC,IAAqCb,EAAM,CAC/Cc,GACAC,OAEyB,MAAM,QAAQD,CAAQ,IAGpCA,EAAA,QAAQ,CAACE,MAAiB;AACzB,EAAAD,EAAA,MAAM,eAAeC,CAAI;AAAA,CAClC,IAEOD,EAAA,MAAM,eAAeD,CAAQ,GAGhCC,EACR,GAEYE,IAAoBjB,EAAM,CACrCc,GACAC,OAEuB,MAAM,QAAQA,CAAO,IAIlCA,EAAA,QAAQF,EAAmCC,CAAQ,CAAC,IAG5DD,EAAmCC,GAAUC,CAAO,GAG/CA,EACR,GAEYG,IAAiBlB,EAAM,CAClCc,GAIAC,MACG;AACG,QAAA;AAAA,IACJI;AAAA,IACAC;AAAA,EACE,IAAAN;AAGJ,SAAAC,EAAQ,MAAMI,CAAW,IAAI,OAAOC,CAAgB,GAE7CL;AACT,CAAC,GAEYM,IAAU,CACrBN,MAC4BA,EAAQ,sBAAsB,GAE/CO,IAAetB,EAAM,CAChCuB,GACAR,MACWM,EAAQN,CAAO,EAAEQ,CAAK,CAAC,GAEvBC,IAAkB,CAC7BjB,MACGN;AAAA,EACHC;AAAA,EACAI;AACF,EAAEC,CAAQ,GAEGkB,IAAgB,CAC3BC,MACGvB;AAAA,EACH,CACEwB,GACAC,MACID,MAAW,KAAK,GAAGC,MAAS,GAAGD,MAAWC;AAAA,EAChD;AAAA,EACAF;AACF,GAEaG,IAAU7B;AAAA,EACrB,CAAC8B,GAAcf,OACbA,EAAQ,OAAOe,GAERf;AAEX,GAEagB,IAAa,CAACC,MAAqB;AAC9C,EAAA/B;AAAA,IACE4B,EAAQG,CAAQ;AAAA,IAChBxB;AAAA,IACA,kBAAkB;AACtB;"}