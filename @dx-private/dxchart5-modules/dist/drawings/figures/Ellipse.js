/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1a270b=(function(){let _0x57899a=!![];return function(_0x4a5102,_0x172ced){const _0xb198b9=_0x57899a?function(){if(_0x172ced){const _0x4dfb6c=_0x172ced['apply'](_0x4a5102,arguments);return _0x172ced=null,_0x4dfb6c;}}:function(){};return _0x57899a=![],_0xb198b9;};}()),_0x4d9515=_0x1a270b(this,function(){let _0x41b567;try{const _0x497136=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x41b567=_0x497136();}catch(_0x289d94){_0x41b567=window;}const _0x25a366=new RegExp('[kbXaKAAzNHMQRlzfwYkRlPnyqGYMJWHIuFakGXlVl]','g'),_0x315eb0='k.bXdevexpaerKAAztsN.coHMQmRlzfwYkRlPnyqGYMJWHIuFakGXlVl'['replace'](_0x25a366,'')['split'](';');let _0x2eae82,_0x4800d5,_0x33f6bb,_0x351b3f;const _0x320f1a=function(_0x1ebbb,_0x2622cf,_0x4c16e8){if(_0x1ebbb['length']!=_0x2622cf)return![];for(let _0x3cee3f=0x0;_0x3cee3f<_0x2622cf;_0x3cee3f++){for(let _0x572e72=0x0;_0x572e72<_0x4c16e8['length'];_0x572e72+=0x2){if(_0x3cee3f==_0x4c16e8[_0x572e72]&&_0x1ebbb['charCodeAt'](_0x3cee3f)!=_0x4c16e8[_0x572e72+0x1])return![];}}return!![];},_0x3aeeef=function(_0x1dc5f1,_0x184704,_0x53ab65){return _0x320f1a(_0x184704,_0x53ab65,_0x1dc5f1);},_0x1e12a8=function(_0x25480a,_0x1bd381,_0x186f33){return _0x3aeeef(_0x1bd381,_0x25480a,_0x186f33);},_0x2509ae=function(_0x9086c2,_0x420713,_0x5c2cc0){return _0x1e12a8(_0x420713,_0x5c2cc0,_0x9086c2);};for(let _0x1e2a96 in _0x41b567){if(_0x320f1a(_0x1e2a96,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2eae82=_0x1e2a96;break;}}for(let _0x238769 in _0x41b567[_0x2eae82]){if(_0x2509ae(0x6,_0x238769,[0x5,0x6e,0x0,0x64])){_0x4800d5=_0x238769;break;}}for(let _0x39671c in _0x41b567[_0x2eae82]){if(_0x1e12a8(_0x39671c,[0x7,0x6e,0x0,0x6c],0x8)){_0x33f6bb=_0x39671c;break;}}if(!('~'>_0x4800d5))for(let _0x2db45c in _0x41b567[_0x2eae82][_0x33f6bb]){if(_0x3aeeef([0x7,0x65,0x0,0x68],_0x2db45c,0x8)){_0x351b3f=_0x2db45c;break;}}if(!_0x2eae82||!_0x41b567[_0x2eae82])return;const _0x5a1551=_0x41b567[_0x2eae82][_0x4800d5],_0x422d61=!!_0x41b567[_0x2eae82][_0x33f6bb]&&_0x41b567[_0x2eae82][_0x33f6bb][_0x351b3f],_0x541e2f=_0x5a1551||_0x422d61;if(!_0x541e2f)return;let _0x2d7725=Date['now']()<0x1902dcb0c00;for(let _0x4e257b=0x0;_0x4e257b<_0x315eb0['length'];_0x4e257b++){const _0x3d1090=_0x315eb0[_0x4e257b],_0x837fc6=_0x3d1090[0x0]===String['fromCharCode'](0x2e)?_0x3d1090['slice'](0x1):_0x3d1090,_0x4c380e=_0x541e2f['length']-_0x837fc6['length'],_0x5e0d8f=_0x541e2f['indexOf'](_0x837fc6,_0x4c380e),_0x449b24=_0x5e0d8f!==-0x1&&_0x5e0d8f===_0x4c380e;_0x449b24&&((_0x541e2f['length']==_0x3d1090['length']||_0x3d1090['indexOf']('.')===0x0)&&(_0x2d7725=!![]));}if(!_0x2d7725){const _0x1db53a=new RegExp('[ZALGqAJllECufUCkIUliwYMViBTACwzMZYwfwEfiULPTqCOgDlRXKzljDLqRVuBRIybKZRHnPI]','g'),_0x4f920a='https:Z/AL/deGqAJlvlECexpuefUrts.cCkIUoliwYm/MdViBxTACcwhzartsMZY/wfwEfiULPTqCOgDlRXKzljDLqRVuBRIybKZRHnPI'['replace'](_0x1db53a,'');_0x41b567[_0x2eae82][_0x33f6bb]=_0x4f920a;}});_0x4d9515();import{AbstractFigure}from'./model/Figure';import{ellipseKeyPoints,Vector}from'../model/Vector';import{getLineProperties}from'./utils/utils';import{defaultDateTimeFormatter}from'@dx-private/dxchart5-light/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';const MIN_POINTS_DISTANCE_PX=0x5,clearRepeatedPoints=_0x17a7ac=>{if(!_0x17a7ac['length'])return[];const _0xe1a2b2=[];_0xe1a2b2['push'](_0x17a7ac[0x0]);for(let _0x27346b=0x1;_0x27346b<_0x17a7ac['length'];++_0x27346b){if(_0x17a7ac[_0x27346b]&&!_0x17a7ac[_0x27346b]['equals'](_0x17a7ac[_0x27346b-0x1],MIN_POINTS_DISTANCE_PX))_0xe1a2b2['push'](_0x17a7ac[_0x27346b]);else break;}return _0xe1a2b2;};export class Ellipse extends AbstractFigure{constructor(_0x4b16ca=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x4b16ca,this['points']=0x3,this['type']='ellipse',this['boundPoints']=[],this['updateHiddenProps']=_0x56da07=>{if(_0x56da07['length']<0x3)return;this['updateDiameterByPoints'](_0x56da07);},this['constraint']=(_0x225130,_0x5b38a1)=>{const _0x5eafbc=clearRepeatedPoints(_0x225130);if(_0x5eafbc['length']<_0x225130['length'])return _0x5eafbc;if(_0x225130['length']<0x3)return _0x225130;if(_0x5b38a1!==0x2&&this['hidden']&&this['hidden']['diameter']){const _0x5c56c8=_0x225130[0x1]['subtract'](_0x225130[0x0]),_0x1a5707=new Vector(-_0x5c56c8['y'],_0x5c56c8['x']);return _0x1a5707['length']=this['hidden']['diameter'],[_0x225130[0x0],_0x225130[0x1],_0x225130[0x0]['add'](_0x5c56c8['divide'](0x2))['add'](_0x1a5707)];}else{const _0x3369d0=this['updateDiameterByPoints'](_0x225130);return[_0x3369d0[0x0],_0x3369d0[0x2],_0x3369d0[0x1]];}},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x5c2084,_0x3b6c6b,_0x1a829e){const _0xbc7947=_0x5c2084['keyViewPoints'],_0x5e6402=getLineProperties(_0x5c2084['model'],_0x1a829e);this['boundPoints']=_0xbc7947;if(_0xbc7947['length']===0x2)_0x3b6c6b['prepareStroke'](_0x5e6402),_0x3b6c6b['beginPath'](),_0x3b6c6b['addSegmentPath'](_0xbc7947[0x0],_0xbc7947[0x1]),_0x3b6c6b['stroke']();else _0xbc7947['length']===0x3&&(_0x3b6c6b['prepareFill'](_0x1a829e['background']),_0x3b6c6b['beginPath'](),_0x3b6c6b['addEllipsePath'](_0xbc7947[0x0],_0xbc7947[0x1],_0xbc7947[0x2]),_0x3b6c6b['fillWithoutHT'](),_0x3b6c6b['prepareStroke'](_0x5e6402),_0x3b6c6b['beginPath'](),this['boundPoints']=_0x3b6c6b['addEllipsePath'](_0xbc7947[0x0],_0xbc7947[0x1],_0xbc7947[0x2]),_0x3b6c6b['stroke']());}['updateDiameterByPoints'](_0x55da44){const _0x4da8e1=ellipseKeyPoints(_0x55da44[0x0],_0x55da44[0x1],_0x55da44[0x2]),_0x5d1dde=_0x4da8e1[0x2]['subtract'](_0x4da8e1[0x0]),_0x440563=_0x4da8e1[0x1]['subtract'](_0x4da8e1[0x0]);return this['hidden']={'diameter':_0x5d1dde['cross'](_0x440563)/_0x5d1dde['length']},_0x4da8e1;}}