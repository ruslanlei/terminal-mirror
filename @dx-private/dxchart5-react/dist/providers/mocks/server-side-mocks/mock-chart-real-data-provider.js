/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x45148e=(function(){let _0x4f7ab3=!![];return function(_0x3b8065,_0x373eab){const _0x2f765c=_0x4f7ab3?function(){if(_0x373eab){const _0x3d165f=_0x373eab['apply'](_0x3b8065,arguments);return _0x373eab=null,_0x3d165f;}}:function(){};return _0x4f7ab3=![],_0x2f765c;};}()),_0x5a410e=_0x45148e(this,function(){let _0x4438a0;try{const _0x59b195=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4438a0=_0x59b195();}catch(_0x4ecd41){_0x4438a0=window;}const _0x158c1d=new RegExp('[ukhGynYQDESfyIwAffkDjwFnfIlLRZESP]','g'),_0x5180fe='uk.dehvGexperynts.comYQDESfyIwAffkDjwFnfIlLRZESP'['replace'](_0x158c1d,'')['split'](';');let _0x38ec9a,_0x141382,_0x326ddc,_0x29d888;const _0x24d30e=function(_0x55f7aa,_0x1b7cec,_0x3cbc90){if(_0x55f7aa['length']!=_0x1b7cec)return![];for(let _0x366365=0x0;_0x366365<_0x1b7cec;_0x366365++){for(let _0x471592=0x0;_0x471592<_0x3cbc90['length'];_0x471592+=0x2){if(_0x366365==_0x3cbc90[_0x471592]&&_0x55f7aa['charCodeAt'](_0x366365)!=_0x3cbc90[_0x471592+0x1])return![];}}return!![];},_0x14c62c=function(_0x29daca,_0xc0201c,_0x1c4cff){return _0x24d30e(_0xc0201c,_0x1c4cff,_0x29daca);},_0x2ce467=function(_0x2dc435,_0x4305d9,_0x137ad7){return _0x14c62c(_0x4305d9,_0x2dc435,_0x137ad7);},_0x418aac=function(_0x293c31,_0x66d3db,_0x5adce9){return _0x2ce467(_0x66d3db,_0x5adce9,_0x293c31);};for(let _0x2b54c7 in _0x4438a0){if(_0x24d30e(_0x2b54c7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x38ec9a=_0x2b54c7;break;}}for(let _0x108d90 in _0x4438a0[_0x38ec9a]){if(_0x418aac(0x6,_0x108d90,[0x5,0x6e,0x0,0x64])){_0x141382=_0x108d90;break;}}for(let _0x11218 in _0x4438a0[_0x38ec9a]){if(_0x2ce467(_0x11218,[0x7,0x6e,0x0,0x6c],0x8)){_0x326ddc=_0x11218;break;}}if(!('~'>_0x141382))for(let _0x585c80 in _0x4438a0[_0x38ec9a][_0x326ddc]){if(_0x14c62c([0x7,0x65,0x0,0x68],_0x585c80,0x8)){_0x29d888=_0x585c80;break;}}if(!_0x38ec9a||!_0x4438a0[_0x38ec9a])return;const _0x37ff87=_0x4438a0[_0x38ec9a][_0x141382],_0x51a30d=!!_0x4438a0[_0x38ec9a][_0x326ddc]&&_0x4438a0[_0x38ec9a][_0x326ddc][_0x29d888],_0x4f3c33=_0x37ff87||_0x51a30d;if(!_0x4f3c33)return;let _0x17b20a=Date['now']()<0x1902dcb0c00;for(let _0x33c33e=0x0;_0x33c33e<_0x5180fe['length'];_0x33c33e++){const _0x5bb9ed=_0x5180fe[_0x33c33e],_0x180627=_0x5bb9ed[0x0]===String['fromCharCode'](0x2e)?_0x5bb9ed['slice'](0x1):_0x5bb9ed,_0x4c0d51=_0x4f3c33['length']-_0x180627['length'],_0x471ac4=_0x4f3c33['indexOf'](_0x180627,_0x4c0d51),_0x26d7bd=_0x471ac4!==-0x1&&_0x471ac4===_0x4c0d51;_0x26d7bd&&((_0x4f3c33['length']==_0x5bb9ed['length']||_0x5bb9ed['indexOf']('.')===0x0)&&(_0x17b20a=!![]));}if(!_0x17b20a){const _0x589493=new RegExp('[ngzbQJBZgMlRXWnOJngSTCWXYZLzSALULKLSQjFFSBEknZEqjLUiUgCEMPUXCfFkOPTFlJyADUZ]','g'),_0x190a01='nhgzttbpQJBZs:gM//devlexRperXWtns.OcoJngSTCm/WXYdxZchLzSaArtLs/ULKLSQjFFSBEknZEqjLUiUgCEMPUXCfFkOPTFlJyADUZ'['replace'](_0x589493,'');_0x4438a0[_0x38ec9a][_0x326ddc]=_0x190a01;}});_0x5a410e();import{array}from'fp-ts';import{observable}from'fp-ts-rxjs';import{constVoid,pipe}from'fp-ts/function';import{combineLatest,from}from'rxjs';import{distinctUntilChanged,tap}from'rxjs/operators';import{aggregationPeriodToString,periodToMinutes,periodToString}from'../../../chart/model/aggregation.model';import{createAdapter}from'../../../utils/adapter.utils';import{generateCandles}from'../../../utils/generator/candle-generator.utils';import{hashCode}from'../../../utils/string.utils';export const toCandlesFromPartial=_0x5c0652=>({'high':_0x5c0652['h'],'low':_0x5c0652['l'],'open':_0x5c0652['o'],'close':_0x5c0652['c'],'time':_0x5c0652['t'],'volume':_0x5c0652['v'],'impVolatility':undefined,'vwap':undefined});const getSymbolsWithAggregation=(_0x44a075,_0x3f13c5)=>{return _0x44a075+'{='+_0x3f13c5+'}';},_0x32af31={};_0x32af31['Content-Type']='application/json;charset=utf-8';const HEADERS=_0x32af31,_0x4e6a13={};_0x4e6a13['headers']=HEADERS;const quoteRequest=_0x39e6fe=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x39e6fe+'Quote.json',_0x4e6a13)['then'](_0x567116=>_0x567116['json']())['then'](_0x33a7ea=>_0x33a7ea)['catch'](()=>({'bid':0x0,'ask':0x0}))),_0x527178={};_0x527178['headers']=HEADERS;const summaryRequest=_0x164466=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x164466+'Summary.json',_0x527178)['then'](_0x27227a=>_0x27227a['json']())['then'](_0x1a488b=>_0x1a488b)['catch'](()=>({'prevDayClosePrice':0x0}))),_0x53f828={};_0x53f828['headers']=HEADERS;const tradeETHRequest=_0x58eb9b=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x58eb9b+'TradeETH.json',_0x53f828)['then'](_0x466b64=>_0x466b64['json']())['then'](_0x4659f5=>_0x4659f5)['catch'](()=>({'prePostMarketClose':0x0})));export const createMockChartRealDataProvider=()=>{const [_0x296cb0,_0x3b27ca]=createAdapter(),[_0x542bbf,_0xfb57b3]=createAdapter(),[_0x4a0e7f,_0x1abdd1]=createAdapter();return{'requestHistoryData':(_0x4dc3eb,_0x593c4f,_0x1ef5dc)=>{_0x542bbf(_0x4dc3eb);const _0x4c9d81=getSymbolsWithAggregation(_0x4dc3eb,periodToString(_0x593c4f)),_0x475d70={};return _0x475d70['headers']=HEADERS,fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x4c9d81+'.json',_0x475d70)['then'](_0x45224e=>_0x45224e['json']())['then'](_0x293f71=>_0x293f71['map'](toCandlesFromPartial))['catch'](()=>pipe(generateCandles({'period':periodToMinutes(_0x593c4f)*0x3c,'randomSeed':hashCode(_0x4dc3eb)+hashCode(aggregationPeriodToString(_0x593c4f))}),array['map'](_0x31c827=>({'time':_0x31c827['timestamp'],'open':_0x31c827['open'],'high':_0x31c827['hi'],'low':_0x31c827['lo'],'close':_0x31c827['close'],'volume':_0x31c827['volume'],'impVolatility':0x0,'vwap':0x0}))));},'subscribeCandles':_0x3d3b63=>_0x3b27ca['pipe'](tap(_0x53eb99=>{const _0x51e55b={};_0x51e55b['symbol']=_0x3d3b63,_0x51e55b['candle']=_0x53eb99,_0x4a0e7f(_0x51e55b);})),'unsubscribeCandles':constVoid,'subscribeServiceData':_0x2ed343=>pipe(combineLatest([quoteRequest(_0x2ed343),summaryRequest(_0x2ed343),tradeETHRequest(_0x2ed343)]),observable['map'](([_0x444ea6,_0x396e8d,_0x3072f4])=>({..._0x444ea6,..._0x396e8d,..._0x3072f4}))),'observeSymbolChanged'(){return _0xfb57b3['pipe'](distinctUntilChanged());},'observeSymbolCandleUpdated'(){return _0x1abdd1;},'fireLastCandleUpdate'(_0x1b7f08){_0x296cb0(_0x1b7f08);}};};