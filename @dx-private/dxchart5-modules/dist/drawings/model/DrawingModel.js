/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x33067f=(function(){let _0x370efd=!![];return function(_0x4ee4d1,_0x25cf8a){const _0x25b478=_0x370efd?function(){if(_0x25cf8a){const _0x182c5e=_0x25cf8a['apply'](_0x4ee4d1,arguments);return _0x25cf8a=null,_0x182c5e;}}:function(){};return _0x370efd=![],_0x25b478;};}()),_0x1afc1f=_0x33067f(this,function(){const _0x38028f=function(){let _0xe953eb;try{_0xe953eb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2fed0b){_0xe953eb=window;}return _0xe953eb;},_0x4ada08=_0x38028f(),_0x4cf76c=new RegExp('[aalDkihjbMLJgnVAybnDhaVunFIOqMTJV]','g'),_0x564c81='.devaealxDkpertsihj.cbMLJognmVAybnDhaVunFIOqMTJV'['replace'](_0x4cf76c,'')['split'](';');let _0x5dd3af,_0x430eb8,_0x5c7e12,_0x4ab8a0;const _0x4c300f=function(_0x6ad50d,_0x57340b,_0x50fdff){if(_0x6ad50d['length']!=_0x57340b)return![];for(let _0x5a51b4=0x0;_0x5a51b4<_0x57340b;_0x5a51b4++){for(let _0x4c31c7=0x0;_0x4c31c7<_0x50fdff['length'];_0x4c31c7+=0x2){if(_0x5a51b4==_0x50fdff[_0x4c31c7]&&_0x6ad50d['charCodeAt'](_0x5a51b4)!=_0x50fdff[_0x4c31c7+0x1])return![];}}return!![];},_0x4e2567=function(_0x1d0217,_0x2539de,_0x32c996){return _0x4c300f(_0x2539de,_0x32c996,_0x1d0217);},_0x1e2c3d=function(_0xa3cd9,_0x4ffe58,_0x181f83){return _0x4e2567(_0x4ffe58,_0xa3cd9,_0x181f83);},_0x260b77=function(_0x1cacab,_0x15b5b3,_0x13e910){return _0x1e2c3d(_0x15b5b3,_0x13e910,_0x1cacab);};for(let _0x21568a in _0x4ada08){if(_0x4c300f(_0x21568a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5dd3af=_0x21568a;break;}}for(let _0xc3fb53 in _0x4ada08[_0x5dd3af]){if(_0x260b77(0x6,_0xc3fb53,[0x5,0x6e,0x0,0x64])){_0x430eb8=_0xc3fb53;break;}}for(let _0x1859f0 in _0x4ada08[_0x5dd3af]){if(_0x1e2c3d(_0x1859f0,[0x7,0x6e,0x0,0x6c],0x8)){_0x5c7e12=_0x1859f0;break;}}if(!('~'>_0x430eb8))for(let _0x3bad98 in _0x4ada08[_0x5dd3af][_0x5c7e12]){if(_0x4e2567([0x7,0x65,0x0,0x68],_0x3bad98,0x8)){_0x4ab8a0=_0x3bad98;break;}}if(!_0x5dd3af||!_0x4ada08[_0x5dd3af])return;const _0x4e6709=_0x4ada08[_0x5dd3af][_0x430eb8],_0x50d163=!!_0x4ada08[_0x5dd3af][_0x5c7e12]&&_0x4ada08[_0x5dd3af][_0x5c7e12][_0x4ab8a0],_0x1d8c56=_0x4e6709||_0x50d163;if(!_0x1d8c56)return;let _0x17ad2f=Date['now']()<0x1902dcb0c00;for(let _0x34d6e8=0x0;_0x34d6e8<_0x564c81['length'];_0x34d6e8++){const _0x483037=_0x564c81[_0x34d6e8],_0x51d71c=_0x483037[0x0]===String['fromCharCode'](0x2e)?_0x483037['slice'](0x1):_0x483037,_0x59d968=_0x1d8c56['length']-_0x51d71c['length'],_0x2af692=_0x1d8c56['indexOf'](_0x51d71c,_0x59d968),_0x446ee9=_0x2af692!==-0x1&&_0x2af692===_0x59d968;_0x446ee9&&((_0x1d8c56['length']==_0x483037['length']||_0x483037['indexOf']('.')===0x0)&&(_0x17ad2f=!![]));}if(!_0x17ad2f){const _0xaade18=new RegExp('[XlElGVjkANQNLPRYYjySbzBMGGZlRUIUCUCCnGSlIkNWRuQwGIgXHyBJMGXbWTQLjguVQlREH]','g'),_0x543db1='htXtlps:/El/devGVjekxpAerts.comN/dxQNchaLPrts/RYYjySbzBMGGZlRUIUCUCCnGSlIkNWRuQwGIgXHyBJMGXbWTQLjguVQlREH'['replace'](_0xaade18,'');_0x4ada08[_0x5dd3af][_0x5c7e12]=_0x543db1;}});_0x1afc1f();import{factoryFigure}from'../figures/model/FigureFactory';export class DrawingModel{constructor(_0x43cacc,_0x21866b,_0x235f51=[],_0x184b15,_0x394eda=!![],_0x35de2b=![],_0x370eaf){this['id']=_0x43cacc,this['type']=_0x21866b,this['keyPoints']=_0x235f51,this['properties']=_0x184b15,this['visible']=_0x394eda,this['locked']=_0x35de2b,this['active']=![],this['externalEditing']=![],this['cachedPoints']=[],this['hidden']=null,this['figure']=factoryFigure(_0x21866b,this['keyPoints']['length'],_0x184b15,_0x370eaf),this['fixedPoints']=this['keyPoints']['length'],this['intId']=this['calculateIntId']();}['calculateIntId'](){const _0x300045=parseInt(this['id']['substring'](this['id']['lastIndexOf']('_')+0x1),0xa);if(isNaN(_0x300045))return console['error']('couldn\x27t\x20parse\x20drawing\x20id'),0x0;return _0x300045;}static['create'](_0xdde53d,_0x5818ba){const _0x56382b=new DrawingModel(_0xdde53d['id'],_0xdde53d['type'],_0xdde53d['keyPoints'],_0xdde53d['properties'],!![],![],_0x5818ba);return _0x56382b['mergeModel'](_0xdde53d),_0x56382b;}['getFigure'](){return this['figure'];}['isAdding'](){return this['fixedPoints']<this['getFigure']()['points'];}['mergeModel'](_0x4a3bcc){var _0x35c224,_0x3f1f51;const _0x28bec4=['id','type','data','figure','cachedPoints','active'];for(const _0x13f62a of Object['keys'](_0x4a3bcc)){const _0x56cdc9=_0x4a3bcc[_0x13f62a];_0x28bec4['indexOf'](_0x13f62a)===-0x1&&(this[_0x13f62a]=_0x56cdc9);}if(typeof((_0x35c224=_0x4a3bcc===null||_0x4a3bcc===void 0x0?void 0x0:_0x4a3bcc['figure'])===null||_0x35c224===void 0x0?void 0x0:_0x35c224['data'])==='object'&&((_0x3f1f51=_0x4a3bcc===null||_0x4a3bcc===void 0x0?void 0x0:_0x4a3bcc['figure'])===null||_0x3f1f51===void 0x0?void 0x0:_0x3f1f51['data'])!==null){const _0x2c5171=_0x4a3bcc['figure']['data'];for(const _0x103dab in _0x2c5171){_0x2c5171['hasOwnProperty'](_0x103dab)&&(this['figure']['data'][_0x103dab]=_0x2c5171[_0x103dab]);}}}}