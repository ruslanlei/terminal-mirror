/*
 * Copyright (C) 2002 - 2023 Devexperts LLC
 * This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
 * If a copy of the MPL was not distributed with this file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
import{eachDayOfInterval as k,isSameDay as h,isMonday as M,isTuesday as f,isWednesday as v,isThursday as i,isFriday as w,isSaturday as T,isSunday as g,startOfMonth as S,endOfMonth as O}from"date-fns/esm";export const timeFormatMatcherFactory=e=>{switch(e.key){case"lessThanSecond":return N(e);case"month":return p(e);case"second":case"minute":case"hour":case"day":case"year":return W(e);case"week-weekday":return C(e);default:return()=>!1}};const a=(e,s)=>{switch(s){case"lessThanSecond":return e.getMilliseconds();case"month":return e.getMonth();case"second":return e.getSeconds();case"minute":return e.getMinutes();case"hour":return e.getHours();case"day":return e.getDate();case"year":return e.getFullYear();case"week-weekday":return e.getDate()}},o=e=>(s,n)=>{const c=a(s,e),t=a(n,e);return c!==t},x={1:M,2:f,3:v,4:i,5:w,6:T,7:g},I=(e,s,n)=>{var c;const t=k({start:S(e),end:O(e)}),u=(c=x[n])!==null&&c!==void 0?c:()=>!1;if(s==="$"){for(const r of t.reverse())if(u(r))return h(e,r)}else{let r=1;for(const y of t)if(u(y)){if(r===s)return h(e,y);r++}}return!1},l=(e,s)=>s===1?e===1:e/s===1,d=(e,s)=>s===1?!0:e%s===0,N=e=>(s,n)=>o(e.key)(s,n),p=e=>(s,n)=>{const c=o(e.key)(s,n),t=e.exact?l(a(s,e.key)+1,e.value):d(a(s,e.key)+1,e.value);return c&&t},W=e=>(s,n)=>{const c=o(e.key)(s,n),t=e.exact?l(a(s,e.key),e.value):d(a(s,e.key),e.value);return c&&t},C=e=>(s,n)=>{const c=o(e.key)(s,n),t=I(s,e.week,e.weekday);return c&&t};
