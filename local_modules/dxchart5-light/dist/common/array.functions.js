/*
 * Copyright (C) 2002 - 2023 Devexperts LLC
 * This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
 * If a copy of the MPL was not distributed with this file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */
import{clamp as a}from"../chart/utils";export const arrayIntersect=(t,e,n=eqeqeq,r=!0)=>{const o=t.filter(s=>e.filter(i=>n(s,i)).length!==0),c=[];return r?o.reduce((s,i)=>(s.filter(l=>n(i,l)).length===0&&s.push(i),s),c):o},reorderArray=(t,e)=>{const n=e.slice().filter(r=>t.find(o=>o===r));return t.map(r=>{var o;return e.indexOf(r)>=0&&(o=n.shift())!==null&&o!==void 0?o:r})},eqeqeq=(t,e)=>t===e,arraySubtract=(t,e,n)=>t.filter(r=>e.filter(o=>n(r,o)).length===0);export function moveInArray(t,e,n){const r=t.slice(),o=r[e];return r.splice(e,1),r.splice(n,0,o),r}export function moveInArrayMutable(t,e,n){const r=t.length,o=a(e,0,r-1),c=a(n,0,r-1),s=t[o];return t.splice(o,1),t.splice(c,0,s),t}export function replaceInArray(t,e,n){const r=t.slice(),o=r.findIndex(e);return o!==-1&&(r.splice(o,1),r.splice(o,0,n)),r}export const uniqueArray=t=>{const e={};return t.filter(n=>e[n]?!1:e[n]=!0)},groupBy=(t,e)=>t.reduce((n,r)=>((n[r[e]]=n[r[e]]||[]).push(r),n),{}),interleave=(t,e)=>[].concat(...t.map(n=>[n,e])).slice(0,-1),isTwoDimArray=t=>Array.isArray(t[0]),create2DArray=t=>Array.isArray(t[0])?t:[t],slice2DArray=(t,e,n)=>{const r=[];let o=0;for(const c of t){const s=Math.max(e-o,0),i=Math.max(n-o,-1),l=c.slice(s,i+1);l.length>0&&r.push(l),o+=c.length}return r};
