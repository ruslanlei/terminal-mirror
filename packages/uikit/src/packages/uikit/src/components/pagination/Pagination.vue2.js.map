{"version":3,"file":"Pagination.vue2.js","sources":["../../../../../components/pagination/Pagination.vue"],"sourcesContent":["<template>\n  <div :class=\"$style.pagination\">\n    <Button\n      v-if=\"showPreviousButton\"\n      :is-wide=\"false\"\n      size=\"sm\"\n      :state=\"['interactive', 'secondary1Color', 'background3']\"\n      :class=\"$style.button\"\n      @click=\"changePage(modelValue - 1)\"\n    >\n      <Icon\n        icon=\"arrowLeft\"\n        :size=\"18\"\n      />\n    </Button>\n    <Button\n      v-if=\"pages[0] !== 1\"\n      size=\"sm\"\n      :is-wide=\"false\"\n      :state=\"[\n        'interactive',\n        'secondary1Color',\n        localValue === 1 ? 'background3' : 'background2'\n      ]\"\n      :class=\"$style.button\"\n      @click=\"changePage(1)\"\n    >\n      1\n    </Button>\n    <Button\n      v-if=\"pages[0] > 2\"\n      size=\"sm\"\n      :is-wide=\"false\"\n      :state=\"[\n        'interactive',\n        'secondary1Color',\n        'background2'\n      ]\"\n      :class=\"$style.button\"\n      disabled\n    >\n      {{ gapSymbol }}\n    </Button>\n    <Button\n      v-for=\"pageNumber in pages\"\n      :key=\"pageNumber\"\n      size=\"sm\"\n      :is-wide=\"false\"\n      :state=\"[\n        'interactive',\n        'secondary1Color',\n        pageNumber === modelValue ? 'background3' : 'background2'\n      ]\"\n      :class=\"$style.button\"\n      @click=\"changePage(pageNumber)\"\n    >\n      {{ pageNumber }}\n    </Button>\n    <Button\n      v-if=\"pages[pages.length - 1] < props.totalPages - 1\"\n      size=\"sm\"\n      :is-wide=\"false\"\n      :state=\"[\n        'interactive',\n        'secondary1Color',\n        'background2'\n      ]\"\n      :class=\"$style.button\"\n      disabled\n    >\n      {{ gapSymbol }}\n    </Button>\n    <Button\n      v-if=\"pages[pages.length - 1] !== props.totalPages\"\n      size=\"sm\"\n      :is-wide=\"false\"\n      :state=\"[\n        'interactive',\n        'secondary1Color',\n        props.totalPages === modelValue ? 'background3' : 'background2'\n      ]\"\n      :class=\"$style.button\"\n      @click=\"changePage(props.totalPages)\"\n    >\n      {{ props.totalPages }}\n    </Button>\n    <Button\n      v-if=\"showNextButton\"\n      :is-wide=\"false\"\n      size=\"sm\"\n      :state=\"['interactive', 'secondary1Color', 'background3']\"\n      :class=\"$style.button\"\n      @click=\"changePage(modelValue + 1)\"\n    >\n      <Icon\n        icon=\"arrowRight\"\n        :size=\"18\"\n      />\n    </Button>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { computed } from 'vue';\nimport { useLocalValue } from '@/hooks/useLocalValue';\nimport Button from '@/components/button/Button.vue';\nimport Icon from '@/components/icon/Icon.vue';\nimport { PaginationEmits, PaginationProps } from './index';\n\nconst props = withDefaults(\n  defineProps<PaginationProps>(),\n  {\n    visiblePageCount: 5,\n  },\n);\n\nconst emit = defineEmits<PaginationEmits>();\n\nconst localValue = useLocalValue<number>(props, emit, 'modelValue');\n\nconst gapSymbol = '...';\n\nconst getPages = (\n  visiblePageCount: number,\n  modelValue: number,\n  totalPages: number,\n) => {\n  const half = Math.floor(visiblePageCount / 2);\n  let start = Math.max(modelValue - half, 1);\n  let end = start + visiblePageCount - 1;\n  if (end > totalPages) {\n    end = totalPages;\n    start = Math.max(end - visiblePageCount + 1, 1);\n  } else if (end < totalPages - 2) {\n    end = Math.min(totalPages, end + 1);\n  }\n  return Array.from({ length: end - start + 1 }, (_, i) => i + start);\n};\n\nconst pages = computed(() => getPages(props.visiblePageCount, props.modelValue, props.totalPages));\n\nconst showPreviousButton = computed(() => props.modelValue > 1);\n\nconst showNextButton = computed(() => props.modelValue < props.totalPages);\n\nconst changePage = (pageNumber: number) => {\n  if (pageNumber >= 1 && pageNumber <= props.totalPages) {\n    localValue.value = pageNumber;\n  }\n};\n</script>\n\n<style lang=\"scss\" module>\n.pagination {\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n}\n\n.button {\n  padding: 10px;\n  min-width: 40px;\n}\n</style>\n"],"names":["gapSymbol","localValue","useLocalValue","props","emit","getPages","visiblePageCount","modelValue","totalPages","half","start","end","_","i","pages","computed","showPreviousButton","showNextButton","changePage","pageNumber"],"mappings":";;;;AAuHA,MAAMA,IAAY;;;;;;;;;iBAFZC,IAAaC,EAAsBC,GAAOC,GAAM,YAAY,GAI5DC,IAAW,CACfC,GACAC,GACAC,MACG;AACH,YAAMC,IAAO,KAAK,MAAMH,IAAmB,CAAC;AAC5C,UAAII,IAAQ,KAAK,IAAIH,IAAaE,GAAM,CAAC,GACrCE,IAAMD,IAAQJ,IAAmB;AACrC,aAAIK,IAAMH,KACFG,IAAAH,GACNE,IAAQ,KAAK,IAAIC,IAAML,IAAmB,GAAG,CAAC,KACrCK,IAAMH,IAAa,MAC5BG,IAAM,KAAK,IAAIH,GAAYG,IAAM,CAAC,IAE7B,MAAM,KAAK,EAAE,QAAQA,IAAMD,IAAQ,EAAE,GAAG,CAACE,GAAGC,MAAMA,IAAIH,CAAK;AAAA,IAAA,GAG9DI,IAAQC,EAAS,MAAMV,EAASF,EAAM,kBAAkBA,EAAM,YAAYA,EAAM,UAAU,CAAC,GAE3Fa,IAAqBD,EAAS,MAAMZ,EAAM,aAAa,CAAC,GAExDc,IAAiBF,EAAS,MAAMZ,EAAM,aAAaA,EAAM,UAAU,GAEnEe,IAAa,CAACC,MAAuB;AACzC,MAAIA,KAAc,KAAKA,KAAchB,EAAM,eACzCF,EAAW,QAAQkB;AAAA,IACrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}