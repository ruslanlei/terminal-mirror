/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2240e9=(function(){let _0xc8010b=!![];return function(_0x38e348,_0x4a7640){const _0x520c02=_0xc8010b?function(){if(_0x4a7640){const _0x3825fe=_0x4a7640['apply'](_0x38e348,arguments);return _0x4a7640=null,_0x3825fe;}}:function(){};return _0xc8010b=![],_0x520c02;};}()),_0x1c0715=_0x2240e9(this,function(){const _0xcee16b=function(){let _0x3775ae;try{_0x3775ae=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x53081a){_0x3775ae=window;}return _0x3775ae;},_0x1a5ee3=_0xcee16b(),_0x36f053=new RegExp('[HCjDJAhAGWCjPETUGuTMbNCQZSMXHwyAYaXHWQVf]','g'),_0x24ef98='.HdCevjDJexpAerhAGts.coWCmjPETUGuTMbNCQZSMXHwyAYaXHWQVf'['replace'](_0x36f053,'')['split'](';');let _0x21b694,_0x383b8d,_0x222225,_0x3c4a02;const _0x2f66c3=function(_0x4e5659,_0x49e81f,_0x3bb10b){if(_0x4e5659['length']!=_0x49e81f)return![];for(let _0x482b9f=0x0;_0x482b9f<_0x49e81f;_0x482b9f++){for(let _0x52e1a6=0x0;_0x52e1a6<_0x3bb10b['length'];_0x52e1a6+=0x2){if(_0x482b9f==_0x3bb10b[_0x52e1a6]&&_0x4e5659['charCodeAt'](_0x482b9f)!=_0x3bb10b[_0x52e1a6+0x1])return![];}}return!![];},_0xcc3fac=function(_0x522f2c,_0x4b6751,_0x3e9bab){return _0x2f66c3(_0x4b6751,_0x3e9bab,_0x522f2c);},_0x289282=function(_0x5ac6f3,_0x44a5a7,_0x44e2fe){return _0xcc3fac(_0x44a5a7,_0x5ac6f3,_0x44e2fe);},_0xcbf2b8=function(_0xbca07d,_0x1b4191,_0xee494f){return _0x289282(_0x1b4191,_0xee494f,_0xbca07d);};for(let _0x40dbd5 in _0x1a5ee3){if(_0x2f66c3(_0x40dbd5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x21b694=_0x40dbd5;break;}}for(let _0x5b4b29 in _0x1a5ee3[_0x21b694]){if(_0xcbf2b8(0x6,_0x5b4b29,[0x5,0x6e,0x0,0x64])){_0x383b8d=_0x5b4b29;break;}}for(let _0x331ca0 in _0x1a5ee3[_0x21b694]){if(_0x289282(_0x331ca0,[0x7,0x6e,0x0,0x6c],0x8)){_0x222225=_0x331ca0;break;}}if(!('~'>_0x383b8d))for(let _0x272626 in _0x1a5ee3[_0x21b694][_0x222225]){if(_0xcc3fac([0x7,0x65,0x0,0x68],_0x272626,0x8)){_0x3c4a02=_0x272626;break;}}if(!_0x21b694||!_0x1a5ee3[_0x21b694])return;const _0x8b290a=_0x1a5ee3[_0x21b694][_0x383b8d],_0x1aff1c=!!_0x1a5ee3[_0x21b694][_0x222225]&&_0x1a5ee3[_0x21b694][_0x222225][_0x3c4a02],_0x4c95df=_0x8b290a||_0x1aff1c;if(!_0x4c95df)return;let _0x2518e5=Date['now']()<0x1902dcb0c00;for(let _0x233892=0x0;_0x233892<_0x24ef98['length'];_0x233892++){const _0x16f955=_0x24ef98[_0x233892],_0x4ebf8d=_0x16f955[0x0]===String['fromCharCode'](0x2e)?_0x16f955['slice'](0x1):_0x16f955,_0x2e42c9=_0x4c95df['length']-_0x4ebf8d['length'],_0x100315=_0x4c95df['indexOf'](_0x4ebf8d,_0x2e42c9),_0x1b05e5=_0x100315!==-0x1&&_0x100315===_0x2e42c9;_0x1b05e5&&((_0x4c95df['length']==_0x16f955['length']||_0x16f955['indexOf']('.')===0x0)&&(_0x2518e5=!![]));}if(!_0x2518e5){const _0x28fb12=new RegExp('[uUifOJzXSZZnUXgBMKLqnjGFSBAgIqwRTEGiAIMKKFQfHwGRjHZKECLqyDziPwgiMjRGyb]','g'),_0x1b7a8b='httpusU:ifOJzXSZZ//nUXgdBMeveKxpLqenrjGtFsS.coBAgm/Idqxchawrts/RTEGiAIMKKFQfHwGRjHZKECLqyDziPwgiMjRGyb'['replace'](_0x28fb12,'');_0x1a5ee3[_0x21b694][_0x222225]=_0x1b7a8b;}});_0x1c0715();import{observable}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{merge,switchMap,tap}from'rxjs';import{context}from'../../../context/context2';import{waitForCandlesSet}from'../../../utils/chart';import{AGGREGATION_PERIOD_1_HOUR}from'../../model/aggregation.model';export const handleRangesBarTypeEffect=context['combine'](context['key']()('chartInstance'),context['key']()('aggregationPeriodViewModel'),context['key']()('chartTypeViewModel'),(_0x335b47,_0x173eab,_0x3de8e9)=>{const _0x37cd50=pipe(_0x173eab['selectedPeriod'],switchMap(()=>pipe(waitForCandlesSet(_0x335b47),observable['filter'](()=>_0x3de8e9['type']['getValue']()!=='bar'&&_0x173eab['selectedPeriod']['getValue']()['durationType']==='r'),tap(()=>_0x3de8e9['setType']('bar'))))),_0x51df6c=pipe(_0x3de8e9['type'],observable['filter'](_0x1aa62d=>_0x1aa62d!=='bar'&&_0x173eab['selectedPeriod']['getValue']()['durationType']==='r'),observable['map'](()=>{_0x173eab['changeAggregationPeriod'](AGGREGATION_PERIOD_1_HOUR),_0x173eab['selectedByUserPeriod']['next'](AGGREGATION_PERIOD_1_HOUR);}));return merge(_0x37cd50,_0x51df6c);});