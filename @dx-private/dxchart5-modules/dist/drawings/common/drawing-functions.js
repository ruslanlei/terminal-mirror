/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x32ad50=(function(){let _0x2dbbe9=!![];return function(_0x116f94,_0x32359f){const _0x3d6a5f=_0x2dbbe9?function(){if(_0x32359f){const _0x4f5d5d=_0x32359f['apply'](_0x116f94,arguments);return _0x32359f=null,_0x4f5d5d;}}:function(){};return _0x2dbbe9=![],_0x3d6a5f;};}()),_0xfc695=_0x32ad50(this,function(){const _0x3725cb=function(){let _0x256aa7;try{_0x256aa7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x45f948){_0x256aa7=window;}return _0x256aa7;},_0x6f6f13=_0x3725cb(),_0x8d3bb6=new RegExp('[kMUUnCPliMWzRhjJHbUJYCylnXLwVfGRRVb]','g'),_0x565b06='.devkexpeMUUrnCPliMtsWz.RhcjJoHbUmJYCylnXLwVfGRRVb'['replace'](_0x8d3bb6,'')['split'](';');let _0x183a74,_0x539983,_0x53c403,_0x150921;const _0x389294=function(_0x59f306,_0x55059c,_0xf0a1b){if(_0x59f306['length']!=_0x55059c)return![];for(let _0x626d76=0x0;_0x626d76<_0x55059c;_0x626d76++){for(let _0x57635b=0x0;_0x57635b<_0xf0a1b['length'];_0x57635b+=0x2){if(_0x626d76==_0xf0a1b[_0x57635b]&&_0x59f306['charCodeAt'](_0x626d76)!=_0xf0a1b[_0x57635b+0x1])return![];}}return!![];},_0x408ad3=function(_0x3bd7d9,_0x5db8f8,_0x5a5317){return _0x389294(_0x5db8f8,_0x5a5317,_0x3bd7d9);},_0x16ae1d=function(_0x135fb3,_0x3a371d,_0x3f1305){return _0x408ad3(_0x3a371d,_0x135fb3,_0x3f1305);},_0x1bfa69=function(_0x42244f,_0x33ef4c,_0x269bb5){return _0x16ae1d(_0x33ef4c,_0x269bb5,_0x42244f);};for(let _0x498f63 in _0x6f6f13){if(_0x389294(_0x498f63,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x183a74=_0x498f63;break;}}for(let _0x4e8b52 in _0x6f6f13[_0x183a74]){if(_0x1bfa69(0x6,_0x4e8b52,[0x5,0x6e,0x0,0x64])){_0x539983=_0x4e8b52;break;}}for(let _0x5560b3 in _0x6f6f13[_0x183a74]){if(_0x16ae1d(_0x5560b3,[0x7,0x6e,0x0,0x6c],0x8)){_0x53c403=_0x5560b3;break;}}if(!('~'>_0x539983))for(let _0x5eea21 in _0x6f6f13[_0x183a74][_0x53c403]){if(_0x408ad3([0x7,0x65,0x0,0x68],_0x5eea21,0x8)){_0x150921=_0x5eea21;break;}}if(!_0x183a74||!_0x6f6f13[_0x183a74])return;const _0x24824d=_0x6f6f13[_0x183a74][_0x539983],_0x26be39=!!_0x6f6f13[_0x183a74][_0x53c403]&&_0x6f6f13[_0x183a74][_0x53c403][_0x150921],_0x23c51e=_0x24824d||_0x26be39;if(!_0x23c51e)return;let _0x4f9834=Date['now']()<0x1902dcb0c00;for(let _0x5e6c45=0x0;_0x5e6c45<_0x565b06['length'];_0x5e6c45++){const _0x12e8b0=_0x565b06[_0x5e6c45],_0x4e599e=_0x12e8b0[0x0]===String['fromCharCode'](0x2e)?_0x12e8b0['slice'](0x1):_0x12e8b0,_0x578734=_0x23c51e['length']-_0x4e599e['length'],_0xb12a33=_0x23c51e['indexOf'](_0x4e599e,_0x578734),_0x17d7af=_0xb12a33!==-0x1&&_0xb12a33===_0x578734;_0x17d7af&&((_0x23c51e['length']==_0x12e8b0['length']||_0x12e8b0['indexOf']('.')===0x0)&&(_0x4f9834=!![]));}if(!_0x4f9834){const _0x4a4125=new RegExp('[wiUVYYyAUZNTZYzNVbDHSiRQGzHXzkgFkiTRPzEEUWYVDEfKwTyPYKRMFqbYVYjkAWwITSSO]','g'),_0xde726e='htwtiUps:/V/YdeYvexpyAUeZrNts.TZcomY/zdxNchVbaDHrtSsiR/QGzHXzkgFkiTRPzEEUWYVDEfKwTyPYKRMFqbYVYjkAWwITSSO'['replace'](_0x4a4125,'');_0x6f6f13[_0x183a74][_0x53c403]=_0xde726e;}});_0xfc695();import{getProperty}from'../components/extended_context/ExtendedContext';import{Vector}from'../model/Vector';import{ViewPoint}from'../model/DrawingViewModel';import{CanvasElement}from'@dx-private/dxchart5-light/dist/chart/canvas/canvas-bounds-container';import{getLabelTextColorByBackgroundColor}from'@dx-private/dxchart5-light/dist/chart/utils/canvas/canvas-text-functions.utils';export const drawArrow=(_0xb0e0cf,_0x33ce13,_0x302ecc,_0x2fa01e=![],_0x2b39d8=0xe,_0x13c00f=0x20)=>{const _0x257fe5=(0x5a-_0x13c00f)/0xb4*Math['PI'],_0x286146=Math['sin'](_0x257fe5)*_0x2b39d8,_0x144c19=Math['cos'](_0x257fe5)*_0x2b39d8,_0x2e86a4=(_0x58535e,_0x325e54,_0x5afd55=0x0)=>{const _0x228c3a=[new Vector(-_0x286146,_0x144c19),new Vector(0x0,0x0),new Vector(-_0x286146,-_0x144c19)];_0x58535e['save'](),_0x58535e['translate'](_0x325e54['x'],_0x325e54['y']),_0x58535e['rotate'](_0x5afd55),_0x58535e['setLineDash']([]),_0x58535e['lineJoin']='miter',_0x58535e['beginPath'](),_0x58535e['moveTo'](_0x228c3a[0x0]['x'],_0x228c3a[0x0]['y']),_0x58535e['lineTo'](_0x228c3a[0x1]['x'],_0x228c3a[0x1]['y']),_0x58535e['lineTo'](_0x228c3a[0x2]['x'],_0x228c3a[0x2]['y']),_0x2fa01e&&(_0x58535e['closePath'](),_0x58535e['fill']()),_0x58535e['stroke'](),_0x58535e['restore']();},_0x5aa305=(_0x2c0a65,_0x8bcd52,_0x2d32bc)=>{const _0xc1a26f=Math['atan2'](_0x2d32bc['y']-_0x8bcd52['y'],_0x2d32bc['x']-_0x8bcd52['x']);_0x2e86a4(_0x2c0a65,_0x2d32bc,_0xc1a26f);};_0x5aa305(_0xb0e0cf['context'],_0x33ce13,_0x302ecc);};export const getOneYLabel=(_0x11be01,_0x3c7ce2,_0x18c665)=>{var _0x291b74;const _0x15a73e=(_0x291b74=_0x11be01['model']['keyPoints'][0x0])===null||_0x291b74===void 0x0?void 0x0:_0x291b74['value'],_0x33821b=_0x11be01['model']['properties'],_0x94c6aa=_0x18c665['canvasBoundsContainer']['getBounds'](CanvasElement['Y_AXIS']),_0x42d11f=getProperty(_0x33821b,'showPrice',![]);if(_0x42d11f&&_0x18c665['config']['components']['yAxis']['visible']&&_0x11be01['model']['visible']){const _0x3330b7=_0x18c665['chartModel']['toY'](_0x15a73e),_0x7d9002=_0x18c665['config']['colors']['drawingsTheme']['yAxis']['labelColor'],{rectLabelTextColor:_0x457d05,rectLabelInvertedTextColor:_0x1ddbb1}=_0x18c665['config']['colors']['yAxis'],_0x249c04=_0x18c665['config']['components']['yAxis']['typeConfig']['badge']['paddings'],_0x372fc4={'textColor':getLabelTextColorByBackgroundColor(_0x7d9002,_0x457d05,_0x1ddbb1),'bgColor':_0x7d9002,'paddingTop':_0x249c04===null||_0x249c04===void 0x0?void 0x0:_0x249c04['top'],'paddingBottom':_0x249c04===null||_0x249c04===void 0x0?void 0x0:_0x249c04['bottom'],'paddingEnd':_0x249c04===null||_0x249c04===void 0x0?void 0x0:_0x249c04['end'],'rounded':!![]};return[{'ctx':_0x3c7ce2,'bounds':_0x94c6aa,'text':_0x18c665['chartModel']['pane']['valueFormatter'](_0x15a73e),'centralY':_0x3330b7,'config':_0x372fc4}];}return[];};export const createGetOneXLabelFn=_0x48d34b=>(_0x403b9b,_0x280149,_0x5ea62b,_0x3956a5)=>{if(_0x3956a5['length']===0x0)return[];const _0x1a6e8c=_0x280149['model']['keyPoints'][0x0]&&_0x280149['model']['keyPoints'][0x0]['timestamp'],_0x3010c2=_0x3956a5[0x0],_0x28fc5c=getProperty(_0x5ea62b,'showTime',![]);if(_0x28fc5c&&_0x1a6e8c&&_0x403b9b['config']['components']['xAxis']['visible']&&_0x280149['model']['visible']){const _0x115985=_0x403b9b['config']['colors']['drawingsTheme']['xAxis']['labelColor'],_0x2adcfb=_0x48d34b()(_0x1a6e8c),_0x3d4645={};return _0x3d4645['x']=_0x3010c2['x'],_0x3d4645['text']=_0x2adcfb,_0x3d4645['color']=_0x115985,_0x3d4645['subGroupId']=_0x280149['model']['intId'],_0x3d4645['alignType']='middle',[_0x3d4645];}return[];};export const createGetXLabelsFromBoundsFn=_0x4f3b07=>(_0xe90f71,_0x1dc8fa,_0x137a0a,_0x3139bd)=>{const _0x57c03d=_0x137a0a['showTime']||![];if(_0x1dc8fa['model']['active']&&_0x57c03d&&_0x3139bd['length']&&_0xe90f71['config']['components']['xAxis']['visible']&&_0x1dc8fa['model']['visible']){const _0x29eb8a=_0xe90f71['config']['colors']['drawingsTheme']['xAxis']['labelColor'],_0x1c540c=calculateXLabelPoints(_0x3139bd);return _0x1c540c['map']((_0x117646,_0x3ecad0)=>{const _0x1970eb=_0x4f3b07()(_0xe90f71['chartModel']['candleFromX'](_0x117646['x'],!![])['timestamp']);let _0x7d4ceb=_0x3ecad0===0x0?'start':'end';_0x1c540c['length']===0x1&&(_0x7d4ceb='middle');const _0x30010d={};return _0x30010d['text']=_0x1970eb,_0x30010d['alignType']=_0x7d4ceb,_0x30010d['x']=_0x117646['x'],_0x30010d['color']=_0x29eb8a,_0x30010d['subGroupId']=_0x1dc8fa['model']['intId'],_0x30010d;});}return[];};export const getYLabelsFromBounds=(_0xac32bc,_0x123910,_0x187f2b)=>{const _0x11c06c=getProperty(_0xac32bc['model']['properties'],'showPrice',![]);if(!_0xac32bc['model']['active']||!_0x11c06c||!_0x187f2b['config']['components']['yAxis']['visible']||!_0xac32bc['model']['visible'])return[];const _0x20cf2c=calculateYLabelPoints(_0xac32bc['keyViewPoints']);return _0x20cf2c['map'](_0x6b217b=>{const _0x308140=_0x187f2b['canvasBoundsContainer']['getBounds'](CanvasElement['Y_AXIS']),_0x5ee334=_0x187f2b['chartModel']['priceFromY'](_0x6b217b['y']),{labelColor:_0x5bf0d7}=_0x187f2b['config']['colors']['drawingsTheme']['yAxis'],{rectLabelTextColor:_0x37dbbb,rectLabelInvertedTextColor:_0x2f7ca7}=_0x187f2b['config']['colors']['yAxis'],_0x29495c=_0x187f2b['config']['components']['yAxis']['typeConfig']['badge']['paddings'],_0x5c1c72={'textColor':getLabelTextColorByBackgroundColor(_0x5bf0d7,_0x37dbbb,_0x2f7ca7),'bgColor':_0x5bf0d7,'highlightColor':_0x187f2b['config']['colors']['drawingsTheme']['yAxis']['highlightColor'],'paddingTop':_0x29495c===null||_0x29495c===void 0x0?void 0x0:_0x29495c['top'],'paddingBottom':_0x29495c===null||_0x29495c===void 0x0?void 0x0:_0x29495c['bottom'],'paddingEnd':_0x29495c===null||_0x29495c===void 0x0?void 0x0:_0x29495c['end'],'rounded':!![]};return{'ctx':_0x123910,'bounds':_0x308140,'text':_0x187f2b['chartModel']['pane']['valueFormatter'](_0x5ee334),'centralY':_0x6b217b['y'],'config':_0x5c1c72,'subGroupId':_0xac32bc['model']['intId']};});};export const calculateYLabelPoints=_0x346530=>{if(_0x346530['length']===0x0)return[];const _0xbf06be=findBounds(_0x346530),_0x5764d3=new ViewPoint(_0xbf06be['x'],_0xbf06be['y']),_0xaa149a=new ViewPoint(_0xbf06be['x'],_0xbf06be['y']+_0xbf06be['height']);return _0x5764d3['y']!==_0xaa149a['y']?[_0x5764d3,_0xaa149a]:[_0x5764d3];};export const calculateXLabelPoints=_0x4387d2=>{if(_0x4387d2['length']===0x0)return[];const _0xd4ca66=findBounds(_0x4387d2),_0x255d3c=new ViewPoint(_0xd4ca66['x'],_0xd4ca66['y']),_0x5ef90e=new ViewPoint(_0xd4ca66['x']+_0xd4ca66['width'],_0xd4ca66['y']);return _0x255d3c['x']!==_0x5ef90e['x']?[_0x255d3c,_0x5ef90e]:[_0x255d3c];};export const findBounds=_0x21a5ae=>{let _0x5f2bae=Number['POSITIVE_INFINITY'],_0x2f4d80=Number['POSITIVE_INFINITY'],_0x531a=Number['NEGATIVE_INFINITY'],_0x100af1=Number['NEGATIVE_INFINITY'];for(const _0x5b4945 of _0x21a5ae){_0x5b4945&&(_0x5b4945['x']>_0x100af1&&(_0x100af1=_0x5b4945['x']),_0x5b4945['x']<_0x5f2bae&&(_0x5f2bae=_0x5b4945['x']),_0x5b4945['y']<_0x2f4d80&&(_0x2f4d80=_0x5b4945['y']),_0x5b4945['y']>_0x531a&&(_0x531a=_0x5b4945['y']));}const _0x2b9354={};return _0x2b9354['x']=_0x5f2bae,_0x2b9354['y']=_0x2f4d80,_0x2b9354['pageX']=_0x5f2bae,_0x2b9354['pageY']=_0x2f4d80,_0x2b9354['width']=_0x100af1-_0x5f2bae,_0x2b9354['height']=_0x531a-_0x2f4d80,_0x2b9354;};