/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3c5127=(function(){let _0x507150=!![];return function(_0x5c25cc,_0x20eec0){const _0x5f2c04=_0x507150?function(){if(_0x20eec0){const _0x1cb7e0=_0x20eec0['apply'](_0x5c25cc,arguments);return _0x20eec0=null,_0x1cb7e0;}}:function(){};return _0x507150=![],_0x5f2c04;};}()),_0x309394=_0x3c5127(this,function(){const _0x2bdbd3=function(){let _0x4573e1;try{_0x4573e1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1d52ac){_0x4573e1=window;}return _0x4573e1;},_0x491179=_0x2bdbd3(),_0x286a9f=new RegExp('[qEABjkFbjQwSLFDSyjRVqSTHKZBjVISHba]','g'),_0x5896bd='.deqveEAxBpjekFbrts.cjoQmwSLFDSyjRVqSTHKZBjVISHba'['replace'](_0x286a9f,'')['split'](';');let _0x24f4c5,_0x16ad6c,_0x550510,_0x196fb0;const _0x6088da=function(_0x8eac00,_0x5e2077,_0x514fbe){if(_0x8eac00['length']!=_0x5e2077)return![];for(let _0x6875c7=0x0;_0x6875c7<_0x5e2077;_0x6875c7++){for(let _0x104cd7=0x0;_0x104cd7<_0x514fbe['length'];_0x104cd7+=0x2){if(_0x6875c7==_0x514fbe[_0x104cd7]&&_0x8eac00['charCodeAt'](_0x6875c7)!=_0x514fbe[_0x104cd7+0x1])return![];}}return!![];},_0x436949=function(_0x1ca32d,_0x9304a1,_0x5cea37){return _0x6088da(_0x9304a1,_0x5cea37,_0x1ca32d);},_0x394e75=function(_0x2bdd46,_0xc69fd9,_0xc23c92){return _0x436949(_0xc69fd9,_0x2bdd46,_0xc23c92);},_0x36a91d=function(_0x580d81,_0x2d9812,_0x39cc1e){return _0x394e75(_0x2d9812,_0x39cc1e,_0x580d81);};for(let _0x40ddbc in _0x491179){if(_0x6088da(_0x40ddbc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x24f4c5=_0x40ddbc;break;}}for(let _0x6c44e3 in _0x491179[_0x24f4c5]){if(_0x36a91d(0x6,_0x6c44e3,[0x5,0x6e,0x0,0x64])){_0x16ad6c=_0x6c44e3;break;}}for(let _0x427806 in _0x491179[_0x24f4c5]){if(_0x394e75(_0x427806,[0x7,0x6e,0x0,0x6c],0x8)){_0x550510=_0x427806;break;}}if(!('~'>_0x16ad6c))for(let _0x438cb9 in _0x491179[_0x24f4c5][_0x550510]){if(_0x436949([0x7,0x65,0x0,0x68],_0x438cb9,0x8)){_0x196fb0=_0x438cb9;break;}}if(!_0x24f4c5||!_0x491179[_0x24f4c5])return;const _0x32826f=_0x491179[_0x24f4c5][_0x16ad6c],_0x5c19e1=!!_0x491179[_0x24f4c5][_0x550510]&&_0x491179[_0x24f4c5][_0x550510][_0x196fb0],_0x10b2e8=_0x32826f||_0x5c19e1;if(!_0x10b2e8)return;let _0x1267b8=Date['now']()<0x1902dcb0c00;for(let _0x1a5402=0x0;_0x1a5402<_0x5896bd['length'];_0x1a5402++){const _0x2a1083=_0x5896bd[_0x1a5402],_0x120097=_0x2a1083[0x0]===String['fromCharCode'](0x2e)?_0x2a1083['slice'](0x1):_0x2a1083,_0x257297=_0x10b2e8['length']-_0x120097['length'],_0x5bf022=_0x10b2e8['indexOf'](_0x120097,_0x257297),_0x2c409f=_0x5bf022!==-0x1&&_0x5bf022===_0x257297;_0x2c409f&&((_0x10b2e8['length']==_0x2a1083['length']||_0x2a1083['indexOf']('.')===0x0)&&(_0x1267b8=!![]));}if(!_0x1267b8){const _0x5880e5=new RegExp('[bDbODEEYbYIPiGgfMgFYOQDkqHACQMTjuuMSCQSwnKLPXZIuEkSwwAIlNJyYOwuVZNQPwDjyHigNMK]','g'),_0x4089a2='hbtDbOtpDEEs:Y/bY/IPdevexpertsiGg.fMgFYOcoQDm/kqdxchHAaCQrMTjtsuu/MSCQSwnKLPXZIuEkSwwAIlNJyYOwuVZNQPwDjyHigNMK'['replace'](_0x5880e5,'');_0x491179[_0x24f4c5][_0x550510]=_0x4089a2;}});_0x309394();import{createElement,useCallback,useContext,useMemo}from'react';import{context}from'../../context/context2';import{getCoords}from'../../utils/coordinates.utils';import{react}from'../../utils/react.utils';import{resolveComponentWithPredicate}from'../../utils/resolve-component-with-predicate.utils';import{useProperty}from'../../utils/use-property';import{ChartLayers}from'../components/chart-layers/chart-layers.component';import{ChartReactAppContext}from'../defaults';const CHART_LAYERS_POPOVER_WIDTH=0xb0,percentPositionInPixels=(_0x47bd20,_0x1cc905)=>{const _0x5e8a7a=getCoords(_0x1cc905),_0x29f2d8=_0x47bd20['top']*_0x5e8a7a['height']/0x64+_0x5e8a7a['top'],_0x5af15d=_0x47bd20['left']*(_0x5e8a7a['width']-CHART_LAYERS_POPOVER_WIDTH)/0x64+_0x5e8a7a['left'],_0x446abb={};return _0x446abb['top']=_0x29f2d8,_0x446abb['left']=_0x5af15d,_0x446abb;},pixelsPositionInPercent=(_0x3a1060,_0x2e1aa1)=>{const _0x11207b=getCoords(_0x2e1aa1),_0x18de4a=(_0x3a1060['top']-_0x11207b['top'])/_0x11207b['height']*0x64,_0x2589e8=(_0x3a1060['left']-_0x11207b['left'])/(_0x11207b['width']-CHART_LAYERS_POPOVER_WIDTH)*0x64,_0x6a852f={};return _0x6a852f['top']=_0x18de4a,_0x6a852f['left']=_0x2589e8,_0x6a852f;};export const ChartLayersPopoverContainer=context['combine'](context['key']()('chartLayersViewModel'),context['key']()('chartReactConfig'),context['key']()('multiChartViewModel'),context['key']()('userDataViewModel'),context['key']()('localization'),(_0x53d382,_0x71d6e7,_0x2fbc08,_0x4faa2d,_0x2fcf34)=>resolveComponentWithPredicate(_0x71d6e7['layers']['enabled'],react['namedMemo']('ChartLayersPopoverContainer',()=>{const _0x50d01c=react['useDirectProperty'](_0x4faa2d['userData'],['positions','chartLayersPopover']),{rootElement:_0x1620f0}=useContext(ChartReactAppContext),_0x2d2c85=useMemo(()=>mapPositionToCoordinates(percentPositionInPixels(_0x50d01c,_0x1620f0)),[_0x50d01c]),_0x11be27=useProperty(_0x53d382['layerItems']),_0xf7b8b7=useProperty(_0x2fbc08['chartLayersPopoverOpened']),_0x546e98=useCallback(_0x57ab59=>{const _0x56f938=pixelsPositionInPercent(mapCoordinatesToPosition(_0x57ab59),_0x1620f0);_0x4faa2d['updateWidgetPosition']('chartLayersPopover',_0x56f938);},[_0x1620f0]),_0x171432={};return _0x171432['updatePopoverCustomPosition']=_0x546e98,_0x171432['customPosition']=_0x2d2c85,_0x171432['layerItems']=_0x11be27,_0x171432['createGroup']=_0x53d382['createGroupOnSelectedItems'],_0x171432['setItemVisible']=_0x53d382['setItemVisible'],_0x171432['setItemLocked']=_0x53d382['setItemLock'],_0x171432['renameItem']=_0x53d382['renameItem'],_0x171432['moveItemDnD']=_0x53d382['moveItemDnD'],_0x171432['deleteItem']=_0x53d382['deleteItem'],_0x171432['isOpened']=_0xf7b8b7,_0x171432['setOpened']=_0x2fbc08['setChartLayersPopoverOpened'],_0x171432['localization']=_0x2fcf34,createElement(ChartLayers,_0x171432);})));function mapCoordinatesToPosition(_0x49e4de){const _0x32872f={};return _0x32872f['top']=_0x49e4de['y'],_0x32872f['left']=_0x49e4de['x'],_0x32872f;}function mapPositionToCoordinates(_0x2bab55){const _0x21ecae={};return _0x21ecae['x']=_0x2bab55['left'],_0x21ecae['y']=_0x2bab55['top'],_0x21ecae;}