{"version":3,"file":"PairStatsColumn.vue2.js","sources":["../../../../../components/pairStatsColumn/PairStatsColumn.vue"],"sourcesContent":["<template>\n  <div\n    :style=\"computedContainerStyles\"\n    :class=\"$style.pairStatsColumn\"\n  >\n    <div\n      ref=\"wrapper\"\n      :class=\"$style.wrapper\"\n    >\n      <div :class=\"$style.column\">\n        <div\n          v-for=\"(pairStat, index) in columnData\"\n          :key=\"index\"\n          :class=\"$style.label\"\n        >\n          {{ pairStat.label }}\n        </div>\n      </div>\n      <Divider />\n      <div\n        ref=\"valueColumn\"\n        :class=\"$style.column\"\n      >\n        <Typography\n          v-for=\"(pairStat, index) in columnData\"\n          :key=\"index\"\n          size=\"title3\"\n          :state=\"calculateValueState(pairStat)\"\n        >\n          <AnimatedText\n            v-if=\"pairStat.value\"\n            :text=\"pairStat.value\"\n            animation-type=\"verticalAuto\"\n          >\n            <template #default=\"{ value }\">\n              {{ value }}\n              <template v-if=\"pairStat.appendText\">\n                {{ pairStat.appendText }}\n              </template>\n            </template>\n          </AnimatedText>\n          <Typography v-else>\n            {{ '-' }}\n          </Typography>\n        </Typography>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue';\nimport { isPositive, roundToDecimalPlaces } from '@terminal/common/utils/number';\nimport { useResizeObserver } from '@vueuse/core';\nimport Divider from '@/components/divider/Divider.vue';\nimport AnimatedText from '@/components/animatedText/AnimatedText.vue';\nimport Typography from '@/components/typography/Typography.vue';\nimport { TypographyProps } from '@/components/typography';\nimport { toCssPxValue } from '@/utils/style';\nimport { getRect } from '@/utils/dom';\nimport { PairStat, PairStatsColumnProps } from './index';\n\nconst props = defineProps<PairStatsColumnProps>();\n\nconst wrapper = ref();\nconst valueColumn = ref();\n\nconst calculateValueState = (\n  pairStat: PairStat,\n): TypographyProps['state'] => [\n  // default\n  'accent2',\n  'bold',\n  'nowrap',\n\n  // calculated\n  ...(\n    (pairStat.valueState === 'auto' && typeof pairStat.value === 'number')\n      ? [\n        isPositive(pairStat.value)\n          ? 'success'\n          : 'danger',\n      ]\n      : []\n  ),\n  pairStat.valueState === 'positive' && 'success',\n  pairStat.valueState === 'negative' && 'danger',\n] as TypographyProps['state'];\n\nconst computedContainerStyles = ref({\n  width: 'auto',\n  height: 'auto',\n});\n\nconst setContainerWidth = () => {\n  const {\n    width,\n    height,\n  } = getRect(wrapper.value);\n\n  computedContainerStyles.value = {\n    width: toCssPxValue(\n      roundToDecimalPlaces(2, width),\n    ),\n    height: toCssPxValue(\n      roundToDecimalPlaces(2, height),\n    ),\n  };\n};\n\nuseResizeObserver(valueColumn, setContainerWidth);\nonMounted(setContainerWidth);\n</script>\n\n<style lang=\"scss\" module>\n@import \"src/assets/styles/utils\";\n\n.pairStatsColumn {\n  transition: width 200ms;\n  position: relative;\n  display: flex;\n  justify-content: center;\n}\n\n.wrapper {\n  display: flex;\n  gap: 10px;\n  position: absolute;\n  top: 0;\n}\n\n.label {\n  text-align: right;\n  @include title4;\n  color: rgb(var(--color-accent-2));\n}\n\n.column {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-auto-rows: 18px;\n  align-items: center;\n  align-content: center;\n}\n\n.value {\n  color: rgb(var(--color-accent-2));\n  @include title3;\n  font-weight: 600;\n  &.positive {\n    color: rgba(var(--color-success));\n  }\n  &.negative {\n    color: rgba(var(--color-danger));\n  }\n}\n</style>\n"],"names":["wrapper","ref","valueColumn","calculateValueState","pairStat","isPositive","computedContainerStyles","setContainerWidth","width","height","getRect","toCssPxValue","roundToDecimalPlaces","useResizeObserver","onMounted"],"mappings":";;;;;;;;;;;;;;AAgEA,UAAMA,IAAUC,KACVC,IAAcD,KAEdE,IAAsB,CAC1BC,MAC6B;AAAA;AAAA,MAE7B;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MAGA,GACGA,EAAS,eAAe,UAAU,OAAOA,EAAS,SAAU,WACzD;AAAA,QACAC,EAAWD,EAAS,KAAK,IACrB,YACA;AAAA,MAAA,IAEJ,CAAC;AAAA,MAEPA,EAAS,eAAe,cAAc;AAAA,MACtCA,EAAS,eAAe,cAAc;AAAA,IAAA,GAGlCE,IAA0BL,EAAI;AAAA,MAClC,OAAO;AAAA,MACP,QAAQ;AAAA,IAAA,CACT,GAEKM,IAAoB,MAAM;AACxB,YAAA;AAAA,QACJ,OAAAC;AAAA,QACA,QAAAC;AAAA,MAAA,IACEC,EAAQV,EAAQ,KAAK;AAEzB,MAAAM,EAAwB,QAAQ;AAAA,QAC9B,OAAOK;AAAA,UACLC,EAAqB,GAAGJ,CAAK;AAAA,QAC/B;AAAA,QACA,QAAQG;AAAA,UACNC,EAAqB,GAAGH,CAAM;AAAA,QAChC;AAAA,MAAA;AAAA,IACF;AAGF,WAAAI,EAAkBX,GAAaK,CAAiB,GAChDO,EAAUP,CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}