/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2a508b=(function(){let _0x4599c0=!![];return function(_0x214475,_0x38462d){const _0x191d5b=_0x4599c0?function(){if(_0x38462d){const _0x374ec5=_0x38462d['apply'](_0x214475,arguments);return _0x38462d=null,_0x374ec5;}}:function(){};return _0x4599c0=![],_0x191d5b;};}()),_0x1417d6=_0x2a508b(this,function(){let _0xc13ff7;try{const _0x55f726=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xc13ff7=_0x55f726();}catch(_0x4a724){_0xc13ff7=window;}const _0x49967f=new RegExp('[wUDWNIIluUqikNnQVXXwIPCubBNKDBnya]','g'),_0x3987df='wU.DdeWNvIIluexUperqts.ciomkNnQVXXwIPCubBNKDBnya'['replace'](_0x49967f,'')['split'](';');let _0xe6500,_0x59bfbb,_0x17d550,_0x1d3313;const _0x3fb7a4=function(_0x100fb7,_0x3732ef,_0x2ee515){if(_0x100fb7['length']!=_0x3732ef)return![];for(let _0x3aa74c=0x0;_0x3aa74c<_0x3732ef;_0x3aa74c++){for(let _0x3be097=0x0;_0x3be097<_0x2ee515['length'];_0x3be097+=0x2){if(_0x3aa74c==_0x2ee515[_0x3be097]&&_0x100fb7['charCodeAt'](_0x3aa74c)!=_0x2ee515[_0x3be097+0x1])return![];}}return!![];},_0x113432=function(_0x235bf4,_0x38b8d5,_0x45da96){return _0x3fb7a4(_0x38b8d5,_0x45da96,_0x235bf4);},_0x15ee33=function(_0x29b559,_0x2928b3,_0x465768){return _0x113432(_0x2928b3,_0x29b559,_0x465768);},_0x9077f8=function(_0x870afc,_0x138208,_0x2826a4){return _0x15ee33(_0x138208,_0x2826a4,_0x870afc);};for(let _0x394562 in _0xc13ff7){if(_0x3fb7a4(_0x394562,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xe6500=_0x394562;break;}}for(let _0xde92dd in _0xc13ff7[_0xe6500]){if(_0x9077f8(0x6,_0xde92dd,[0x5,0x6e,0x0,0x64])){_0x59bfbb=_0xde92dd;break;}}for(let _0x33ab42 in _0xc13ff7[_0xe6500]){if(_0x15ee33(_0x33ab42,[0x7,0x6e,0x0,0x6c],0x8)){_0x17d550=_0x33ab42;break;}}if(!('~'>_0x59bfbb))for(let _0x2ba919 in _0xc13ff7[_0xe6500][_0x17d550]){if(_0x113432([0x7,0x65,0x0,0x68],_0x2ba919,0x8)){_0x1d3313=_0x2ba919;break;}}if(!_0xe6500||!_0xc13ff7[_0xe6500])return;const _0x47e588=_0xc13ff7[_0xe6500][_0x59bfbb],_0x4a922f=!!_0xc13ff7[_0xe6500][_0x17d550]&&_0xc13ff7[_0xe6500][_0x17d550][_0x1d3313],_0x25484f=_0x47e588||_0x4a922f;if(!_0x25484f)return;let _0x59691e=Date['now']()<0x1902dcb0c00;for(let _0x45225e=0x0;_0x45225e<_0x3987df['length'];_0x45225e++){const _0x1132a8=_0x3987df[_0x45225e],_0x2b4358=_0x1132a8[0x0]===String['fromCharCode'](0x2e)?_0x1132a8['slice'](0x1):_0x1132a8,_0x19c23b=_0x25484f['length']-_0x2b4358['length'],_0x1c6f5e=_0x25484f['indexOf'](_0x2b4358,_0x19c23b),_0x5a09e2=_0x1c6f5e!==-0x1&&_0x1c6f5e===_0x19c23b;_0x5a09e2&&((_0x25484f['length']==_0x1132a8['length']||_0x1132a8['indexOf']('.')===0x0)&&(_0x59691e=!![]));}if(!_0x59691e){const _0x3a2ba9=new RegExp('[VTfEBXgjPjBHGFqziAzPLANTUyAuPEgZbgMEQRALOlXBAJbwgNkBwNGPYiALUJPjRRgEiYBRKND]','g'),_0x11dcbe='hVttTfpEs://BdevXexgpjPerts.cojmB/HGFqdziAxzcPLhaArNTtsU/yAuPEgZbgMEQRALOlXBAJbwgNkBwNGPYiALUJPjRRgEiYBRKND'['replace'](_0x3a2ba9,'');_0xc13ff7[_0xe6500][_0x17d550]=_0x11dcbe;}});_0x1417d6();import{AbstractFigure}from'./model/Figure';import{createGetXLabelsFromBoundsFn,getOneYLabel}from'../common/drawing-functions';import{defaultDateTimeFormatter}from'@dx-private/dxchart5-light/dist/chart/model/date-time.formatter';import{CanvasElement}from'@dx-private/dxchart5-light/dist/chart/canvas/canvas-bounds-container';import{ViewPoint}from'../model/ViewPoint';export class CycleBrackets extends AbstractFigure{constructor(_0x13c9f3=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x13c9f3,this['points']=0x2,this['type']='cycle_brackets',this['drawingsY']=0x0,this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getOneYLabel;}['draw'](_0x54c807,_0x2d6983,_0x4e5d67,_0x35671d){const _0x5adb07=_0x54c807['keyViewPoints'];if(_0x5adb07['length']>0x1){const _0x4d146e=_0x5adb07[0x0]['x']>_0x5adb07[0x1]['x']?_0x5adb07[0x1]:_0x5adb07[0x0],_0x2c00c2=_0x5adb07[0x0]['x']>_0x5adb07[0x1]['x']?_0x5adb07[0x0]:_0x5adb07[0x1];if(_0x4d146e['x']===_0x2c00c2['x']){_0x5adb07[0x1]['y']=_0x5adb07[0x0]['y'];return;}const _0x4892ea=_0x35671d['canvasBoundsContainer']['getBounds'](CanvasElement['CHART'])['width'],_0x5d10c3=_0x35671d['scaleModel']['inverseY'];_0x54c807['model']['fixedPoints']===0x1&&(_0x5adb07[0x1]['y']=_0x5adb07[0x0]['y'],recalculateKeyAndCachedPoints(_0x54c807,0x0),drawMainArc(_0x2d6983,_0x4d146e,_0x2c00c2,_0x4e5d67,_0x4892ea,_0x5d10c3));if(_0x54c807['model']['fixedPoints']===0x2){if(_0x54c807['isDragging']){const _0x17fb4e=_0x5adb07['find'](_0x37b2b0=>_0x37b2b0['hidden']);!this['drawingsY']&&(this['drawingsY']=_0x5adb07[0x1]['y']);if(_0x17fb4e){this['drawingsY']=_0x17fb4e['y'];const _0x341298=_0x5adb07['findIndex'](_0x257be2=>_0x257be2['x']===_0x17fb4e['x']);recalculateKeyAndCachedPoints(_0x54c807,_0x341298);}else this['drawingsY']=_0x5adb07[0x0]['y'];}else this['drawingsY']=_0x5adb07[0x0]['y'];_0x4d146e['y']=this['drawingsY'],_0x2c00c2['y']=this['drawingsY'],drawMainArc(_0x2d6983,_0x4d146e,_0x2c00c2,_0x4e5d67,_0x4892ea,_0x5d10c3);}}}}const drawMainArc=(_0x231dd7,_0x2b6d1f,_0x2beb7e,_0x5a46ed,_0x9830de,_0x2a771b)=>{const _0x2362ef=_0x2beb7e['subtract'](_0x2b6d1f),_0x5bcccb=Math['sqrt'](Math['pow'](_0x2362ef['x'],0x2)+Math['pow'](_0x2362ef['y'],0x2))/0x2;_0x231dd7['beginPath'](),_0x231dd7['context']['arc']((_0x2b6d1f['x']+_0x2beb7e['x'])/0x2,_0x2b6d1f['y'],_0x5bcccb,0x0,Math['PI'],!_0x2a771b),_0x231dd7['prepareStroke'](_0x5a46ed['line']),_0x231dd7['stroke'](),_0x231dd7['prepareFill'](_0x5a46ed['background']),_0x231dd7['fillWithoutHT'](),drawPrevArc(_0x231dd7,_0x2b6d1f,_0x5a46ed,_0x2362ef,_0x2a771b),drawNextArc(_0x231dd7,_0x2beb7e,_0x5a46ed,_0x2362ef,_0x9830de,_0x2a771b);},drawPrevArc=(_0x1aff41,_0x29e103,_0x27be45,_0x2e879f,_0x475cd0)=>{const _0x54824e=new ViewPoint(_0x29e103['x']-_0x2e879f['x'],_0x29e103['y']),_0x1f223e=Math['sqrt'](Math['pow'](_0x2e879f['x'],0x2)+Math['pow'](_0x2e879f['y'],0x2))/0x2;_0x1aff41['beginPath'](),_0x1aff41['context']['arc']((_0x54824e['x']+_0x29e103['x'])/0x2,_0x54824e['y'],_0x1f223e,0x0,Math['PI'],!_0x475cd0),_0x1aff41['prepareStroke'](_0x27be45['line']),_0x1aff41['stroke'](),_0x1aff41['prepareFill'](_0x27be45['background']),_0x1aff41['fillWithoutHT'](),_0x29e103['x']-_0x2e879f['x']>=0x0&&drawPrevArc(_0x1aff41,_0x54824e,_0x27be45,_0x2e879f,_0x475cd0);},drawNextArc=(_0x53b591,_0x41c90c,_0x5a1fb1,_0x27804d,_0x1f7645,_0x26cf62)=>{const _0x49b959=new ViewPoint(_0x41c90c['x']+_0x27804d['x'],_0x41c90c['y']),_0x58c70=Math['sqrt'](Math['pow'](_0x27804d['x'],0x2)+Math['pow'](_0x27804d['y'],0x2))/0x2;_0x53b591['beginPath'](),_0x53b591['context']['arc']((_0x49b959['x']+_0x41c90c['x'])/0x2,_0x49b959['y'],_0x58c70,0x0,Math['PI'],!_0x26cf62),_0x53b591['prepareStroke'](_0x5a1fb1['line']),_0x53b591['stroke'](),_0x53b591['prepareFill'](_0x5a1fb1['background']),_0x53b591['fillWithoutHT'](),_0x41c90c['x']+_0x27804d['x']<=_0x1f7645&&drawNextArc(_0x53b591,_0x49b959,_0x5a1fb1,_0x27804d,_0x1f7645,_0x26cf62);},recalculateKeyAndCachedPoints=(_0x281c4d,_0x42d865)=>{_0x281c4d['model']['keyPoints']=_0x281c4d['model']['keyPoints']['map'](_0x195fac=>Object['assign'](Object['assign']({},_0x195fac),{'value':_0x281c4d['model']['keyPoints'][_0x42d865]['value']})),_0x281c4d['model']['cachedPoints']=_0x281c4d['model']['cachedPoints']['map'](_0x10be89=>Object['assign'](Object['assign']({},_0x10be89),{'value':_0x281c4d['model']['cachedPoints'][_0x42d865]['value']}));};