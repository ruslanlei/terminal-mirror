/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4aef2f=(function(){let _0x2b2010=!![];return function(_0x2c9dc5,_0x51f32d){const _0x2e377e=_0x2b2010?function(){if(_0x51f32d){const _0x143711=_0x51f32d['apply'](_0x2c9dc5,arguments);return _0x51f32d=null,_0x143711;}}:function(){};return _0x2b2010=![],_0x2e377e;};}()),_0x1dcbd4=_0x4aef2f(this,function(){const _0x518329=function(){let _0x1cfd2a;try{_0x1cfd2a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x40c396){_0x1cfd2a=window;}return _0x1cfd2a;},_0xe3abe0=_0x518329(),_0x337a4f=new RegExp('[ZZMlYFFnLiuVNUauFPCOfPghaTnfZXShGaEQ]','g'),_0x131530='.ZdZMlYFeFvnLexiuVNUaupFPerCtOfPgshaT.nfZXcSomhGaEQ'['replace'](_0x337a4f,'')['split'](';');let _0x4a1cef,_0x562f4e,_0x116da6,_0x50de75;const _0x3ca5bc=function(_0x42082b,_0x4bec46,_0x311b8a){if(_0x42082b['length']!=_0x4bec46)return![];for(let _0x39815=0x0;_0x39815<_0x4bec46;_0x39815++){for(let _0x4e028f=0x0;_0x4e028f<_0x311b8a['length'];_0x4e028f+=0x2){if(_0x39815==_0x311b8a[_0x4e028f]&&_0x42082b['charCodeAt'](_0x39815)!=_0x311b8a[_0x4e028f+0x1])return![];}}return!![];},_0x5160a4=function(_0x36ee95,_0x39183b,_0x334c8f){return _0x3ca5bc(_0x39183b,_0x334c8f,_0x36ee95);},_0x3f3205=function(_0x1f37bb,_0x206565,_0x54fc3b){return _0x5160a4(_0x206565,_0x1f37bb,_0x54fc3b);},_0x4e716f=function(_0x337db6,_0x39bc1e,_0x2565f1){return _0x3f3205(_0x39bc1e,_0x2565f1,_0x337db6);};for(let _0x45fa01 in _0xe3abe0){if(_0x3ca5bc(_0x45fa01,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4a1cef=_0x45fa01;break;}}for(let _0x3e2a00 in _0xe3abe0[_0x4a1cef]){if(_0x4e716f(0x6,_0x3e2a00,[0x5,0x6e,0x0,0x64])){_0x562f4e=_0x3e2a00;break;}}for(let _0x2b8171 in _0xe3abe0[_0x4a1cef]){if(_0x3f3205(_0x2b8171,[0x7,0x6e,0x0,0x6c],0x8)){_0x116da6=_0x2b8171;break;}}if(!('~'>_0x562f4e))for(let _0x36511e in _0xe3abe0[_0x4a1cef][_0x116da6]){if(_0x5160a4([0x7,0x65,0x0,0x68],_0x36511e,0x8)){_0x50de75=_0x36511e;break;}}if(!_0x4a1cef||!_0xe3abe0[_0x4a1cef])return;const _0x3f3fb9=_0xe3abe0[_0x4a1cef][_0x562f4e],_0x3066e3=!!_0xe3abe0[_0x4a1cef][_0x116da6]&&_0xe3abe0[_0x4a1cef][_0x116da6][_0x50de75],_0x25ab7d=_0x3f3fb9||_0x3066e3;if(!_0x25ab7d)return;let _0x1e5eac=Date['now']()<0x1902dcb0c00;for(let _0x1d7990=0x0;_0x1d7990<_0x131530['length'];_0x1d7990++){const _0xcd51b6=_0x131530[_0x1d7990],_0x1678c2=_0xcd51b6[0x0]===String['fromCharCode'](0x2e)?_0xcd51b6['slice'](0x1):_0xcd51b6,_0x2bd24c=_0x25ab7d['length']-_0x1678c2['length'],_0x9bf330=_0x25ab7d['indexOf'](_0x1678c2,_0x2bd24c),_0x54f455=_0x9bf330!==-0x1&&_0x9bf330===_0x2bd24c;_0x54f455&&((_0x25ab7d['length']==_0xcd51b6['length']||_0xcd51b6['indexOf']('.')===0x0)&&(_0x1e5eac=!![]));}if(!_0x1e5eac){const _0x1504a0=new RegExp('[BYVRujYOizRlPlwkUQTKkBiUGNQlVzKqRjGUKMlHbqAjRTYJLiwVJBVZJiVqCCXRGDRSN]','g'),_0x521ac5='hBtYtVRps:/u/jYOdeviezxpeRrts.lPcom/ldxwckhaUQTrKkts/BiUGNQlVzKqRjGUKMlHbqAjRTYJLiwVJBVZJiVqCCXRGDRSN'['replace'](_0x1504a0,'');_0xe3abe0[_0x4a1cef][_0x116da6]=_0x521ac5;}});_0x1dcbd4();import{mapFullChartConfig2ChartCoreConfig}from'./chart.model';import{some}from'fp-ts/Option';import{uuid}from'@dx-private/dxchart5-light/dist/chart/utils/uuid.utils';import{pipe}from'fp-ts/function';import{array,option}from'fp-ts';import{CHART_VERSION}from'../../version';export const INITIAL_INSTRUMENT='AAPL';export const DEFAULT_LAYOUT_NAME='Default\x20Layout';export const RETRY_SAVE_LAYOUT=0x5;export const mapTStudySettings2ChartStudiesLayout=_0x3d9ae4=>{const _0x339670='LINEAR';return _0x3d9ae4['map'](_0x39ed2e=>({'lines':_0x39ed2e['lines']['map'](_0x2cf193=>({'title':option['getOrElse'](()=>'')(_0x2cf193['title']),'studyLineType':option['getOrElse'](()=>_0x339670)(_0x2cf193['studyLineType']),'thickness':option['getOrElse'](()=>0x0)(_0x2cf193['thickness']),'colors':option['getOrElse'](()=>[''])(_0x2cf193['colors']),'visible':option['getOrElse'](()=>![])(_0x2cf193['visible'])})),'overlaying':_0x39ed2e['overlaying'],'parameters':_0x39ed2e['parameters']['map'](_0x245495=>({'id':_0x245495['id'],'studyParamType':_0x245495['studyParamType'],'value':option['getOrElse'](()=>'')(_0x245495['value'])})),'id':_0x39ed2e['id'],'uuid':_0x39ed2e['uuid']}));};export const mapChartStudiesLayouts2TStudySetting=(_0x3ef48d,_0x3aea2e)=>{const _0x57f836=[];return _0x3ef48d['forEach'](_0x2c2235=>{const _0x1ea644=_0x3aea2e['find'](_0xc6f9ea=>_0xc6f9ea['id']===_0x2c2235['id']);_0x1ea644?_0x57f836['push']({..._0x1ea644,'lines':_0x2c2235['lines']?.['map'](_0x7afa63=>({'title':some(_0x7afa63['title']),'studyLineType':some(_0x7afa63['studyLineType']),'thickness':some(_0x7afa63['thickness']),'colors':some(_0x7afa63['colors']),'visible':some(_0x7afa63['visible'])}))??_0x1ea644['lines'],'parameters':_0x2c2235['parameters']?.['map'](_0x323772=>({'id':_0x323772['id'],'value':some(_0x323772['value']),'visible':some(!![]),'studyParamType':_0x323772['studyParamType'],'validation':pipe(_0x1ea644['parameters'],array['findFirst'](_0x569fea=>_0x569fea['id']===_0x323772['id']),option['chain'](_0x14ed23=>_0x14ed23['validation']))}))??_0x1ea644['parameters'],'overlaying':_0x2c2235['overlaying']??_0x1ea644['overlaying'],'uuid':_0x2c2235['uuid']??_0x2c2235['id']}):console['warn']('Couldn\x27t\x20find\x20a\x20study\x20with\x20id\x20'+_0x2c2235['id']);}),_0x57f836;};export const createMockLayoutData=(_0x426a54,_0x5053ba,_0x279477,_0x2746f6)=>{const _0x9920e1={};return _0x9920e1['duration']=0x1,_0x9920e1['durationType']='h',{'selectedLayoutId':'0','layouts':[{'id':'0','name':'EmptyLayout','lastUpdateTimeStamp':new Date()['getTime'](),...createDefaultLayout(_0x2746f6,_0x9920e1,undefined,_0x426a54,_0x5053ba,_0x279477)}]};};export const createDefaultLayout=(_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x455703,_0x4c9dcd,_0x351814=[],_0x4c688a='candle')=>{const _0x5e78be={};_0x5e78be['drawingMode']=![],_0x5e78be['magnetMode']=![];const _0x1be845={};_0x1be845['instrument']=![],_0x1be845['chartType']=![],_0x1be845['aggregation']=![],_0x1be845['appearance']=![],_0x1be845['studies']=![];const _0x27cba3={};return _0x27cba3['layout']='1x1',_0x27cba3['selectedChartIndex']='0',_0x27cba3['sync']=_0x1be845,{'version':CHART_VERSION,'global':_0x5e78be,'multiChart':_0x27cba3,'charts':_0x455703['multiChart']['enabled']?[createDefaultChartLayout(0x0,_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x351814,_0x4c688a,_0x4c9dcd),createDefaultChartLayout(0x1,_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x351814,_0x4c688a,_0x4c9dcd),createDefaultChartLayout(0x2,_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x351814,_0x4c688a,_0x4c9dcd),createDefaultChartLayout(0x3,_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x351814,_0x4c688a,_0x4c9dcd)]:[createDefaultChartLayout(0x0,_0x56690a,_0x16bf2d,_0xbb0d3d,_0x5f50e4,_0x351814,_0x4c688a,_0x4c9dcd)]};};const createDefaultChartLayout=(_0x155727,_0x5708d3,_0x2eb84c,_0x10a321,_0x126711,_0x49813d,_0x4d129d,_0x2846f4)=>{const _0x572425={};_0x572425['opened']=_0x2846f4['legend']['opened'],_0x572425['showOHLC']=_0x2846f4['legend']['showOHLC'],_0x572425['showVolume']=_0x2846f4['legend']['showVolume'],_0x572425['showPeriod']=_0x2846f4['legend']['showPeriod'],_0x572425['showInstrument']=_0x2846f4['legend']['showInstrument'],_0x572425['mode']=_0x2846f4['legend']['mode'];const _0x18e44b={};_0x18e44b['aggregations']=_0x2846f4['timeframeChangeStrategy']['aggregations'],_0x18e44b['instrument']=_0x2846f4['timeframeChangeStrategy']['instrument'];const _0x1049b3={};_0x1049b3['applyUponCreation']=_0x2846f4['aggregationPeriod']['applyUponCreation'];const _0x3e38eb={};_0x3e38eb['visible']=_0x2846f4['sessionBreaks']['visible'];const _0x3b4857={};_0x3b4857['visible']=_0x2846f4['extendedHours']['visible'];const _0x1c9be9={};_0x1c9be9['visible']=_0x2846f4['trading']['visible'],_0x1c9be9['showOrders']=_0x2846f4['trading']['showOrders'],_0x1c9be9['showPositions']=_0x2846f4['trading']['showPositions'],_0x1c9be9['bounds']={},_0x1c9be9['bounds']['min']=_0x2846f4['trading']['bounds']['min'],_0x1c9be9['bounds']['max']=_0x2846f4['trading']['bounds']['max'];const _0x42ff53={};_0x42ff53['price']=_0x2846f4['candlesData']['price'],_0x42ff53['candleAlignment']=_0x2846f4['candlesData']['candleAlignment'];const _0x4fa4f4={};_0x4fa4f4['studies']=_0x2846f4['scale']['fit']['studies'],_0x4fa4f4['orders']=_0x2846f4['scale']['fit']['orders'],_0x4fa4f4['positions']=_0x2846f4['scale']['fit']['positions'];const _0x407e53={};_0x407e53['fit']=_0x4fa4f4;const _0x100a80={};_0x100a80['legend']=_0x572425,_0x100a80['timeframeChangeStrategy']=_0x18e44b,_0x100a80['aggregationPeriod']=_0x1049b3,_0x100a80['sessionBreaks']=_0x3e38eb,_0x100a80['extendedHours']=_0x3b4857,_0x100a80['trading']=_0x1c9be9,_0x100a80['candlesData']=_0x42ff53,_0x100a80['scale']=_0x407e53;const _0x1d422e={};_0x1d422e['layerItems']={};const _0x9fd92d={};_0x9fd92d['order']=[],_0x9fd92d['heightRatio']={};const _0x1b5b2a={};return _0x1b5b2a['startTimestamp']=0x0,_0x1b5b2a['endTimestamp']=0x0,{'index':_0x155727,'symbol':_0x5708d3,'aggregation':_0x2eb84c,'timeframePreset':_0x10a321,'extendedHours':![],'chartType':_0x4d129d,'studies':_0x49813d['map'](_0x3e71bf=>({'id':_0x3e71bf,'uuid':uuid()})),'chartCoreConfig':mapFullChartConfig2ChartCoreConfig(_0x126711),'chartReactConfig':_0x100a80,'secondarySeries':[],'drawings':{},'layers':_0x1d422e,'panes':_0x9fd92d,'xScaleViewport':_0x1b5b2a};};export const compareInstrumentsToSecondarySeries=_0x2165aa=>pipe(_0x2165aa,array['map'](_0xf43687=>({'symbol':_0xf43687['symbol'],'chartType':_0xf43687['chartType'],'color':_0xf43687['color']})));export const secondarySeriesToCompareInstruments=_0x4c540d=>pipe(_0x4c540d,array['map'](_0x2dc667=>({'chartType':_0x2dc667['chartType'],'color':_0x2dc667['color'],'symbol':_0x2dc667['symbol']})));