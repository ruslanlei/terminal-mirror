/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xdf0140=(function(){let _0x28a887=!![];return function(_0x2a481e,_0x3ff6c4){const _0x2657ca=_0x28a887?function(){if(_0x3ff6c4){const _0x4e2edb=_0x3ff6c4['apply'](_0x2a481e,arguments);return _0x3ff6c4=null,_0x4e2edb;}}:function(){};return _0x28a887=![],_0x2657ca;};}()),_0x434872=_0xdf0140(this,function(){const _0x549d2f=function(){let _0x56e983;try{_0x56e983=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x35d146){_0x56e983=window;}return _0x56e983;},_0x55a8f7=_0x549d2f(),_0x1d72c1=new RegExp('[qRuZlnqYbDPEQbIaPKChCfLgIWkRqVqNaYETLPwh]','g'),_0x52ecda='.devqeRuZlxnqYpebrDPEts.QcombIaPKChCfLgIWkRqVqNaYETLPwh'['replace'](_0x1d72c1,'')['split'](';');let _0x4be532,_0x304dce,_0x35f27c,_0x3fbf4e;const _0x1b82d6=function(_0x4b2c59,_0x49244e,_0x431170){if(_0x4b2c59['length']!=_0x49244e)return![];for(let _0x3c4b62=0x0;_0x3c4b62<_0x49244e;_0x3c4b62++){for(let _0x7b7818=0x0;_0x7b7818<_0x431170['length'];_0x7b7818+=0x2){if(_0x3c4b62==_0x431170[_0x7b7818]&&_0x4b2c59['charCodeAt'](_0x3c4b62)!=_0x431170[_0x7b7818+0x1])return![];}}return!![];},_0xcca82a=function(_0x1520c0,_0x4dc82a,_0x38ae94){return _0x1b82d6(_0x4dc82a,_0x38ae94,_0x1520c0);},_0x41020d=function(_0x4d437b,_0x24847d,_0x3c8777){return _0xcca82a(_0x24847d,_0x4d437b,_0x3c8777);},_0x4c9273=function(_0x1d9fff,_0x19e521,_0x14673e){return _0x41020d(_0x19e521,_0x14673e,_0x1d9fff);};for(let _0x1c4f96 in _0x55a8f7){if(_0x1b82d6(_0x1c4f96,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4be532=_0x1c4f96;break;}}for(let _0xdda886 in _0x55a8f7[_0x4be532]){if(_0x4c9273(0x6,_0xdda886,[0x5,0x6e,0x0,0x64])){_0x304dce=_0xdda886;break;}}for(let _0x6af4d5 in _0x55a8f7[_0x4be532]){if(_0x41020d(_0x6af4d5,[0x7,0x6e,0x0,0x6c],0x8)){_0x35f27c=_0x6af4d5;break;}}if(!('~'>_0x304dce))for(let _0x39dd66 in _0x55a8f7[_0x4be532][_0x35f27c]){if(_0xcca82a([0x7,0x65,0x0,0x68],_0x39dd66,0x8)){_0x3fbf4e=_0x39dd66;break;}}if(!_0x4be532||!_0x55a8f7[_0x4be532])return;const _0x318b24=_0x55a8f7[_0x4be532][_0x304dce],_0x3d81fd=!!_0x55a8f7[_0x4be532][_0x35f27c]&&_0x55a8f7[_0x4be532][_0x35f27c][_0x3fbf4e],_0x52c448=_0x318b24||_0x3d81fd;if(!_0x52c448)return;let _0x22241d=Date['now']()<0x1902dcb0c00;for(let _0x4e9b10=0x0;_0x4e9b10<_0x52ecda['length'];_0x4e9b10++){const _0x1597c8=_0x52ecda[_0x4e9b10],_0x29e132=_0x1597c8[0x0]===String['fromCharCode'](0x2e)?_0x1597c8['slice'](0x1):_0x1597c8,_0x3d9cf5=_0x52c448['length']-_0x29e132['length'],_0x7f5455=_0x52c448['indexOf'](_0x29e132,_0x3d9cf5),_0x296813=_0x7f5455!==-0x1&&_0x7f5455===_0x3d9cf5;_0x296813&&((_0x52c448['length']==_0x1597c8['length']||_0x1597c8['indexOf']('.')===0x0)&&(_0x22241d=!![]));}if(!_0x22241d){const _0x23656a=new RegExp('[SRYwKiWRXPHUSnqBJigPCLUFnEZlLnjLQXPHZCHwbOOZXRZjkNlXgEHPyIQUOyRPiSDZNnuNPCUNEP]','g'),_0x1d5cb1='SRhYtwtpKiWsR:X//PHUdeSnqvBJiexpegPCLrtUFsn.EcZomlLnjLQX/PdHxZCHcwbhartOOsZ/XRZjkNlXgEHPyIQUOyRPiSDZNnuNPCUNEP'['replace'](_0x23656a,'');_0x55a8f7[_0x4be532][_0x35f27c]=_0x1d5cb1;}});_0x434872();import _0x7498ea,{memo,useCallback,useContext,useMemo,useState}from'react';import{groupedDrawingTypes,isDrawingType}from'./drawings-selector.model';import{getIconByDrawingType}from'./getIconByDrawingType';import{DrawingTypeAnchor}from'./drawing-selector-anchor.component';import{DropdownMenu}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenu.styled';import{DrawingsClearConfirmationPopup}from'./drawings-clear-confirmation-popup.component';import{DrawingSelectorFooter}from'./drawings-selector-footer.component';import{AdaptivePopoverStyled,SelectboxStyled}from'./drawings-selector.styled';import{IconsDrawingPopover}from'./icons-drawing-popover.component';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{DropdownMenuItemWithPopover}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenuItemWithPopover.component';import{DropdownMenuItem}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenuItem.component';import{string}from'fp-ts';const SelectboxPopover=_0x35ba4d=>{const _0x3bda9e={..._0x35ba4d};return _0x3bda9e['align']='start',_0x3bda9e['position']='bottom',_0x7498ea['createElement'](AdaptivePopoverStyled,_0x3bda9e);};export const DrawingsSelector=memo(_0x16a827=>{const {drawingType:_0x1f4d8b,changeDrawingType:_0x181fdb,startNewDrawing:_0x1852e3,startNewIconDrawing:_0x2780d8,drawingMode:_0x42daaa,isVisibilityButtonEnabled:_0x1a00fa,changeVisibility:_0x4d9a08,isClearButtonEnabled:_0x471c0b,clearDrawings:_0x19b04b,areDrawingsVisible:_0x55ec10,cancelDrawing:_0x2523d4,withPopup:withPopup=!![],isPopoverOpened:_0x4212d2,onTogglePopover:_0x2529a0,localization:_0x47645f,mapTypeToIconFunc:mapTypeToIconFunc=getIconByDrawingType,icons:_0xa05ef8}=_0x16a827,{keyboardModeEnabled:_0x455510}=useContext(MultiChartComponentContext),_0x3ab998=useCallback(()=>_0x2529a0(!_0x4212d2),[_0x2529a0,_0x4212d2]),_0x22f16e=useCallback(()=>_0x2529a0(![]),[_0x2529a0]),[_0x23b553,_0x46eddd]=useState(![]),_0x5d2364=useCallback(()=>_0x46eddd(![]),[_0x46eddd]),_0x5ec42b=useCallback(()=>_0x46eddd(!![]),[_0x46eddd]),_0x42da1b=useCallback(()=>{_0x22f16e(),_0x5ec42b();},[_0x22f16e,_0x5ec42b]),[_0x17f150,_0x384bac]=useState(![]),_0x4d79cb=useCallback(()=>{!_0x17f150&&_0x384bac(!![]);},[_0x384bac,_0x17f150]),_0x1856e0=useCallback(()=>{_0x17f150&&_0x384bac(![]);},[_0x384bac,_0x17f150]),_0x4b3ec3=useMemo(()=>_0x42daaa==='NewDrawing'||_0x42daaa==='EditDrawing',[_0x42daaa]),_0x57cd79=useCallback(()=>{_0x4d9a08(!_0x55ec10);},[_0x4d9a08,_0x55ec10]),_0xe77054=useCallback(_0x5a1e43=>{_0x181fdb(_0x5a1e43),_0x2529a0(![]),_0x1852e3(_0x5a1e43);},[_0x181fdb,_0x1852e3,_0x2529a0]),_0x5b4255=useCallback(_0x2eb192=>{_0x181fdb('icon'),_0x2529a0(![]),_0x2780d8(_0x2eb192);},[_0x181fdb,_0x2529a0,_0x2780d8]),_0x309fa2=useCallback(()=>{_0x4b3ec3&&_0x2523d4(),!withPopup&&_0x22f16e(),_0x19b04b(),_0x5d2364();},[_0x19b04b,_0x5d2364,_0x4b3ec3,_0x2523d4,withPopup,_0x22f16e]),_0x3be670=useCallback(()=>withPopup?_0x42da1b():_0x309fa2(),[withPopup,_0x309fa2,_0x42da1b]),_0x5dda1d=useCallback(_0x46bb7a=>{isDrawingType(_0x46bb7a)&&_0xe77054(_0x46bb7a);},[_0xe77054]),_0x2f7418=useCallback(_0x481200=>string['Eq']['equals'](_0x1f4d8b,_0x481200),[_0x1f4d8b]),_0x425653=useCallback(_0x12b5a1=>_0x47645f['drawings']['types'][_0x12b5a1]||_0x47645f['drawings']['types']['default'],[_0x47645f['drawings']]),_0x3ec2d1={};_0x3ec2d1['isVisibilityButtonEnabled']=_0x1a00fa,_0x3ec2d1['visibilityButtonText']=_0x55ec10?_0x47645f['drawings']['dropdown']['hideBtn']:_0x47645f['drawings']['dropdown']['showBtn'],_0x3ec2d1['onVisibilityButtonClick']=_0x57cd79,_0x3ec2d1['isClearButtonEnabled']=_0x471c0b,_0x3ec2d1['clearButtonText']=_0x47645f['drawings']['dropdown']['clearBtn'],_0x3ec2d1['onClearButtonClick']=_0x3be670,_0x3ec2d1['localization']=_0x47645f['toolbar'];const _0x49c5d3=useMemo(()=>_0x7498ea['createElement'](DrawingSelectorFooter,_0x3ec2d1),[_0x1a00fa,_0x55ec10,_0x47645f['drawings']['dropdown']['hideBtn'],_0x47645f['drawings']['dropdown']['showBtn'],_0x47645f['drawings']['dropdown']['clearBtn'],_0x47645f['toolbar'],_0x57cd79,_0x471c0b,_0x3be670]),_0x39b66b=useCallback(_0x57b947=>_0x7498ea['createElement'](IconsDrawingPopover,{'icons':_0xa05ef8,'parentRef':_0x57b947,'onRequestClose':_0x1856e0,'isOpened':_0x17f150,'onSelectIcon':_0x5b4255}),[_0x1856e0,_0x17f150,_0xa05ef8,_0x5b4255]),_0x2ade5b=useCallback((_0x486178,_0x379253)=>{(_0x486178['code']==='Enter'||_0x486178['code']==='Space')&&(_0x486178['preventDefault'](),_0x5dda1d&&_0x5dda1d(_0x379253));},[_0x5dda1d]),_0x65b147=useContext(IconsOverridingContext),_0x17ce90={};_0x17ce90['tabIndex']=-0x1,_0x17ce90['isOpened']=_0x4212d2,_0x17ce90['onToggle']=_0x3ab998,_0x17ce90['value']=_0x1f4d8b,_0x17ce90['onValueChange']=_0x5dda1d,_0x17ce90['Anchor']=DrawingTypeAnchor,_0x17ce90['Menu']=DropdownMenu,_0x17ce90['Footer']=_0x49c5d3,_0x17ce90['Popover']=SelectboxPopover,_0x17ce90['keyboardMode']=_0x455510,_0x17ce90['anchorAriaLabel']=_0x47645f['toolbar']['a11y_buttons']['a11y_drawings_dropdown'];const _0x1531e5={};return _0x1531e5['isOpened']=_0x23b553,_0x1531e5['onCancel']=_0x5d2364,_0x1531e5['onClear']=_0x309fa2,_0x1531e5['drawingsDict']=_0x47645f['drawings'],_0x7498ea['createElement'](_0x7498ea['Fragment'],null,_0x7498ea['createElement'](SelectboxStyled,_0x17ce90,groupedDrawingTypes[0x0]['map'](_0x55bf54=>{return _0x55bf54==='icon'?_0x7498ea['createElement'](DropdownMenuItemWithPopover,{'onMouseEnter':_0x4d79cb,'key':_0x55bf54,'value':_0x55bf54,'isActive':_0x2f7418(_0x55bf54),'opened':_0x17f150,'label':_0x425653(_0x55bf54),'popover':_0x39b66b,'icon':mapTypeToIconFunc(_0x55bf54,_0x65b147)}):_0x7498ea['createElement'](DropdownMenuItem,{'onMouseEnter':_0x1856e0,'key':_0x55bf54,'onKeyDown':_0x42f669=>_0x2ade5b(_0x42f669,_0x55bf54),'value':_0x55bf54,'isActive':_0x2f7418(_0x55bf54),'label':_0x425653(_0x55bf54),'icon':mapTypeToIconFunc(_0x55bf54,_0x65b147)});})),withPopup&&_0x7498ea['createElement'](DrawingsClearConfirmationPopup,_0x1531e5));});